(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+7AZ":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return h})),n.d(t,"__generator",(function(){return u})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return m})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return k}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):h(s[0][2],n)}catch(r){h(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"+YLh":function(e,t,n){"use strict";n.r(t),t.default=".frame {\r\n    display: grid;\r\n    grid-template-columns: 2fr 1fr;\r\n    grid-template-rows: 1fr 1fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.frame .live-footage {\r\n    grid-row: 1 / 3;\r\n}\r\n\r\n.frame .location-on-map {\r\n    grid-column: 2;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.frame .camera-details {\r\n    grid-column: 2;\r\n}\r\n\r\n.camera-details>div {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}"},"/8dp":function(e,t,n){"use strict";n.r(t),t.default=""},"/RX3":function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"/ZYw":function(e,t,n){"use strict";n.r(t),t.default=".frame {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-template-rows: 1fr 1fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.frame .cameras-holder {\r\n    grid-row: 2;\r\n    grid-column: 1 / 3;\r\n}\r\n\r\n.frame .location-on-map {\r\n    grid-column: 2;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.frame .camera-details {\r\n    grid-column: 1;\r\n}\r\n\r\n.camera-details>div {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.cameras {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    grid-gap: 30px;\r\n    ;\r\n}\r\n\r\n.camera {\r\n    cursor: pointer;\r\n    padding: 5px;\r\n    box-shadow: 0 0 10px #aaa;\r\n    ;\r\n    border-radius: 10px;\r\n}"},0:function(e,t,n){e.exports=n("zUnb")},"0+mJ":function(e,t,n){var r=n("fg2H"),i=n("K/+X"),s=n("rfC7"),o=n("YzUL");t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,l=location.port;l||(l=a?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!o)throw new Error("JSONP disabled");return new s(e)},t.websocket=o},"0AIG":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n,r,o)=>s(e[1],t[1],n[1],r[1],o).map(s=>i(e[0],t[0],n[0],r[0],s)),i=(e,t,n,r,i)=>i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3),s=(e,t,n,r,i)=>o((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter(e=>e>=0&&e<=1),o=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const i=(3*(n/=e)-(t/=e)*t)/3,s=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-s,1/3)];if(0===s)return[Math.sqrt(-i),-Math.sqrt(-i)];const o=Math.pow(s/2,2)+Math.pow(i/3,3);if(0===o)return[Math.pow(s/2,.5)-t/3];if(o>0)return[Math.pow(-s/2+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-t/3];const a=Math.sqrt(Math.pow(-i/3,3)),l=Math.acos(-s/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]}},"0wxl":function(e,t,n){"use strict";n.r(t),t.default="<div id='container'>\n    <div class='wrapper'>\n        <h1 class='title'>DARTS</h1>\n        <p>Detection And Recognition with Tracking of Suspects</p>\n    </div>\n</div>"},"0zaL":function(e,t,n){var r=n("hWa/"),i=n("/RX3");function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=s,i(s.prototype),s.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},1:function(e,t){},"14A5":function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),s=n&&n.prototype.append&&n.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function a(e,t){t=t||{};var r=new n;return o(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function l(e,t){return new Blob(o(e),t||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=r?i?Blob:l:s?a:void 0},"1erT":function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1>Login as Authoritative Person</h1>\n        <form>\n            <label>Email:</label>\n            <input type=\'email\' name="email" [(ngModel)]="email" placeholder="Enter email here" />\n            <label>Password:</label>\n            <input type=\'password\' name="password" [(ngModel)]="password" placeholder="Enter password here" />\n            <button (click)="loginx()">Login as Authoritative Person</button>\n        </form>\n    </div>\n</div>'},"1iS/":function(e,t,n){"use strict";n.r(t),t.default="\r\n\r\n\r\n#container .wrapper .center {\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n            transform: translate(-50%, -50%);\r\n    width: 500px;\r\n    text-align: center;\r\n}\r\n#container .wrapper .center > * {\r\n    display: block;\r\n    padding: 10px 20px;\r\n    margin: 5px 10px;\r\n    text-align: center;\r\n    background: #ddd;\r\n    color: black;\r\n    text-decoration: none;\r\n}"},"2wNt":function(e,t,n){"use strict";n.r(t),t.default=".bar {\r\n    display: -webkit-box;\r\n    display: flex;\r\n}\r\n\r\n.bar h1 {}\r\n\r\n.bar>.buttons {\r\n    -webkit-box-flex: 1;\r\n            flex: 1;\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-pack: end;\r\n            justify-content: flex-end;\r\n    margin: 0 0 0 10px;\r\n    padding: 20px 0 10px 0;\r\n}\r\n\r\n.bar>.buttons>button {\r\n    border-radius: 5px;\r\n    background-color: #2ecc71;\r\n    color: white;\r\n}\r\n\r\n.bar>.buttons>button:hover {\r\n    background-color: #27ae60;\r\n}\r\n\r\n.suspects {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    grid-gap: 30px;\r\n    ;\r\n}\r\n\r\n.suspect {\r\n    cursor: pointer;\r\n    padding: 5px;\r\n    box-shadow: 0 0 10px #aaa;\r\n    ;\r\n    border-radius: 10px;\r\n}\r\n\r\n.big-banner {\r\n    height: 300px;\r\n    text-align: center;\r\n    line-height: 300px;\r\n    margin: 10px 0;\r\n    background: #3498db;\r\n}\r\n\r\n.big-banner button {\r\n    background: white !important;\r\n    color: black !important;\r\n    margin: 0 10px;\r\n}"},"30Go":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return h})),n.d(t,"__generator",(function(){return u})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return m})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return k}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):h(s[0][2],n)}catch(r){h(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"3JDX":function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function o(...e){if(!o.enabled)return;const t=o,i=Number(new Date),s=i-(n||i);t.diff=s,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const s=r.formatters[i];if("function"==typeof s){const r=e[a];n=s.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return o.namespace=e,o.enabled=r.enabled(e),o.useColors=r.useColors(),o.color=t(e),o.destroy=i,o.extend=s,"function"==typeof r.init&&r.init(o),r.instances.push(o),o}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(o),...r.skips.map(o).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n("FGiv"),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},"3PxP":function(e,t,n){"use strict";n.r(t),t.default='<div class=\'add-person\'>\n    <div class=\'image-holder\'>\n        <label for="" *ngIf="person.picture_url != null">Selected Image</label>\n\n        <img *ngIf="person.picture_url != null" [src]="person.picture_url" alt="" class=\'image\'>\n        <label>Picture</label>\n        <input type=\'file\' ng2FileSelect [uploader]="uploader" name="picture" (onFileSelected)="personPictureSelected($event)" (change)="pictureChanged($event)">\n    </div>\n    <div class=\'data-holder\'>\n        <label>Full Name</label>\n        <input type=\'text\' [(ngModel)]="person.fullName" name="fullName">\n        <label>Gender</label>\n        <select name="gender" [(ngModel)]="person.gender">\n            <option value="male">Male</option>\n            <option value="female">Female</option>\n            <option value="undisclosed">Undisclosed</option>\n        </select>\n        <label for=""></label>\n        <button (click)="addPerson()">Add a new Person</button>\n    </div>\n</div>'},"3exg":function(e,t,n){var r=n("0zaL"),i=n("TypT"),s=n("hWa/"),o=n("Yvos"),a=n("Aplp"),l=n("NOtv")("engine.io-client:polling");e.exports=h;var c=null!=new(n("fg2H"))({xdomain:!1}).responseType;function h(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}o(h,r),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(e){var t=this;function n(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){l("pre-pause polling complete"),--r||n()}))),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){l("pre-pause writing complete"),--r||n()})))}else n()},h.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(e){var t=this;l("polling got data %s",e);s.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},h.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},"4+Ds":function(e,t,n){e.exports=n("uKDP"),e.exports.parser=n("hWa/")},"50aJ":function(e,t,n){"use strict";n.r(t),t.default=".adjust-preprocessing>div {\r\n    display: grid;\r\n    grid-gap: 10px;\r\n    grid-template-columns: 2fr 4fr 1fr;\r\n}"},"54nT":function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return Pe})),n.d(t,"d",(function(){return Le})),n.d(t,"e",(function(){return Ne})),n.d(t,"f",(function(){return Me})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return $e})),n.d(t,"i",(function(){return z})),n.d(t,"j",(function(){return Re})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return R}));var r=n("AfW+");let i,s,o,a=0,l=!1,c=!1,h=!1,u=!1,d=!1;const p="undefined"!=typeof window?window:{},m=p.document||{head:{}},f={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r)},g=(()=>!!m.head.attachShadow)(),y=(()=>{let e=!1;try{m.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(t){}return e})(),v=(()=>{try{return new CSSStyleSheet,!0}catch(e){}return!1})(),_=new WeakMap,b=e=>_.get(e),w=(e,t)=>_.set(t.$lazyInstance$=e,t),C=(e,t)=>t in e,E=e=>console.error(e),S=new Map,x=new Map,k=[],T=[],O=[],A=(e,t)=>n=>{e.push(n),l||(l=!0,t&&4&f.$flags$?P(D):f.raf(D))},I=(e,t)=>{let n=0,r=0;for(;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(i){E(i)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},D=()=>{a++,(e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){E(t)}e.length=0})(k);const e=2==(6&f.$flags$)?performance.now()+10*Math.ceil(a*(1/22)):1/0;I(T,e),I(O,e),T.length>0&&(O.push(...T),T.length=0),(l=k.length+T.length+O.length>0)?f.raf(D):a=0},P=e=>Promise.resolve().then(e),N=A(k,!1),R=A(T,!0),M={},F=e=>"object"===(e=typeof e)||"function"===e,L=()=>p.CSS&&p.CSS.supports&&p.CSS.supports("color","var(--c)")?Promise.resolve():n.e(12).then(n.t.bind(null,"48AM",7)).then(()=>{if(f.$cssShim$=p.__stencil_cssshim,f.$cssShim$)return f.$cssShim$.initShim()}),j="http://www.w3.org/1999/xlink",$=new WeakMap,B=(e,t,n)=>{let r=x.get(e);v&&n?(r=r||new CSSStyleSheet,r.replace(t)):r=t,x.set(e,r)},V=(e,t,n,r)=>{let i=U(t.$tagName$,n),s=x.get(i);if(e=11===e.nodeType?e:m,s||(i=U(t.$tagName$),s=x.get(i)),s)if("string"==typeof s){e=e.head||e;let n,o=$.get(e);if(o||$.set(e,o=new Set),!o.has(i)){if(e.host&&(n=e.firstElementChild)&&"STYLE"===n.tagName)n.innerHTML=s;else{if(f.$cssShim$){n=f.$cssShim$.createHostStyle(r,i,s,!!(10&t.$flags$));const e=n["s-sc"];e&&(i=e,o=null)}else n=m.createElement("style"),n.innerHTML=s;e.insertBefore(n,e.querySelector("link"))}o&&o.add(i)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},U=(e,t)=>"sc-"+(t?e+"-"+t:e),z=(e,t,...n)=>{let r=null,i=null,s=null,o=!1,a=!1,l=[];const c=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof e&&!F(r))&&(r=String(r)),o&&a?l[l.length-1].$text$+=r:l.push(o?H(null,r):r),a=o)};if(c(n),t){t.key&&(i=t.key),t.name&&(s=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(t,l,W);const h=H(e,null);return h.$attrs$=t,l.length>0&&(h.$children$=l),h.$key$=i,h.$name$=s,h},H=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},q={},W={forEach:(e,t)=>e.map(G).forEach(t),map:(e,t)=>e.map(G).map(t).map(Q)},G=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Q=e=>{const t=H(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},K=(e,t,n,r,i,s)=>{if(n===r)return;let o=C(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,i=X(n),s=X(r);t.remove(...i.filter(e=>e&&!s.includes(e))),t.add(...s.filter(e=>e&&!i.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(o||"o"!==t[0]||"n"!==t[1]){const c=F(r);if((o||c&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{let i=null==r?"":r;"list"===t?o=!1:null!=n&&e[t]==i||(e[t]=i)}}catch(l){}let h=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,h=!0),null==r||!1===r?h?e.removeAttributeNS(j,t):e.removeAttribute(t):(!o||4&s||i)&&!c&&(r=!0===r?"":r,h?e.setAttributeNS(j,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):C(p,a)?a.slice(2):a[2]+t.slice(3),n&&f.rel(e,t,n,!1),r&&f.ael(e,t,r,!1)},Y=/\s/,X=e=>e?e.split(Y):[],Z=(e,t,n,r)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||M,o=t.$attrs$||M;for(r in s)r in o||K(i,r,s[r],void 0,n,t.$flags$);for(r in o)K(i,r,s[r],o[r],n,t.$flags$)},J=(e,t,n,r)=>{let a,l,h,p=t.$children$[n],f=0;if(c||(u=!0,"slot"===p.$tag$&&(i&&r.classList.add(i+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)a=p.$elm$=m.createTextNode(p.$text$);else if(1&p.$flags$)a=p.$elm$=m.createTextNode("");else{if(d||(d="svg"===p.$tag$),a=p.$elm$=m.createElementNS(d?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),d&&"foreignObject"===p.$tag$&&(d=!1),Z(null,p,d),null!=i&&a["s-si"]!==i&&a.classList.add(a["s-si"]=i),p.$children$)for(f=0;f<p.$children$.length;++f)l=J(e,p,f,a),l&&a.appendChild(l);"svg"===p.$tag$?d=!1:"foreignObject"===a.tagName&&(d=!0)}return a["s-hn"]=o,3&p.$flags$&&(a["s-sr"]=!0,a["s-cr"]=s,a["s-sn"]=p.$name$||"",h=e&&e.$children$&&e.$children$[n],h&&h.$tag$===p.$tag$&&e.$elm$&&ee(e.$elm$,!1)),a},ee=(e,t)=>{f.$flags$|=1;const n=e.childNodes;for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==o&&e["s-ol"]&&(se(e).insertBefore(e,ie(e)),e["s-ol"].remove(),e["s-ol"]=void 0,u=!0),t&&ee(e,t)}f.$flags$&=-2},te=(e,t,n,r,i,s)=>{let a,l=e["s-cr"]&&e["s-cr"].parentNode||e;for(l.shadowRoot&&l.tagName===o&&(l=l.shadowRoot);i<=s;++i)r[i]&&(a=J(null,n,i,e),a&&(r[i].$elm$=a,l.insertBefore(a,ie(t))))},ne=(e,t,n,r,i)=>{for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,he(r),h=!0,i["s-ol"]?i["s-ol"].remove():ee(i,!0),i.remove())},re=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),ie=e=>e&&e["s-ol"]||e,se=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,oe=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,i=t.$children$;let s;d=n&&n.parentNode&&void 0!==n.ownerSVGElement,d="svg"===t.$tag$||"foreignObject"!==t.$tag$&&d,null===t.$text$?("slot"===t.$tag$||Z(e,t,d),null!==r&&null!==i?((e,t,n,r)=>{let i,s,o=0,a=0,l=0,c=0,h=t.length-1,u=t[0],d=t[h],p=r.length-1,m=r[0],f=r[p];for(;o<=h&&a<=p;)if(null==u)u=t[++o];else if(null==d)d=t[--h];else if(null==m)m=r[++a];else if(null==f)f=r[--p];else if(re(u,m))oe(u,m),u=t[++o],m=r[++a];else if(re(d,f))oe(d,f),d=t[--h],f=r[--p];else if(re(u,f))"slot"!==u.$tag$&&"slot"!==f.$tag$||ee(u.$elm$.parentNode,!1),oe(u,f),e.insertBefore(u.$elm$,d.$elm$.nextSibling),u=t[++o],f=r[--p];else if(re(d,m))"slot"!==u.$tag$&&"slot"!==f.$tag$||ee(d.$elm$.parentNode,!1),oe(d,m),e.insertBefore(d.$elm$,u.$elm$),d=t[--h],m=r[++a];else{for(l=-1,c=o;c<=h;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===m.$key$){l=c;break}l>=0?(s=t[l],s.$tag$!==m.$tag$?i=J(t&&t[a],n,l,e):(oe(s,m),t[l]=void 0,i=s.$elm$),m=r[++a]):(i=J(t&&t[a],n,a,e),m=r[++a]),i&&se(u.$elm$).insertBefore(i,ie(u.$elm$))}o>h?te(e,null==r[p+1]?null:r[p+1].$elm$,n,r,a,p):a>p&&ne(t,o,h)})(n,r,t,i):null!==i?(null!==e.$text$&&(n.textContent=""),te(n,null,t,i,0,i.length-1)):null!==r&&ne(r,0,r.length-1)):(s=n["s-cr"])?s.parentNode.textContent=t.$text$:e.$text$!==t.$text$&&(n.data=t.$text$),d&&"svg"===t.$tag$&&(d=!1)},ae=e=>{let t,n,r,i,s,o,a=e.childNodes;for(n=0,r=a.length;n<r;n++)if(t=a[n],1===t.nodeType){if(t["s-sr"])for(s=t["s-sn"],t.hidden=!1,i=0;i<r;i++)if(a[i]["s-hn"]!==t["s-hn"])if(o=a[i].nodeType,""!==s){if(1===o&&s===a[i].getAttribute("slot")){t.hidden=!0;break}}else if(1===o||3===o&&""!==a[i].textContent.trim()){t.hidden=!0;break}ae(t)}},le=[],ce=e=>{let t,n,r,i,s=e.childNodes,o=s.length,a=0,l=0,c=0;for(o=s.length;a<o;a++){if(t=s[a],t["s-sr"]&&(n=t["s-cr"]))for(r=n.parentNode.childNodes,i=t["s-sn"],l=r.length-1;l>=0;l--)n=r[l],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(c=n.nodeType,((3===c||8===c)&&""===i||1===c&&null===n.getAttribute("slot")&&""===i||1===c&&n.getAttribute("slot")===i)&&(le.some(e=>e.$nodeToRelocate$===n)||(h=!0,n["s-sn"]=i,le.push({$slotRefNode$:t,$nodeToRelocate$:n}))));1===t.nodeType&&ce(t)}},he=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.forEach(he)},ue=(e,t,n,r)=>{o=e.tagName;const a=t.$vnode$||H(null,null),l=(d=r)&&d.$tag$===q?r:z(null,null,r);var d;if(n.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},n.$attrsToReflect$.forEach(([t,n])=>l.$attrs$[n]=e[t])),l.$tag$=null,l.$flags$|=4,t.$vnode$=l,l.$elm$=a.$elm$=e.shadowRoot||e,i=e["s-sc"],s=e["s-cr"],c=g&&0!=(1&n.$flags$),h=!1,oe(a,l),u){ce(l.$elm$);for(let e=0;e<le.length;e++){const t=le[e];if(!t.$nodeToRelocate$["s-ol"]){const e=m.createTextNode("");e["s-nr"]=t.$nodeToRelocate$,t.$nodeToRelocate$.parentNode.insertBefore(t.$nodeToRelocate$["s-ol"]=e,t.$nodeToRelocate$)}}f.$flags$|=1;for(let e=0;e<le.length;e++){const t=le[e],n=t.$slotRefNode$.parentNode;let r=t.$slotRefNode$.nextSibling,i=t.$nodeToRelocate$["s-ol"];for(;i=i.previousSibling;){let e=i["s-nr"];if(e&&e["s-sn"]===t.$nodeToRelocate$["s-sn"]&&n===e.parentNode&&(e=e.nextSibling,!e||!e["s-nr"])){r=e;break}}(!r&&n!==t.$nodeToRelocate$.parentNode||t.$nodeToRelocate$.nextSibling!==r)&&t.$nodeToRelocate$!==r&&n.insertBefore(t.$nodeToRelocate$,r)}f.$flags$&=-2}h&&ae(l.$elm$),le.length=0},de=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},pe=(e,t,n,r)=>{if(t.$flags$|=16,4&t.$flags$)return void(t.$flags$|=512);const i=(n.$tagName$,()=>{}),s=t.$ancestorComponent$,o=t.$lazyInstance$,a=()=>me(e,t,n,o,r);let l;return de(t,s),r&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.forEach(([e,t])=>ve(o,e,t)),t.$queuedListeners$=null),l=ve(o,"componentWillLoad")),l=_e(l,()=>ve(o,"componentWillRender")),i(),_e(l,()=>R(a))},me=(e,t,n,r,i)=>{const s=(n.$tagName$,()=>{}),o=e["s-rc"];i&&((e,t,n)=>{const r=(t.$tagName$,()=>{}),i=V(g&&e.shadowRoot?e.shadowRoot:e.getRootNode(),t,n,e);10&t.$flags$&&(e["s-sc"]=i,e.classList.add(i+"-h"),2&t.$flags$&&e.classList.add(i+"-s")),r()})(e,n,t.$modeName$);const a=(n.$tagName$,()=>{});ue(e,t,n,fe(r)),f.$cssShim$&&f.$cssShim$.updateHost(e),t.$flags$&=-17,t.$flags$|=2,o&&(o.forEach(e=>e()),e["s-rc"]=void 0),a(),s();{const r=e["s-p"],i=()=>ge(e,t,n);0===r.length?i():(Promise.all(r).then(i),t.$flags$|=4,r.length=0)}},fe=(e,t)=>{try{e=e.render&&e.render()}catch(n){E(n)}return e},ge=(e,t,n)=>{const r=(n.$tagName$,()=>{}),i=t.$lazyInstance$,s=t.$ancestorComponent$;64&t.$flags$?(ve(i,"componentDidUpdate"),r()):(t.$flags$|=64,e.classList.add("hydrated"),ve(i,"componentDidLoad"),r(),t.$onReadyResolve$(e),s||ye()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&P(()=>pe(e,t,n,!1)),t.$flags$&=-517},ye=e=>{m.documentElement.classList.add("hydrated"),f.$flags$|=2},ve=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){E(r)}},_e=(e,t)=>e&&e.then?e.then(t):t(),be=(e,t,n,r)=>{const i=b(e),s=i.$hostElement$,o=i.$instanceValues$.get(t),a=i.$flags$,l=i.$lazyInstance$;var c,h;if(c=n,h=r.$members$[t][0],!((n=null==c||F(c)?c:4&h?"false"!==c&&(""===c||!!c):2&h?parseFloat(c):1&h?String(c):c)===o||8&a&&void 0!==o)&&(i.$instanceValues$.set(t,n),l)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.forEach(e=>{try{l[e](n,o,t)}catch(r){E(r)}})}2==(18&a)&&pe(s,i,r,!1)}},we=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),i=e.prototype;if(r.forEach(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(i,e,{get(){return t=e,b(this).$instanceValues$.get(t);var t},set(n){be(this,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(i,e,{value(...t){const n=b(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const n=new Map;i.attributeChangedCallback=function(e,t,r){f.jmp(()=>{const t=n.get(e);this[t]=(null!==r||"boolean"!=typeof this[t])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,r])=>{const i=r[1]||e;return n.set(i,e),512&r[0]&&t.$attrsToReflect$.push([e,i]),i})}}return e},Ce=(e,t)=>n=>{256&e.$flags$?e.$lazyInstance$[t](n):e.$queuedListeners$.push([t,n])},Ee=(e,t)=>4&t?m:8&t?p:32&t?m.body:16&t?e.parentElement:e,Se=e=>y?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e),xe=(e,t,n,r,i,s,o)=>{let a,l,c,h;if(1===s.nodeType){for(a=s.getAttribute("c-id"),a&&(l=a.split("."),l[0]!==o&&"0"!==l[0]||(c={$flags$:0,$hostId$:l[0],$nodeId$:l[1],$depth$:l[2],$index$:l[3],$tag$:s.tagName.toLowerCase(),$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(c),s.removeAttribute("c-id"),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c,e=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))),h=s.childNodes.length-1;h>=0;h--)xe(e,t,n,r,i,s.childNodes[h],o);if(s.shadowRoot)for(h=s.shadowRoot.childNodes.length-1;h>=0;h--)xe(e,t,n,r,i,s.shadowRoot.childNodes[h],o)}else if(8===s.nodeType)l=s.nodeValue.split("."),l[1]!==o&&"0"!==l[1]||(a=l[0],c={$flags$:0,$hostId$:l[1],$nodeId$:l[2],$depth$:l[3],$index$:l[4],$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(c.$elm$=s.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,t.push(c),s.remove(),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))):c.$hostId$===o&&("s"===a?(c.$tag$="slot",l[5]?s["s-sn"]=c.$name$=l[5]:s["s-sn"]="",s["s-sr"]=!0,r&&(c.$elm$=m.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),s.parentNode.insertBefore(c.$elm$,s),s.remove(),"0"===c.$depth$&&(r[c.$index$]=c.$elm$)),n.push(c),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c):"r"===a&&(r?s.remove():(i["s-cr"]=s,s["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=H(null,s.textContent);t.$elm$=s,t.$index$="0",e.$children$=[t]}},ke=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)ke(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)ke(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},Te=[],Oe=async(e,t,r,i,s)=>{if(0==(32&t.$flags$)){t.$flags$|=32,null==t.$modeName$&&(t.$modeName$="string"!=typeof r.$lazyBundleIds$?(e=>Te.map(t=>t(e)).find(e=>!!e))(e):"");{if((s=((e,t,r)=>{const i=e.$tagName$.replace(/-/g,"_"),s="string"!=typeof e.$lazyBundleIds$?e.$lazyBundleIds$[t.$modeName$]:e.$lazyBundleIds$,o=S.get(s);return o?o[i]:n("kLfG")(`./${s}.entry.js`).then(e=>(S.set(s,e),e[i]),E)})(r,t)).then){const e=()=>{};s=await s,e()}s.isProxied||(r.$watchers$=s.watchers,we(s,r,2),s.isProxied=!0);const e=(r.$tagName$,()=>{});t.$flags$|=8;try{new s(t)}catch(l){E(l)}t.$flags$&=-9,t.$flags$|=128,e(),Ae(t.$lazyInstance$)}const i=U(r.$tagName$,t.$modeName$);if(!x.has(i)&&s.style){const e=(r.$tagName$,()=>{});let o=s.style;"string"!=typeof o&&(o=o[t.$modeName$]),8&r.$flags$&&(o=await n.e(95).then(n.bind(null,"94vs")).then(e=>e.scopeCss(o,i,!1))),B(i,o,!!(1&r.$flags$)),e()}}const o=t.$ancestorComponent$,a=()=>pe(e,t,r,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()},Ae=e=>{ve(e,"connectedCallback")},Ie=(e,t)=>{if(0==(1&f.$flags$)){const n=(t.$tagName$,()=>{}),r=b(e);if(t.$listeners$&&(r.$rmListeners$=((e,t,n)=>{t.$queuedListeners$=t.$queuedListeners$||[];const r=n.map(([n,r,i])=>{const s=Ee(e,n),o=Ce(t,i),a=Se(n);return f.ael(s,r,o,a),()=>f.rel(s,r,o,a)});return()=>r.forEach(e=>e())})(e,r,t.$listeners$)),!(1&r.$flags$)){let n;if(r.$flags$|=1,n=e.getAttribute("s-id"),n){if(g&&1&t.$flags$){const n=V(e.shadowRoot,t,e.getAttribute("s-mode"));e.classList.remove(n+"-h",n+"-s")}((e,t,n,r)=>{const i=()=>{},s=e.shadowRoot,o=[],a=s?[]:null,l=r.$vnode$=H(t,null);f.$orgLocNodes$||ke(m.body,f.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute("s-id"),xe(l,o,[],a,e,e,n),o.forEach(e=>{const n=e.$hostId$+"."+e.$nodeId$,r=f.$orgLocNodes$.get(n),i=e.$elm$;r&&g&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),s||(i["s-hn"]=t,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),f.$orgLocNodes$.delete(n)}),s&&a.forEach(e=>{e&&s.appendChild(e)}),i()})(e,t.$tagName$,n,r)}n||(4&t.$flags$||8&t.$flags$)&&De(e);{let t=e;for(;t=t.parentNode||t.host;)if(1===t.nodeType&&t.hasAttribute("s-id")||t["s-p"]){de(r,r.$ancestorComponent$=t);break}}t.$members$&&Object.entries(t.$members$).forEach(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),P(()=>Oe(e,r,t))}Ae(r.$lazyInstance$),n()}},De=e=>{const t=e["s-cr"]=m.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Pe=(e,t={})=>{const n=()=>{},r=[],i=t.exclude||[],s=m.head,o=p.customElements,a=s.querySelector("meta[charset]"),l=m.createElement("style"),c=[];let h,u=!0;Object.assign(f,t),f.$resourcesUrl$=new URL(t.resourcesUrl||"./",m.baseURI).href,t.syncQueue&&(f.$flags$|=4),f.$flags$|=2;{const e=m.querySelectorAll("style[s-id]");for(let t=0;t<e.length;t++){const n=e[t];B(n.getAttribute("s-id"),n.innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0)}}e.forEach(e=>e[1].forEach(t=>{const n={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};n.$members$=t[2],n.$listeners$=t[3],n.$attrsToReflect$=[],n.$watchers$={},!g&&1&n.$flags$&&(n.$flags$|=8);const s=n.$tagName$,a=class extends HTMLElement{constructor(e){super(e),(e=>{const t={$flags$:0,$hostElement$:e,$instanceValues$:new Map};t.$onInstancePromise$=new Promise(e=>t.$onInstanceResolve$=e),t.$onReadyPromise$=new Promise(e=>t.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],_.set(e,t)})(e=this),1&n.$flags$&&(g?e.attachShadow({mode:"open"}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){h&&(clearTimeout(h),h=null),u?c.push(this):f.jmp(()=>Ie(this,n))}disconnectedCallback(){f.jmp(()=>(e=>{if(0==(1&f.$flags$)){const t=b(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$(),t.$rmListeners$=void 0),f.$cssShim$&&f.$cssShim$.removeHost(e),ve(n,"disconnectedCallback"),ve(n,"componentDidUnload")}})(this))}forceUpdate(){((e,t)=>{{const n=b(e),r=n.$hostElement$.isConnected;r&&2==(18&n.$flags$)&&pe(e,n,t,!1)}})(this,n)}componentOnReady(){return b(this).$onReadyPromise$}};n.$lazyBundleIds$=e[0],i.includes(s)||o.get(s)||(r.push(s),o.define(s,we(a,n,1)))})),l.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",l.setAttribute("data-styles",""),s.insertBefore(l,a?a.nextSibling:s.firstChild),u=!1,c.length>0?c.forEach(e=>e.connectedCallback()):f.jmp(()=>h=setTimeout(ye,30,"timeout")),n()},Ne=(e,t,n)=>{const r=Me(e);return{emit:e=>{const i=new CustomEvent(t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e});return r.dispatchEvent(i),i}}},Re=e=>{const t=new URL(e,f.$resourcesUrl$);return t.origin!==p.location.origin?t.href:t.pathname},Me=e=>b(e).$hostElement$;let Fe;const Le=e=>e&&(e=>b(e).$modeName$)(e)||Fe,je=()=>{const e=document,t=window,n=t.Ionic=t.Ionic||{};Object(r.g)(t);const i=Object.assign(Object.assign(Object.assign(Object.assign({},Object(r.c)(t)),{persistConfig:!1}),n.config),Object(r.a)(t));var s;r.b.reset(i),r.b.getBoolean("persistConfig")&&Object(r.d)(t,i),n.config=r.b,n.mode=Fe=r.b.get("mode",e.documentElement.getAttribute("mode")||(Object(r.f)(t,"ios")?"ios":"md")),r.b.set("mode",Fe),e.documentElement.setAttribute("mode",Fe),e.documentElement.classList.add(Fe),r.b.getBoolean("_testing")&&r.b.set("animated",!1),s=e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t)return t;e=e.parentElement}return Fe},Te.push(s)},$e=()=>{je()}},"5EJm":function(e,t,n){"use strict";n.r(t),t.default="<div id='container'>\n    <div class='wrapper'>\n        <h1>Viewing Alert</h1>\n        <p>When was this alert generated: {{alert.time}}</p>\n        <p>ID: {{alert._id}}</p>\n        <div *ngIf=\"alert\" class='alert-holder'>\n            <div class='frame-holder'>\n                <h2>Captured Frame: </h2>\n                <img src=\"{{alert.frame_url}}\" alt=\"\">\n            </div>\n            <div class='suspect-holder'>\n                <h2>Suspect Information</h2>\n                <p>Click on suspect to view additional information</p>\n                <app-suspect-details [suspect]=\"alert.suspectId\"></app-suspect-details>\n\n\n            </div>\n        </div>\n        <div *ngIf=\"!alert\">\n            Loading alert\n        </div>\n    </div>\n</div>"},"6C75":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"6Z7b":function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        \x3c!-- <p>add-ap works!</p> --\x3e\n        <h1>Add an Authoritative Person</h1>\n        <h2>Select Person</h2>\n        <div>\n            <div id=\'available-aps\'>\n                <h3 [class.done]="ap.personId != \'\'" [class.ion-checkmark-circled]="ap.personId != \'\'">Available People\n                </h3>\n                <div *ngIf="ap.personId == \'\'">\n                    <p>Click to select the person</p>\n\n                    <div class=\'person-holder\'>\n                        \x3c!-- available people --\x3e\n                        <div *ngFor="let p of people; let i = index" (click)="selectPerson(p, i)" title="p.fullName">\n                            \x3c!-- <img src="{{p.picture_url}}" /> {{p._id}} {{p.fullName}} {{p.gender}} {{p.picture_url}} --\x3e\n                            <app-person-details [person]="p"></app-person-details>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <h3 [class.done]="ap.personId != \'\'" [class.ion-checkmark-circled]="ap.personId != \'\'">Add a person</h3>\n                <div *ngIf="ap.personId == \'\'">\n                    <h2>Add A New Person</h2>\n                    <app-add-person [toaster]="toaster" [url]="url" (personAdded)="personAdded($event)">\n                    </app-add-person>\n                </div>\n            </div>\n        </div>\n        <h2>Privileges</h2>\n        <div>\n            <div *ngFor="let p of priv; let i = index">\n                <input type=\'checkbox\' name="pri" value="{{p.name}}" (change)="priv[i].checked = $event.target.checked;" /> - {{p.name}}\n            </div>\n        </div>\n\n        <h2>Login Credentials</h2>\n        <p>Password will be emailed to the owner of this account!</p>\n        <div>\n            <h4>Person Selected: {{personSelected.fullName}} <button class=\'button\' (click)="resetSelection()">Reset\n                    Selection</button></h4>\n        </div>\n        <div>\n            <label for="">*Email Address</label>\n            <input type=\'email\' placeholder="Email Address" [(ngModel)]="ap.email" />\n            <button class=" button " (click)="addAp() ">Add this Authoritative Person</button>\n        </div>\n    </div>\n</div>'},"6cBd":function(e,t,n){"use strict";n.r(t),t.default=".map-with-navigation {\r\n    width: 100%;\r\n}\r\n\r\n.map-with-navigation .map {\r\n    width: 100%;\r\n    height: 300px;\r\n}"},"7TZ+":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return m}));var r=n("AfW+"),i=n("EV1M");let s=0;const o=new WeakMap,a=e=>({create:t=>g(e,t),dismiss:(t,n,r)=>v(document,t,n,e,r),getTop:async()=>_(document,e)}),l=a("ion-alert"),c=a("ion-action-sheet"),h=a("ion-loading"),u=a("ion-modal"),d=a("ion-picker"),p=a("ion-popover"),m=a("ion-toast"),f=e=>{const t=document;y(t);const n=s++;e.overlayIndex=n,e.hasAttribute("id")||(e.id=`ion-overlay-${n}`)},g=(e,t)=>customElements.whenDefined(e).then(()=>{const n=document,r=n.createElement(e);return r.classList.add("overlay-hidden"),Object.assign(r,t),C(n).appendChild(r),r.componentOnReady()}),y=e=>{0===s&&(s=1,e.addEventListener("focusin",t=>{const n=_(e);if(n&&n.backdropDismiss&&!T(n,t.target)){const e=n.querySelector("input,button");e&&e.focus()}}),e.addEventListener("ionBackButton",t=>{const n=_(e);n&&n.backdropDismiss&&t.detail.register(i.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,I))}),e.addEventListener("keyup",t=>{if("Escape"===t.key){const t=_(e);t&&t.backdropDismiss&&t.dismiss(void 0,I)}}))},v=(e,t,n,r,i)=>{const s=_(e,r,i);return s?s.dismiss(t,n):Promise.reject("overlay does not exist")},_=(e,t,n)=>{const r=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)))(e,t);return void 0===n?r[r.length-1]:r.find(e=>e.id===n)},b=async(e,t,n,i,s)=>{if(e.presented)return;e.presented=!0,e.willPresent.emit();const o=e.enterAnimation?e.enterAnimation:r.b.get(t,"ios"===e.mode?n:i);await E(e,o,e.el,s)&&e.didPresent.emit()},w=async(e,t,n,i,s,a,l)=>{if(!e.presented)return!1;e.presented=!1;try{e.willDismiss.emit({data:t,role:n});const c=e.leaveAnimation?e.leaveAnimation:r.b.get(i,"ios"===e.mode?s:a);"gesture"!==n&&await E(e,c,e.el,l),e.didDismiss.emit({data:t,role:n}),o.delete(e)}catch(c){console.error(c)}return e.el.remove(),!0},C=e=>e.querySelector("ion-app")||e.body,E=async(e,t,n,i)=>{n.classList.remove("overlay-hidden");const s=t(n.shadowRoot||e.el,i);e.animated&&r.b.getBoolean("animated",!0)||s.duration(0),e.keyboardClose&&s.beforeAddWrite(()=>{const e=n.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()});const a=o.get(e)||[];return o.set(e,[...a,s]),await s.play(),!0},S=(e,t)=>{let n;const r=new Promise(e=>n=e);return x(e,t,e=>{n(e.detail)}),r},x=(e,t,n)=>{const r=i=>{e.removeEventListener(t,r),n(i)};e.addEventListener(t,r)},k=e=>"cancel"===e||e===I,T=(e,t)=>{for(;t;){if(t===e)return!0;t=t.parentElement}return!1},O=e=>e(),A=(e,t)=>{if("function"==typeof e){return r.b.get("_zoneGate",O)(()=>{try{return e(t)}catch(n){console.error(n)}})}},I="backdrop"},"7jRU":function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},"8Fi6":function(e,t,n){"use strict";n.r(t),t.default="<div id='container'>\n    <div class='wrapper'>\n        <h1>Welcome to one-time login for QR Unit</h1>\n        <p>Please open the 'DARTS' app on the phone and scan the QR Code to login</p>\n        <div style='text-align: center;'>\n            <img style='width: 200px;' src=\"https://darts-web-server.herokuapp.com/images/{{authId}}\">\n        </div>\n        <div>When the app correctly scans the QR Code you can go back.</div>\n    </div>\n</div>"},"8IGC":function(e,t,n){"use strict";n.r(t),t.default=""},"9SiX":function(e,t,n){"use strict";n.r(t),t.default=".frame {\r\n    display: grid;\r\n    grid-template-columns: 2fr 1fr;\r\n    grid-template-rows: 1fr 1fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.frame .live-footage {\r\n    grid-row: 1 / 3;\r\n}\r\n\r\n.frame .location-on-map {\r\n    grid-column: 2;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.frame .aapc {\r\n    grid-column: 1;\r\n    grid-row: 3;\r\n}\r\n\r\n.frame .camera-details {\r\n    grid-column: 2;\r\n}\r\n\r\n.camera-details>div {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}"},A3xY:function(e,t,n){"use strict";n.r(t),t.default=""},"AQs/":function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1>Viewing Server {{ \'(\' + server.name + \')\'}}: {{server._id}}</h1>\n        <div class=\'frame\'>\n\n            <form class=\'camera-details\'>\n                \x3c!-- can edit camera details here  --\x3e\n                <h1>Server Details</h1>\n                <div>\n                    <label>Name: </label>\n                    <input type=\'text\' [(ngModel)]="server.name" name=\'name\' />\n                    <label>Url: </label>\n                    <input type=\'url\' [(ngModel)]="server.url" name=\'url\' />\n                    <label>Location </label>\n\n                    \x3c!-- filler --\x3e\n                    <label for=""></label>\n\n                    <label>Longitude: </label>\n                    <input type=\'number\' [(ngModel)]="server.longitude" name=\'longitude\' />\n                    <label>Latitude: </label>\n                    <input type=\'number\' [(ngModel)]="server.latitude" name=\'latitude\' />\n\n\n                    <button (click)="deleteServer()" style="background-color:#e74c3c; color: white;">Delete</button>\n\n                    <button (click)="updateServer()" style="background-color:#2980b9; color: white;">Update</button>\n                </div>\n            </form>\n            <agm-map (mapClick)="choseThisLocation($event)" class=\'location-on-map\' [latitude]="server.latitude" [longitude]="server.longitude" [zoom]="16">\n                <agm-marker [longitude]="server.longitude" [latitude]="server.latitude"></agm-marker>\n            </agm-map>\n            <div class=\'cameras-holder\'>\n                \x3c!-- place cameras here --\x3e\n                <h2>Cameras connected to this server: {{server.cameras.length}}</h2>\n                <div class=\'cameras\'>\n                    <app-camera-details *ngFor="let camera of server.cameras" routerLink="/admin/cameras/{{camera._id}}" [camera]="camera"></app-camera-details>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},"AfW+":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s}));const r=e=>s(e),i=(e,t)=>("string"==typeof e&&(t=e,e=void 0),r(e).includes(t)),s=(e=window)=>{e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=o(e),t.forEach(t=>e.document.documentElement.classList.add(`plt-${t}`))),t},o=e=>Object.keys(f).filter(t=>f[t](e)),a=e=>!!p(e,/iPad/i)||!(!p(e,/Macintosh/i)||!c(e)),l=e=>p(e,/android|sink/i),c=e=>m(e,"(any-pointer:coarse)"),h=e=>u(e)||d(e),u=e=>!!(e.cordova||e.phonegap||e.PhoneGap),d=e=>{const t=e.Capacitor;return!(!t||!t.isNative)},p=(e,t)=>t.test(e.navigator.userAgent),m=(e,t)=>e.matchMedia(t).matches,f={ipad:a,iphone:e=>p(e,/iPhone/i),ios:e=>p(e,/iPhone|iPod/i)||a(e),android:l,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return a(e)||(e=>l(e)&&!p(e,/mobile/i))(e)||r>460&&r<820&&i>780&&i<1400},cordova:u,capacitor:d,electron:e=>p(e,/electron/i),pwa:e=>!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone),mobile:c,mobileweb:e=>c(e)&&!h(e),desktop:e=>!c(e),hybrid:h};class g{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const y=new g,v=e=>{try{const t=e.sessionStorage.getItem(E);return null!==t?JSON.parse(t):{}}catch(t){return{}}},_=(e,t)=>{try{e.sessionStorage.setItem(E,JSON.stringify(t))}catch(n){return}},b=e=>{const t={};return e.location.search.slice(1).split("&").map(e=>e.split("=")).map(([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)]).filter(([e])=>w(e,C)).map(([e,t])=>[e.slice(C.length),t]).forEach(([e,n])=>{t[e]=n}),t},w=(e,t)=>e.substr(0,t.length)===t,C="ionic:",E="ionic-persist-config"},Aplp:function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s={},o=0,a=0;function l(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=l(+new Date);return e!==r?(o=0,r=e):e+"."+l(o++)}for(;a<64;a++)s[i[a]]=a;c.encode=l,c.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+s[e.charAt(a)];return t},e.exports=c},AzGJ:function(e,t,n){"use strict";n.r(t),n.d(t,"GESTURE_CONTROLLER",(function(){return o})),n.d(t,"createGesture",(function(){return u}));class r{constructor(e,t,n,r,i){this.id=t,this.name=n,this.disableScroll=i,this.priority=1e6*r+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class i{constructor(e,t,n,r){this.id=t,this.disable=n,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const s="backdrop-no-scroll",o=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new i(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const r=this.requestedStart;let i=-1e4;if(r.forEach(e=>{i=Math.max(i,e)}),i===n){this.capturedId=t,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(s)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(s)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}},a=(e,t,n,r)=>{const i=l(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let s,o;return e.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(s="addEventListener",o="removeEventListener"),e[s](t,n,i),()=>{e[o](t,n,i)}},l=e=>{if(void 0===c)try{const t=Object.defineProperty({},"passive",{get:()=>{c=!0}});e.addEventListener("optsTest",()=>{},t)}catch(t){c=!1}return!!c};let c;const h=e=>e instanceof Document?e:e.ownerDocument,u=e=>{let t=!1,n=!1,r=!0,i=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),l=s.canStart,c=s.onWillStart,u=s.onStart,f=s.onEnd,g=s.notCaptured,y=s.onMove,v=s.threshold,_={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=((e,t,n)=>{const r=n*(Math.PI/180),i="x"===e,s=Math.cos(r),o=t*t;let a=0,l=0,c=!1,h=0;return{start(e,t){a=e,l=t,h=0,c=!0},detect(e,t){if(!c)return!1;const n=e-a,r=t-l,u=n*n+r*r;if(u<o)return!1;const d=Math.sqrt(u),p=(i?n:r)/d;return h=p>s?1:p<-s?-1:0,c=!1,!0},isGesture:()=>0!==h,getDirection:()=>h}})(s.direction,s.threshold,s.maxAngle),w=o.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),C=()=>{t&&(i=!1,y&&y(_))},E=()=>!(w&&!w.capture())&&(t=!0,r=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime,c?c(_).then(S):S(),!0),S=()=>{u&&u(_),r=!0},x=()=>{t=!1,n=!1,i=!1,r=!0,w.release()},k=e=>{const n=t,i=r;x(),i&&(d(_,e),n?f&&f(_):g&&g(_))},T=((e,t,n,r,i)=>{let s,o,l,c,u,d,p,m=0;const f=r=>{m=Date.now()+2e3,t(r)&&(!o&&n&&(o=a(e,"touchmove",n,i)),l||(l=a(e,"touchend",y,i)),c||(c=a(e,"touchcancel",y,i)))},g=r=>{m>Date.now()||t(r)&&(!d&&n&&(d=a(h(e),"mousemove",n,i)),p||(p=a(h(e),"mouseup",v,i)))},y=e=>{_(),r&&r(e)},v=e=>{b(),r&&r(e)},_=()=>{o&&o(),l&&l(),c&&c(),o=l=c=void 0},b=()=>{d&&d(),p&&p(),d=p=void 0},w=()=>{_(),b()},C=(t=!0)=>{t?(s||(s=a(e,"touchstart",f,i)),u||(u=a(e,"mousedown",g,i))):(s&&s(),u&&u(),s=u=void 0,w())};return{enable:C,stop:w,destroy:()=>{C(!1),r=n=t=void 0}}})(s.el,e=>{const t=m(e);return!(n||!r)&&(p(e,_),_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime=t,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=e,(!l||!1!==l(_))&&(w.release(),!!w.start()&&(n=!0,0===v?E():(b.start(_.startX,_.startY),!0))))},e=>{t?!i&&r&&(i=!0,d(_,e),requestAnimationFrame(C)):(d(_,e),b.detect(_.currentX,_.currentY)&&(b.isGesture()&&E()||O()))},k,{capture:!1}),O=()=>{x(),T.stop(),g&&g(_)};return{enable(e=!0){e||(t&&k(void 0),x()),T.enable(e)},destroy(){w.destroy(),T.destroy()}}},d=(e,t)=>{if(!t)return;const n=e.currentX,r=e.currentY,i=e.currentTime;p(t,e);const s=e.currentX,o=e.currentY,a=(e.currentTime=m(t))-i;if(a>0&&a<100){const t=(s-n)/a,i=(o-r)/a;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*i+.3*e.velocityY}e.deltaX=s-e.startX,e.deltaY=o-e.startY,e.event=t},p=(e,t)=>{let n=0,r=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,r=e.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},m=e=>e.timeStamp||Date.now()},"C+Wy":function(e,t,n){"use strict";n.r(t),t.default=""},C2QD:function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},D3jF:function(e,t,n){"use strict";n.r(t),t.default='form > * {\r\n    display: block;\r\n}\r\nform input[type="text"],\r\nform input[type="email"],\r\nform input[type=\'password\'],\r\nform button {\r\n    padding: 5px 10px;\r\n    margin: 10px 0;\r\n}'},EV1M:function(e,t,n){"use strict";n.r(t),n.d(t,"MENU_BACK_BUTTON_PRIORITY",(function(){return o})),n.d(t,"OVERLAY_BACK_BUTTON_PRIORITY",(function(){return s})),n.d(t,"startHardwareBackButton",(function(){return r}));const r=()=>{const e=document;let t=!1;e.addEventListener("backbutton",()=>{if(t)return;const n=[],r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){n.push({priority:e,handler:t})}}});if(e.dispatchEvent(r),n.length>0){let e,r=Number.MIN_SAFE_INTEGER;n.forEach(({priority:t,handler:n})=>{t>=r&&(r=t,e=n)}),t=!0,i(e).then(()=>t=!1)}})},i=async e=>{try{if(e){const t=e();null!=t&&await t}}catch(t){console.error(t)}},s=100,o=99},FGiv:function(e,t){var n=1e3,r=6e4,i=36e5,s=24*i;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=i)return o(e,t,i,"hour");if(t>=r)return o(e,t,r,"minute");if(t>=n)return o(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},Fq31:function(e,t,n){"use strict";n.r(t),t.default="<div title=\"Click to view details of {{suspect.fullName}}\" class='suspect-details' *ngIf=\"suspect != null\" routerLink=\"/authoritative/suspects/{{suspect._id}}\">\n    <div class='image-holder'>\n        <img class='image' *ngIf=\"suspect.pictures.length > 0\" src=\"{{suspect.pictures[0]}}\" />\n        <div class='no-image' *ngIf=\"suspect.pictures.length == 0\">No Image Available</div>\n    </div>\n    <div class='details-holder'>\n        <label>Full Name: </label>\n        <label class='fullName'>{{suspect.fullName}}</label>\n        \x3c!--\n        <label>Gender: </label>\n        <label>{{suspect.gender}}</label>\n        <label>ID: </label>\n        <label>{{suspect._id}}</label>\n        --\x3e\n    </div>\n</div>"},GpOR:function(e,t,n){"use strict";n.r(t),t.default='<mat-form-field style="width: 100%" class="example-chip-list">\n    <mat-chip-list #chipList aria-label="Tags Selection">\n        <mat-chip *ngFor="let item of items" [selectable]="selectable" [removable]="removable" (removed)="remove(item)">\n            {{item}}\n            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>\n        </mat-chip>\n        <input placeholder="Tags for this suspect" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event)">\n    </mat-chip-list>\n</mat-form-field>'},I5gy:function(e,t,n){"use strict";n.r(t),t.default=".server-details {\r\n    width: 300px;\r\n    margin: 10px;\r\n    box-shadow: 0 0 10px #888;\r\n    text-align: center;\r\n    padding: 10px 20px;\r\n    border-radius: 20px;\r\n    ;\r\n}\r\n\r\n.server-details:hover {\r\n    cursor: pointer;\r\n    box-shadow: 0 0 20px #888;\r\n}\r\n\r\n.server-details .image-holder {\r\n    min-height: 200px !important;\r\n    line-height: 200px;\r\n}\r\n\r\n.server-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr 5fr;\r\n    text-align: left;\r\n}\r\n\r\n.server-details .details-holder label:nth-child(2n) {\r\n    font-weight: normal;\r\n}\r\n\r\n.server-details .details-holder * {\r\n    font-weight: bold;\r\n    background-color: #f39c12;\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n    color: white;\r\n    line-height: 15px;\r\n}"},"Id/V":function(e,t){e.exports=function(e){return n&&Buffer.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,r="function"==typeof ArrayBuffer},Io6l:function(e,t,n){"use strict";n.r(t),t.default="<div class='server-details' routerLink=\"/admin/servers/{{server._id}}\">\n    <h3>{{server.name}}</h3>\n\n    <div class='details-holder'>\n        <ion-icon name=\"wifi-outline\"></ion-icon>\n        <label> {{server.url}}\n        </label>\n        <ion-icon name=\"location-outline\"></ion-icon>\n        <label>lat: {{server.latitude | number: '2.4'}}, lng:\n            {{server.longitude | number: '2.4'}}\n        </label>\n        <ion-icon name=\"server-outline\"></ion-icon>\n        <label> {{server._id}}\n        </label>\n    </div>\n</div>"},JG8K:function(e,t,n){"use strict";n.r(t),t.default=".frame {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.frame .suspect-details {}\r\n\r\n.suspect-details>div {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\nagm-map {\r\n    height: 400px;\r\n}\r\n\r\n.map {\r\n    grid-column: 1 /3;\r\n}\r\n\r\n.all-images {\r\n    display: -webkit-box;\r\n    display: flex;\r\n}\r\n\r\n.all-images>div {\r\n    width: 100px;\r\n    margin-right: 20px;\r\n    border-radius: 50%;\r\n}"},"K+Jz":function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\r\n    <div class=\'wrapper\'>\r\n        <h1>Add a new camera </h1>\r\n        <p>(Double click on map to choose location)</p>\r\n        <div class=\'grid-form\'>\r\n            <agm-map class=\'map\' (mapClick)="choseThisLocation($event)" [latitude]="comsats.latitude" [longitude]="comsats.longitude" [zoom]="16">\r\n                <agm-marker [longitude]="locationCoords.longitude" [latitude]="locationCoords.latitude" *ngIf="locationSelected"></agm-marker>\r\n            </agm-map>\r\n            <form>\r\n                \x3c!-- for styling --\x3e\r\n                <div>\r\n                    <label>Url: </label>\r\n                    <input type=\'url\' [(ngModel)]="url" name=\'url\' />\r\n                    <label>Location </label>\r\n\r\n                    \x3c!-- filler --\x3e\r\n                    <label for=""></label>\r\n\r\n                    <label>Longitude: </label>\r\n                    <input type=\'number\' [(ngModel)]="locationCoords.longitude" name=\'longitude\' />\r\n                    <label>Latitude: </label>\r\n                    <input type=\'number\' [(ngModel)]="locationCoords.latitude" name=\'latitude\' />\r\n\r\n                    \x3c!-- filler --\x3e\r\n                    <label></label>\r\n\r\n                    <button (click)="addCamera()">Add Camera</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"K/+X":function(e,t,n){var r=n("fg2H"),i=n("3exg"),s=n("/RX3"),o=n("Yvos"),a=n("NOtv")("engine.io-client:polling-xhr");function l(){}function c(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function h(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=c,e.exports.Request=h,o(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new h(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},c.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},s(h.prototype),h.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(s){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{t.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(s){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},a("xhr data %s",this.data),t.send(this.data)}catch(s){return void setTimeout((function(){n.onError(s)}),0)}"undefined"!=typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},h.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},h.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},h.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",d);else if("function"==typeof addEventListener){var u="onpagehide"in self?"pagehide":"unload";addEventListener(u,d,!1)}function d(){for(var e in h.requests)h.requests.hasOwnProperty(e)&&h.requests[e].abort()}},KQCo:function(e,t,n){"use strict";n.r(t),t.default='<div class="adjust-preprocessing">\n    <h3>Preprocess CCTV footage </h3>\n    <div>\n        <label for="">Brightness</label>\n        <mat-slider thumbLabel min="0" max="4" step="0.1" [(ngModel)]="brightness"></mat-slider>\n        <input type=\'number\' [(ngModel)]="brightness" />\n\n        <label for="">De Noise (Reduce noise if any)</label>\n        <mat-slider thumbLabel min="0" max="10" step="1" [(ngModel)]="denoise"></mat-slider>\n        <input type=\'number\' [(ngModel)]="denoise" />\n\n        <label for="">Sharpness</label>\n        <mat-slider thumbLabel min="-2" max="4" step="0.1" [(ngModel)]="sharpness"></mat-slider>\n        <input type=\'number\' [(ngModel)]="sharpness" />\n\n        <label for=""></label>\n        <label for=""></label>\n        <button (click)="updateCameraPreprocessingValues()">Update</button>\n    </div>\n</div>'},LRQ1:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        \x3c!-- <p>add-qrunit works!</p> --\x3e\n        <h1>Add a new QR Unit </h1>\n        <form>\n            <label>QRUnit Name</label>\n            <input type=\'text\' [(ngModel)]="qrunit.name" name="name" placeholder="QRUnit Name" style="font-size:30px;" />\n            <h2>Members ({{members.length}})</h2>\n            <div class=\'member-holder\'>\n                <table border="1" width="100%">\n                    <tr>\n                        <th style=\'text-align: center\' *ngFor="let c of col">\n                            {{c}}\n                        </th>\n                    </tr>\n                    <tr class=\'member\' *ngFor="let m of members; let i = index">\n                        <td style=\'padding: 5px 10px;\'>{{m._id}}</td>\n                        <td style=\'padding: 5px 10px;\'>{{m.fullName}}</td>\n                        <td style=\'padding: 5px 10px;\'>{{m.gender}}</td>\n                        <td style=\'padding: 5px 10px;\'> <img src="{{m.picture_url}}" /></td>\n                        <td style=\'padding: 5px 10px;\'><button class=\'button red\' (click)="removeMember(i, member)">Remove</button></td>\n                    </tr>\n                </table>\n            </div>\n            <h2>Available People</h2>\n            <p>Click to select them as members</p>\n            <div class=\'person-holder\'>\n                \x3c!-- available people --\x3e\n                <div *ngFor="let p of people; let i = index" (click)="addAsMember(p, i)" title="p.fullName">\n                    \x3c!-- <img src="{{p.picture_url}}" /> {{p._id}} {{p.fullName}} {{p.gender}} {{p.picture_url}} --\x3e\n                    <app-person-details [person]="p"></app-person-details>\n                </div>\n            </div>\n            <h2>Add A New Person</h2>\n            <app-add-person [toaster]="toaster" [url]="url" (personAdded)="people.push($event)"></app-add-person>\n\n            <h1>All Done</h1>\n            <button class=\'button green\' (click)="addQRUnit()">Add this QRUnit</button>\n        </form>\n    </div>\n</div>'},LaJB:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <div *ngIf="camera == null">\n            <h1>Please wait, loading camera details!</h1>\n        </div>\n        <div *ngIf="camera != null">\n            <h1>Viewing live footage of camera: {{camera._id}}</h1>\n            <div class=\'frame\'>\n\n                <div class=\'live-footage\'>\n                    <div>\n                        Footage from:\n                        <select [(ngModel)]="videoOrigin">\n                            <option value=\'camera\'>Camera</option>\n                            <option value=\'server\' *ngIf="server != null">Server</option>\n                        </select>\n                    </div>\n                    <div *ngIf="videoOrigin == \'camera\'">\n                        <img src="{{camera.url}}" (error)="validCameraVideoUrl=false" *ngIf="validCameraVideoUrl" />\n                        <div style=\'margin: 30px 0\' class=\'error\' *ngIf="!validCameraVideoUrl">Streaming unavailable for this camera - check url and make sure camera is running</div>\n                    </div>\n\n                    <div *ngIf="videoOrigin == \'server\'">\n                        <img src="{{server.url + \'/camera/\' + camera._id}}" (error)="validServerVideoUrl=false" *ngIf="validServerVideoUrl" />\n                        <div style=\'margin: 30px 0\' class=\'error\' *ngIf="!validServerVideoUrl">Server streaming unavailable for this camera - check url and make sure server is running</div>\n                    </div>\n\n                    <app-adjust-preprocessing class=\'aapc\' [cameraId]="cameraId"></app-adjust-preprocessing>\n                </div>\n                <agm-map (mapClick)="choseThisLocation($event)" class=\'location-on-map\' [latitude]="camera.latitude" [longitude]="camera.longitude" [zoom]="16">\n                    <agm-marker [longitude]="camera.longitude" [latitude]="camera.latitude"></agm-marker>\n                </agm-map>\n                <form class=\'camera-details\'>\n                    \x3c!-- can edit camera details here  --\x3e\n                    <h1>Camera Details</h1>\n                    <div>\n                        <label>Url: </label>\n                        <input type=\'url\' [(ngModel)]="camera.url" name=\'url\' />\n\n                        <label>Location </label>\n\n                        \x3c!-- filler --\x3e\n                        <label for=""></label>\n\n                        <label>Longitude: </label>\n                        <input type=\'number\' [(ngModel)]="camera.longitude" name=\'longitude\' />\n                        <label>Latitude: </label>\n                        <input type=\'number\' [(ngModel)]="camera.latitude" name=\'latitude\' />\n\n\n                        <h3 style=\'grid-column: 1 / 3\'>Assigned to Server:</h3>\n\n                        <select name="serverId" style=\'grid-column: 1 / 3\' [(ngModel)]="camera.serverId">\n                            <option selected value="">No server</option>\n                            <option *ngFor="let server of servers" [value]="server._id"\n                                [attr.selected]="server._id==camera.serverId ? true : null">\n                                {{server._id }} > {{server.name}}\n                            </option>\n                        </select>\n\n\n                        <button (click)="deleteCamera()" style="background-color:#e74c3c; color: white;">Delete</button>\n\n                        <button (click)="updateCamera()" style="background-color:#2980b9; color: white;">Update</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>'},"M/K+":function(e,t,n){var r=n("Qsis"),i=n("Id/V"),s=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,s=e;return s.data=function e(t,n){if(!t)return t;if(i(t)){var s={_placeholder:!0,num:n.length};return n.push(t),s}if(r(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=e(t[a],n);return o}if("object"==typeof t&&!(t instanceof Date)){o={};for(var l in t)o[l]=e(t[l],n);return o}return t}(n,t),s.attachments=t.length,{packet:s,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"==typeof t)for(var s in t)t[s]=e(t[s],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,s=e;!function e(l,c,h){if(!l)return l;if(o&&l instanceof Blob||a&&l instanceof File){n++;var u=new FileReader;u.onload=function(){h?h[c]=this.result:s=this.result,--n||t(s)},u.readAsArrayBuffer(l)}else if(r(l))for(var d=0;d<l.length;d++)e(l[d],d,l);else if("object"==typeof l&&!i(l))for(var p in l)e(l[p],p,l)}(s),n||t(s)}},M50W:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n\n        <agm-map (mapClick)="choseThisLocation($event)" class=\'location-on-map\' [latitude]="comsats.latitude" [longitude]="comsats.longitude" [zoom]="16">\n            <div *ngIf="filter.qrunits">\n                <agm-marker class=\'qrunit-marker\' *ngFor="let item of qrunits" [longitude]="item.longitude" [latitude]="item.latitude" [iconUrl]="vehicle_icon" [title]="\'qrunit: \' + item._id" [label]="item.name">\n                </agm-marker>\n            </div>\n            <div *ngIf="filter.cameras">\n                <agm-marker class=\'camera-marker\' *ngFor="let item of cameras" (markerClick)="viewLiveFeed(item)" [longitude]="item.longitude" [latitude]="item.latitude" [iconUrl]="camera_icon" [title]="\'camera: \' + item._id"></agm-marker>\n            </div>\n            <div *ngIf="filter.servers">\n                <agm-marker class=\'server-marker\' *ngFor="let item of servers" [longitude]="item.longitude" [latitude]="item.latitude" [iconUrl]="server_icon" [title]="\'server: \' + item._id" [label]="item.name">\n                </agm-marker>\n            </div>\n            <div *ngIf="filter.alerts">\n                <agm-marker class=\'alert-marker\' *ngFor="let item of alerts" (markerClick)="viewAlert(item)" [longitude]="item.longitude" [latitude]="item.latitude" [iconUrl]="item.icon" [title]="\'alert: \' + item._id" [label]="\'Suspect:\' + item.suspectId.fullName"></agm-marker>\n            </div>\n            \x3c!--\n            <div *ngIf="filter.paths">\n                <agm-polyline *ngFor="let path of tpl" [editable]="false">\n                    <agm-polyline-point *ngFor="let p of path" [latitude]="p[1]" [longitude]="p[0]">\n                    </agm-polyline-point>\n                </agm-polyline>\n            </div>\n            --\x3e\n            <div *ngIf="filter.paths">\n                <agm-polyline *ngFor="let suspectId of tpl_keys" [editable]="false">\n                    <agm-polyline-point *ngFor="let p of tpl[suspectId]" [latitude]="p[1]" [longitude]="p[0]">\n                    </agm-polyline-point>\n                </agm-polyline>\n            </div>\n            <div *ngIf="showRealTimeOperations">\n                <agm-polyline *ngFor="let alertId of onGoingOperationsPaths_keys" [editable]="false" [strokeColor]="\'red\'">\n                    <agm-polyline-point *ngFor="let p of onGoingOperationsPaths[alertId]" [latitude]="p[1]" [longitude]="p[0]">\n                    </agm-polyline-point>\n                </agm-polyline>\n            </div>\n        </agm-map>\n        <div>\n            <h2>Visible on map</h2>\n            <div class=\'filters-holder\'>\n                <div *ngFor="let item of filter_keys">\n                    <input type=\'checkbox\' checked="Yes" (change)="filter[item] = $event.target.checked"> - {{item | titlecase}}\n                </div>\n                <div>\n                    <input type=\'checkbox\' checked="Yes" (change)="showRealTimeOperations = $event.target.checked"> - Show ongoing operations\n                </div>\n            </div>\n            <h2>Search for locations</h2>\n            <div>\n                <p>Search for places</p>\n                <input type=\'search\' [(ngModel)]="search.query" (keyup.enter)="searchLocation(search.query)" />\n                <button (click)="searchLocation(search.query)">Search</button>\n                <ul class=\'search-suggestions-holder\'>\n                    <li class=\'search-suggestion\' *ngFor="let item of search.results" (click)="moveMapOver(item.geometry)">\n                        <div><b>{{item.formatted}}</b></div>\n                        <div>lat: {{item.geometry.lat}}, lng: {{item.geometry.lng}}</div>\n                    </li>\n                </ul>\n            </div>\n            <h2>Move map over:</h2>\n            <div>\n                <p>QRUnits: </p>\n                <select (change)="showQRUnit($event.target.value)">\n                    <option value=""></option>\n                    <option *ngFor="let item of qrunits" value="{{item._id}}">{{item.name}} - {{item._id}}</option>\n                </select>\n\n                <p>Cameras: </p>\n                <select (change)="showUnitOnMap($event.target.value, cameras)">\n                    <option value=""></option>\n                    <option *ngFor="let item of cameras" value="{{item._id}}">{{item._id}}</option>\n                </select>\n\n                <p>Servers: </p>\n                <select (change)="showUnitOnMap($event.target.value, servers)">\n                    <option value=""></option>\n                    <option *ngFor="let item of servers" value="{{item._id}}">{{item.name}} - {{item._id}}</option>\n                </select>\n\n                <p>Alerts: </p>\n                <select (change)="showUnitOnMap($event.target.value, alerts)">\n                    <option value=""></option>\n                    <option *ngFor="let item of alerts" value="{{item._id}}">{{item.suspectId.fullName}} - {{item.time}}\n                    </option>\n                </select>\n            </div>\n        </div>\n        \x3c!-- \n        <h2>Firebase Items</h2>\n        <ul>\n            <li *ngFor="let item of items">\n                {{ item | json }}\n            </li>\n        </ul>\n        <h2>QRUnits</h2>\n        <ul>\n            <li *ngFor="let item of qrunits">\n                {{ item | json }}\n            </li>\n        </ul>\n        <h2>Cameras</h2>\n        <ul>\n            <li *ngFor="let item of cameras">\n                {{ item | json }}\n            </li>\n        </ul>\n        <h2>Servers</h2>\n        <ul>\n            <li *ngFor="let item of servers">\n                {{ item | json }}\n            </li>\n        </ul>\n        <h2>Alerts</h2>\n        <ul>\n            <li *ngFor="let item of alerts">\n                {{ item | json }}\n            </li>\n        </ul>\n         --\x3e\n    </div>\n</div>'},MTcp:function(e,t,n){"use strict";var r=n("AfW+");n.d(t,"j",(function(){return r.e})),n.d(t,"l",(function(){return r.f}));n("aiEM");var i=n("iAHb");n.d(t,"h",(function(){return i.a}));var s=n("0AIG");n.d(t,"k",(function(){return s.a}));var o=n("AzGJ");n.d(t,"i",(function(){return o.createGesture}));var a=n("kBU6");n.d(t,"a",(function(){return a.b})),n.d(t,"b",(function(){return a.d})),n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return a.c})),n.d(t,"e",(function(){return a.e}));n("EV1M");var l=n("QxC6");n.d(t,"n",(function(){return l.a}));var c=n("7TZ+");n.d(t,"f",(function(){return c.c})),n.d(t,"g",(function(){return c.b})),n.d(t,"m",(function(){return c.k})),n.d(t,"o",(function(){return c.l})),n.d(t,"p",(function(){return c.m})),n.d(t,"q",(function(){return c.d})),n.d(t,"r",(function(){return c.o}))},MYcZ:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class="wrapper">\n        <button (click)="open()">Click to open dialog</button>\n    </div>\n    <div class="wrapper">\n        <h1>Testing map with navigation</h1>\n        {{location | json}}\n        <app-map-with-search (locationSelected)="location=$event"></app-map-with-search>\n    </div>\n</div>'},NOtv:function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("3JDX")(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},NSPt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mAIw"),a=n("zVF4"),l=n("q/0M"),c=n("S+S0"),h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),u=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return a.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(n){}return new u},p=d("localStorage"),m=d("sessionStorage"),f=new l.Logger("@firebase/database"),g=(i=1,function(){return i++}),y=function(e){var t=a.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return a.base64.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?a.stringify(i):i,n+=" "}return n},_=null,b=!0,w=function(e,t){a.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(f.logLevel=l.LogLevel.VERBOSE,_=f.log.bind(f),t&&m.set("logging_enabled",!0)):"function"==typeof e?_=e:(_=null,m.remove("logging_enabled"))},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===_&&!0===m.get("logging_enabled")&&w(!0)),_){var n=v.apply(null,e);_(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];C.apply(void 0,o.__spread([e],t))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,o.__spread(e));f.error(n)},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,o.__spread(e));throw f.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,o.__spread(e));f.warn(n)},T=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",A="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===O||t===A)return-1;if(t===O||e===A)return 1;var n=j(e),r=j(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},D=function(e,t){return e===t?0:e<t?-1:1},P=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))},N=function(e){if("object"!=typeof e||null===e)return a.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=a.stringify(t[i]),r+=":",r+=N(e[t[i]]);return r+="}"},R=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F=function(e){a.assert(!T(e),"Invalid JSON number");var t,n,r,i,s;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var l=o.join(""),c="";for(s=0;s<64;s+=8){var h=parseInt(l.substr(s,8),2).toString(16);1===h.length&&(h="0"+h),c+=h}return c.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),j=function(e){if(L.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw k("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var s=I(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),U=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=a.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),z=function(){function e(e,t,n,r,i,s){void 0===i&&(i=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(a.assert("string"==typeof e,"typeof type must == string"),a.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return M(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var H,q,W,G,Q,K=function(e){var t=Y(e),n=t.namespace;"firebase.com"===t.domain&&x(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===t.domain||x("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new z(t.host,t.secure,n,r,"",n!==t.subdomain),path:new V(t.pathString)}},Y=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if("string"==typeof e){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var u=e.indexOf("/");-1===u&&(u=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}t+="/"+i}return t}(e.substring(u,d)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=o.__values(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var l=a.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):k("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(h=t.indexOf(":"))>=0?(a="https"===l||"wss"===l,c=parseInt(t.substring(h+1),10)):h=t.length;var m=t.slice(0,h);if("localhost"===m.toLowerCase())n="localhost";else if(m.split(".").length<=2)n=m;else{var f=t.indexOf(".");r=t.substring(0,f).toLowerCase(),n=t.substring(f+1),s=r}"ns"in p&&(s=p.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}},X=/[\[\].#$\/\u0000-\u001F\u007F]/,Z=/[\[\].#$\u0000-\u001F\u007F]/,J=function(e){return"string"==typeof e&&0!==e.length&&!X.test(e)},ee=function(e){return"string"==typeof e&&0!==e.length&&!Z.test(e)},te=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!T(e)||e&&"object"==typeof e&&a.contains(e,".sv")},ne=function(e,t,n,r,i){i&&void 0===n||re(a.errorPrefix(e,t,i),n,r)},re=function(e,t,n){var r=n instanceof V?new U(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(T(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&a.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,s=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!J(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),re(e,n,r),r.pop()})),i&&s)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ie=function(e,t,n,r,i){if(!i||void 0!==n){var s=a.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var o=[];M(n,(function(e,t){var n=new V(e);if(re(s,t,r.child(n)),".priority"===n.getBack()&&!te(t))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),s=0;s<i.length;s++)if(".priority"===i[s]&&s===i.length-1);else if(!J(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(V.comparePaths);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&o.contains(r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(s,o)}},se=function(e,t,n,r){if(!r||void 0!==n){if(T(n))throw new Error(a.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!te(n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},oe=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ae=function(e,t,n,r){if(!(r&&void 0===n||J(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},le=function(e,t,n,r){if(!(r&&void 0===n||ee(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ce=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),le(e,t,n,r)},he=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ue=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!J(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ee(e)}(r))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},de=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")},pe=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),he("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),he("OnDisconnect.set",this.path_),ne("OnDisconnect.set",1,e,this.path_,!1),a.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),he("OnDisconnect.setWithPriority",this.path_),ne("OnDisconnect.setWithPriority",1,e,this.path_,!1),se("OnDisconnect.setWithPriority",2,t,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),he("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ie("OnDisconnect.update",1,e,this.path_,!1),a.validateCallback("OnDisconnect.update",2,t,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),me=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),fe=(H="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",q=0,W=[],function(e){var t,n=e===q;q=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=H.charAt(e%64),e=Math.floor(e/64);a.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===W[t];t--)W[t]=0;W[t]++}else for(t=0;t<12;t++)W[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=H.charAt(W[t]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),ge=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),ye=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ge(O,e),r=new ge(O,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return ge.MIN},e}(),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return G},set:function(e){G=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return I(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ge.MIN},t.prototype.maxPost=function(){return new ge(A,G)},t.prototype.makePost=function(e,t){return a.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new ge(e,G)},t.prototype.toString=function(){return".key"},t}(ye),_e=new ve;var be,we,Ce,Ee=function(e){return"number"==typeof e?"number:"+F(e):"string:"+e},Se=function(e){if(e.isLeafNode()){var t=e.val();a.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else a.assert(e===Q||e.isEmpty(),"priority of unexpected type.");a.assert(e===Q||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Se(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return be},set:function(e){be=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ee(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(a.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var ke,Te,Oe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ge.MIN},t.prototype.maxPost=function(){return new ge(A,new xe("[PRIORITY-POST]",Ce))},t.prototype.makePost=function(e,t){var n=we(e);return new ge(t,new xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ye)),Ae=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var s=1;!e.isEmpty();)if(e=e,s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ie=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Pe.EMPTY_NODE,this.right=null!=s?s:Pe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Pe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),De=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ie(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Pe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ie.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ie.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ae(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ae(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ae(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ae(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new De,e}(),Ne=Math.log(2),Re=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ne,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Me=function(e,t,n,r){e.sort(t);var i=function(t,r){var s,o,a=r-t;if(0===a)return null;if(1===a)return s=e[t],o=n?n(s):s,new Ie(o,s.node,Ie.BLACK,null,null);var l=parseInt(a/2,10)+t,c=i(t,l),h=i(l+1,r);return s=e[l],o=n?n(s):s,new Ie(o,s.node,Ie.BLACK,c,h)},s=function(t){for(var r=null,s=null,o=e.length,a=function(t,r){var s=o-t,a=o;o-=t;var c=i(s+1,a),h=e[s],u=n?n(h):h;l(new Ie(u,h.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)},c=0;c<t.count;++c){var h=t.nextBitIsOne(),u=Math.pow(2,t.count-(c+1));h?a(u,Ie.BLACK):(a(u,Ie.BLACK),a(u,Ie.RED))}return s}(new Re(e.length));return new Pe(r||t,s)},Fe={},Le=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return a.assert(Fe&&Oe,"ChildrenNode.ts has not been loaded"),ke=ke||new e({".priority":Fe},{".priority":Oe})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pe?t:null},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){a.assert(t!==_e,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,l=n.getIterator(ge.Wrap),c=l.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=l.getNext();r=s?Me(i,t.getCompare()):Fe;var h=t.toString(),u=o.__assign({},this.indexSet_);u[h]=t;var d=o.__assign({},this.indexes_);return d[h]=r,new e(d,u)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,(function(e,i){var s=a.safeGet(r.indexSet_,i);if(a.assert(s,"Missing index implementation for "+i),e===Fe){if(s.isDefinedOn(t.node)){for(var o=[],l=n.getIterator(ge.Wrap),c=l.getNext();c;)c.name!==t.name&&o.push(c),c=l.getNext();return o.push(t),Me(o,s.getCompare())}return Fe}var h=n.get(t.name),u=e;return h&&(u=u.remove(new ge(t.name,h))),u.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,(function(e){if(e===Fe)return e;var r=n.get(t.name);return r?e.remove(new ge(t.name,r)):e})),this.indexSet_)},e}();function je(e,t){return I(e.name,t.name)}function $e(e,t){return I(e,t)}var Be=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Se(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Te||(Te=new e(new Pe($e),null,Le.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Te},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Te:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new ge(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var o=i.isEmpty()?Te:this.priorityNode_;return new e(i,o,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;a.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Oe,(function(o,a){n[o]=a.val(t),r++,s&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1})),!t&&s&&i<2*r){var o=[];for(var a in n)o[a]=n[a];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ee(this.getPriority().val())+":"),this.forEachChild(Oe,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ge(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ge(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ge(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ge.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ge.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ve?-1:0},e.prototype.withIndex=function(t){if(t===_e||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===_e||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Oe),r=t.getIterator(Oe),i=n.getNext(),s=r.getNext();i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=n.getNext(),s=r.getNext()}return null===i&&null===s}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===_e?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ve=new(function(e){function t(){return e.call(this,new Pe($e),Be.EMPTY_NODE,Le.Default)||this}return o.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Be.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Be));Object.defineProperties(ge,{MIN:{value:new ge(O,Be.EMPTY_NODE)},MAX:{value:new ge(A,Ve)}}),ve.__EMPTY_NODE=Be.EMPTY_NODE,xe.__childrenNodeConstructor=Be,Q=Ve,function(e){Ce=e}(Ve);function Ue(e,t){if(void 0===t&&(t=null),null===e)return Be.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),a.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new xe(e,Ue(t));if(e instanceof Array){var n=Be.EMPTY_NODE;return M(e,(function(t,r){if(a.contains(e,t)&&"."!==t.substring(0,1)){var i=Ue(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Ue(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=Ue(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new ge(e,n)))}})),0===r.length)return Be.EMPTY_NODE;var s=Me(r,je,(function(e){return e.name}),$e);if(i){var o=Me(r,Oe.getCompare());return new Be(s,Ue(t),new Le({".priority":o},{".priority":Oe}))}return new Be(s,Ue(t),Le.Default)}!function(e){we=e}(Ue);var ze,He=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ge.MIN},t.prototype.maxPost=function(){return ge.MAX},t.prototype.makePost=function(e,t){var n=Ue(e);return new ge(t,n)},t.prototype.toString=function(){return".value"},t}(ye)),qe=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,a.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return o.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Ue(e),r=Be.EMPTY_NODE.updateChild(this.indexPath_,n);return new ge(t,r)},t.prototype.maxPost=function(){var e=Be.EMPTY_NODE.updateChild(this.indexPath_,Ve);return new ge(A,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(ye),We=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),le("DataSnapshot.child",1,t,!1);var n=new V(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Oe)},e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),le("DataSnapshot.hasChild",1,e,!1);var t=new V(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Oe))}))},e.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Ge=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},e}(),Qe=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ke=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Ge("value",this,new We(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Qe(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Ye=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,a.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Qe(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Ge(e.type,this,new We(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),s=r.length;if(s===i.length){if(1===s){var o=r[0],a=i[0];return!(a!==o||t.callbacks_[o]&&this.callbacks_[a]&&t.callbacks_[o]!==this.callbacks_[a])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Xe=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(ze,"Reference.ts has not been loaded"),ze},set:function(e){ze=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===_e){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==O)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Oe){if(null!=t&&!te(t)||null!=n&&!te(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(e.getIndex()instanceof qe||e.getIndex()===He,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),oe("Query.on",1,t,!1),a.validateCallback("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,s.cancel,s.context);else{var o={};o[t]=n,this.onChildEvent(o,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Ke(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Ye(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){a.validateArgCount("Query.off",0,3,arguments.length),oe("Query.off",1,e,!0),a.validateCallback("Query.off",2,t,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var s=t||null;r=new Ke(s,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Ye(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var s=this;a.validateArgCount("Query.once",1,4,arguments.length),oe("Query.once",1,t,!1),a.validateCallback("Query.once",2,n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),l=!0,c=new a.Deferred;c.promise.catch((function(){}));var h=function(e){l&&(l=!1,s.off(t,h),n&&n.bind(o.context)(e),c.resolve(e))};return this.on(t,h,(function(e){s.off(t,h),o.cancel&&o.cancel.bind(o.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');le("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new qe(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(_e);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Oe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(He);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.startAt",0,2,arguments.length),ne("Query.startAt",1,t,this.path,!0),ae("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.endAt",0,2,arguments.length),ne("Query.endAt",1,t,this.path,!0),ae("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),ne("Query.equalTo",1,e,this.path,!1),ae("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=N(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),s=this.queryIdentifier()===t.queryIdentifier();return r&&i&&s},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,a.validateCallback(e,3,r.cancel,!0),r.context=n,a.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(a.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Ze=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Je=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),et=function(e,t,n){return e&&"object"==typeof e?(a.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?tt(e[".sv"],t,n):"object"==typeof e[".sv"]?nt(e[".sv"],t):void a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tt=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+e)}},nt=function(e,t,n){e.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&a.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(a.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},rt=function(e,t,n,r){return st(t,new Je(n,e),r)},it=function(e,t,n){return st(e,new Ze(t),n)};function st(e,t,n){var r,i=e.getPriority().val(),s=et(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,a=et(o.getValue(),t,n);return a!==o.getValue()||s!==o.getPriority().val()?new xe(a,Ue(s)):e}var l=e;return r=l,s!==l.getPriority().val()&&(r=r.updatePriority(new xe(s))),l.forEachChild(Oe,(function(e,i){var s=st(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))})),r}var ot,at=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Oe,(function(e,t){n.remember(new V(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();if(e=e.popFront(),this.children.has(r))this.children.get(r).forget(e)&&this.children.delete(r);return 0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new V(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}();!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ot||(ot={}));var lt,ct,ht=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,a.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ut=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ot.ACK_USER_WRITE,this.source=ht.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(t));return new e(V.Empty,n,this.revert)}return a.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),dt=function(){function e(e,t){void 0===t&&(lt||(lt=new Pe(D)),t=lt),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return M(t,(function(e,t){n=n.set(new V(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:V.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new V(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),s=this.children.insert(r,i);return new e(this.value,s)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),s=void 0;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?e.Empty:new e(this.value,s)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),s=void 0;return s=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,s)},e.prototype.fold=function(e){return this.fold_(V.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,V.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),s=this.children.get(i);return s?s.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,V.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(V.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),pt=function(){function e(e,t){this.source=e,this.path=t,this.type=ot.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,V.Empty):new e(this.source,this.path.popFront())},e}(),mt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ot.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,V.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),ft=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ot.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new V(t));return n.isEmpty()?null:n.value?new mt(this.source,V.Empty,n.value):new e(this.source,V.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),gt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),yt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new gt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new gt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new gt(Be.EMPTY_NODE,!1,!1),new gt(Be.EMPTY_NODE,!1,!1)),e}(),vt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),_t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,s){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(vt.childRemovedChange(t,o)):a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(vt.childAddedChange(t,n)):s.trackChildChange(vt.childChangedChange(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Oe,(function(e,r){t.hasChild(e)||n.trackChildChange(vt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Oe,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(vt.childChangedChange(t,r,i))}else n.trackChildChange(vt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Be.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),bt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;a.assert(t===vt.CHILD_ADDED||t===vt.CHILD_CHANGED||t===vt.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===vt.CHILD_ADDED&&i===vt.CHILD_REMOVED)this.changeMap.set(n,vt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===vt.CHILD_REMOVED&&i===vt.CHILD_ADDED)this.changeMap.delete(n);else if(t===vt.CHILD_REMOVED&&i===vt.CHILD_CHANGED)this.changeMap.set(n,vt.childRemovedChange(n,r.oldSnap));else if(t===vt.CHILD_CHANGED&&i===vt.CHILD_ADDED)this.changeMap.set(n,vt.childAddedChange(n,e.snapshotNode));else{if(t!==vt.CHILD_CHANGED||i!==vt.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,vt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),wt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Ct=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new gt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Et=function(e,t){this.viewCache=e,this.changes=t},St=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var s,o,l=new bt;if(n.type===ot.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(t,c.path,c.snap,r,i,l):(a.assert(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),s=this.applyServerOverwrite_(t,c.path,c.snap,r,i,o,l))}else if(n.type===ot.MERGE){var h=n;h.source.fromUser?s=this.applyUserMerge_(t,h.path,h.children,r,i,l):(a.assert(h.source.fromServer,"Unknown source."),o=h.source.tagged||t.getServerCache().isFiltered(),s=this.applyServerMerge_(t,h.path,h.children,r,i,o,l))}else if(n.type===ot.ACK_USER_WRITE){var u=n;s=u.revert?this.revertUserWrite_(t,u.path,r,i,l):this.ackUserWrite_(t,u.path,u.affectedTree,r,i,l)}else{if(n.type!==ot.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);s=this.listenComplete_(t,n.path,r,l)}var d=l.getChanges();return e.maybeAddValueEvent_(t,s,d),new Et(s,d)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(vt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var s=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var o=void 0,l=void 0;if(t.isEmpty())if(a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),h=c instanceof Be?c:Be.EMPTY_NODE,u=n.calcCompleteEventChildren(h);o=this.filter_.updateFullNode(e.getEventCache().getNode(),u,i)}else{var d=n.calcCompleteEventCache(e.getCompleteServerSnap());o=this.filter_.updateFullNode(e.getEventCache().getNode(),d,i)}else{var p=t.getFront();if(".priority"===p){a.assert(1===t.getLength(),"Can't have a priority with additional path components");var m=s.getNode();l=e.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(t,m,l);o=null!=f?this.filter_.updatePriority(m,f):s.getNode()}else{var g=t.popFront(),y=void 0;if(s.isCompleteForChild(p)){l=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,s.getNode(),l);y=null!=v?s.getNode().getImmediateChild(p).updateChild(g,v):s.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,e.getServerCache());o=null!=y?this.filter_.updateChild(s.getNode(),p,y,g,r,i):s.getNode()}}return e.updateEventSnap(o,s.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,s,o){var a,l=e.getServerCache(),c=s?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())a=c.updateFullNode(l.getNode(),n,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(t,n);a=c.updateFullNode(l.getNode(),h,null)}else{var u=t.getFront();if(!l.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=l.getNode().getImmediateChild(u).updateChild(d,n);a=".priority"===u?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),u,p,d,wt,null)}var m=e.updateServerSnap(a,l.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),f=new Ct(r,m,i);return this.generateEventCacheAfterServerEvent_(m,t,r,f,o)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,s){var o,a,l=e.getEventCache(),c=new Ct(r,e,i);if(t.isEmpty())a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,s),o=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var h=t.getFront();if(".priority"===h)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),o=e.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var u=t.popFront(),d=l.getNode().getImmediateChild(h),p=void 0;if(u.isEmpty())p=n;else{var m=c.getCompleteChild(h);p=null!=m?".priority"===u.getBack()&&m.getChild(u.parent()).isEmpty()?m:m.updateChild(u,n):Be.EMPTY_NODE}if(d.equals(p))o=e;else{var f=this.filter_.updateChild(l.getNode(),h,p,u,c,s);o=e.updateEventSnap(f,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,s,o){var a=this,l=t;return r.foreach((function(r,c){var h=n.child(r);e.cacheHasChild_(t,h.getFront())&&(l=a.applyUserOverwrite_(l,h,c,i,s,o))})),r.foreach((function(r,c){var h=n.child(r);e.cacheHasChild_(t,h.getFront())||(l=a.applyUserOverwrite_(l,h,c,i,s,o))})),l},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,s,o){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l,c=e;l=t.isEmpty()?n:dt.Empty.setTree(t,n);var h=e.getServerCache().getNode();return l.children.inorderTraversal((function(t,n){if(h.hasChild(t)){var l=e.getServerCache().getNode().getImmediateChild(t),u=a.applyMerge_(l,n);c=a.applyServerOverwrite_(c,new V(t),u,r,i,s,o)}})),l.children.inorderTraversal((function(t,n){var l=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!h.hasChild(t)&&!l){var u=e.getServerCache().getNode().getImmediateChild(t),d=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new V(t),d,r,i,s,o)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,s){if(null!=r.shadowingWrite(t))return e;var o=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,o,s);if(t.isEmpty()){var l=dt.Empty;return a.getNode().forEachChild(_e,(function(e,t){l=l.set(new V(e),t)})),this.applyServerMerge_(e,t,l,r,i,o,s)}return e}var c=dt.Empty;return n.foreach((function(e,n){var r=t.child(e);a.isCompleteForPath(r)&&(c=c.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,o,s)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),s=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(s,t,n,wt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var s;if(null!=n.shadowingWrite(t))return e;var o=new Ct(n,e,r),l=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var h=void 0;if(e.getServerCache().isFullyInitialized())h=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var u=e.getServerCache().getNode();a.assert(u instanceof Be,"serverChildren would be complete if leaf node"),h=n.calcCompleteEventChildren(u)}h=h,c=this.filter_.updateFullNode(l,h,i)}else{var d=t.getFront(),p=n.calcCompleteChild(d,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(c=null!=p?this.filter_.updateChild(l,d,p,t.popFront(),o,i):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,Be.EMPTY_NODE,t.popFront(),o,i):l).isEmpty()&&e.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),e.updateEventSnap(c,s,this.filter_.filtersNodes())},e}(),xt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],s=[];return e.forEach((function(e){e.type===vt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push(vt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,vt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,vt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,vt.CHILD_MOVED,s,n,t),this.generateEventsForType_(i,vt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,vt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var s=this,o=n.filter((function(e){return e.type===t}));o.sort(this.compareChanges_.bind(this)),o.forEach((function(t){var n=s.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,s.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw a.assertionError("Should only compare child_ events.");var n=new ge(e.childName,e.snapshotNode),r=new ge(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),kt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _t(n.getIndex()),i=n.getNodeFilter();this.processor_=new St(i);var s=t.getServerCache(),o=t.getEventCache(),a=r.updateFullNode(Be.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(Be.EMPTY_NODE,o.getNode(),null),c=new gt(a,s.isFullyInitialized(),r.filtersNodes()),h=new gt(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=new yt(h,c),this.eventGenerator_=new xt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){a.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var o=this.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(o)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ot.MERGE&&null!==e.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(Oe,(function(e,t){n.push(vt.childAddedChange(e,t))}));return t.isFullyInitialized()&&n.push(vt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Tt=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(ct,"Reference.ts has not been loaded"),ct},set:function(e){a.assert(!ct,"__referenceConstructor has already been defined"),ct=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,s=e.source.queryId;if(null!==s){var l=this.views.get(s);return a.assert(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(e,t,n)}var c=[];try{for(var h=o.__values(this.views.values()),u=h.next();!u.done;u=h.next()){l=u.value;c=c.concat(l.applyOperation(e,t,n))}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return c},e.prototype.addEventRegistration=function(e,t,n,r,i){var s=e.queryIdentifier(),o=this.views.get(s);if(!o){var a=n.calcCompleteEventCache(i?r:null),l=!1;a?l=!0:r instanceof Be?(a=n.calcCompleteEventChildren(r),l=!1):(a=Be.EMPTY_NODE,l=!1);var c=new yt(new gt(a,l,!1),new gt(r,i,!1));o=new kt(e,c),this.views.set(s,o)}return o.addEventRegistration(t),o.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,s,a=t.queryIdentifier(),l=[],c=[],h=this.hasCompleteView();if("default"===a)try{for(var u=o.__values(this.views.entries()),d=u.next();!d.done;d=u.next()){var p=o.__read(d.value,2),m=p[0],f=p[1];c=c.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(m),f.getQuery().getQueryParams().loadsAllData()||l.push(f.getQuery()))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}else(f=this.views.get(a))&&(c=c.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||l.push(f.getQuery())));return h&&!this.hasCompleteView()&&l.push(new e.__referenceConstructor(t.repo,t.path)),{removed:l,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=o.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=o.__values(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r||a.getCompleteServerCache(e)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=o.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Ot=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new dt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,s=r.value,o=V.relativePath(i,t);return s=s.updateChild(o,n),new e(this.writeTree_.set(i,s))}var a=new dt(n);return new e(this.writeTree_.setTree(t,a))},e.prototype.addWrites=function(e,t){var n=this;return M(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,dt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(V.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Oe,(function(t,n){e.push(new ge(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new ge(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new dt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(a.assert(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=e(t.child(n),s,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}(V.Empty,this.writeTree_,e)},e.Empty=new e(new dt(null)),e}();var At=function(){function e(){this.visibleWrites_=Ot.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new It(e,this)},e.prototype.addOverwrite=function(e,t,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,o=this.allWrites_.length-1;i&&o>=0;){var l=this.allWrites_[o];l.visible&&(o>=n&&this.recordContainsPath_(l,r.path)?i=!1:r.path.contains(l.path)&&(s=!0)),o--}if(i){if(s)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))}));return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var s=this.visibleWrites_.childCompoundWrite(t);if(!i&&s.isEmpty())return n;if(i||null!=n||s.hasCompleteWrite(V.Empty)){var o=e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);c=n||Be.EMPTY_NODE;return o.apply(c)}return null}var a=this.visibleWrites_.getCompleteNode(t);if(null!=a)return a;var l=this.visibleWrites_.childCompoundWrite(t);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(V.Empty)){var c=n||Be.EMPTY_NODE;return l.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Be.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Oe,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Oe,(function(e,t){var r=i.childCompoundWrite(new V(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(t):s.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,s){var o,a=this.visibleWrites_.childCompoundWrite(e),l=a.getCompleteNode(V.Empty);if(null!=l)o=l;else{if(null==t)return[];o=a.apply(t)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];for(var c=[],h=s.getCompare(),u=i?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s),d=u.getNext();d&&c.length<r;)0!==h(d,n)&&c.push(d),d=u.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Ot.Empty,i=0;i<e.length;++i){var s=e[i];if(t(s)){var o=s.path,l=void 0;if(s.snap)n.contains(o)?(l=V.relativePath(n,o),r=r.addWrite(l,s.snap)):o.contains(n)&&(l=V.relativePath(o,n),r=r.addWrite(V.Empty,s.snap.getChild(l)));else{if(!s.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(o))l=V.relativePath(n,o),r=r.addWrites(l,s.children);else if(o.contains(n))if((l=V.relativePath(o,n)).isEmpty())r=r.addWrites(V.Empty,s.children);else{var c=a.safeGet(s.children,l.getFront());if(c){var h=c.getChild(l.popFront());r=r.addWrite(V.Empty,h)}}}}}return r},e}(),It=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Dt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=dt.Empty,this.pendingWriteTree_=new At,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new mt(ht.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=dt.fromObject(t);return this.applyOperationToSyncPoints_(new ft(ht.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=dt.Empty;return null!=n.snap?r=r.set(V.Empty,!0):M(n.children,(function(e,t){r=r.set(new V(e),t)})),this.applyOperationToSyncPoints_(new ut(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new mt(ht.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=dt.fromObject(t);return this.applyOperationToSyncPoints_(new ft(ht.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new pt(ht.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var s=e.parseQueryKey_(i),o=s.path,a=s.queryId,l=V.relativePath(o,t),c=new mt(ht.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(o,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var s=e.parseQueryKey_(i),o=s.path,a=s.queryId,l=V.relativePath(o,t),c=dt.fromObject(n),h=new ft(ht.forServerTaggedQuery(a),l,c);return this.applyTaggedOperation_(o,h)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),s=i.path,o=i.queryId,a=V.relativePath(s,t),l=new pt(ht.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(s,l)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=V.relativePath(e,r);i=i||t.getCompleteServerCache(n),s=s||t.hasCompleteView()}));var o,l=this.syncPointTree_.get(r);(l?(s=s||l.hasCompleteView(),i=i||l.getCompleteServerCache(V.Empty)):(l=new Tt,this.syncPointTree_=this.syncPointTree_.set(r,l)),null!=i)?o=!0:(o=!1,i=Be.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(V.Empty);n&&(i=i.updateImmediateChild(e,n))})));var c=l.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var h=e.makeQueryKey_(t);a.assert(!this.queryToTagMap.has(h),"View does not exist, but we have a tag");var u=e.getNextQueryTag_();this.queryToTagMap.set(h,u),this.tagToQueryMap.set(u,h)}var d=this.pendingWriteTree_.childWrites(r),p=l.addEventRegistration(t,n,d,i,o);if(!c&&!s){var m=l.viewForQuery(t);p=p.concat(this.setupListener_(t,m))}return p},e.prototype.removeEventRegistration=function(t,n,r){var i=this,s=t.path,o=this.syncPointTree_.get(s),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var l=o.removeEventRegistration(t,n,r);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var c=l.removed;a=l.events;var h=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),u=this.syncPointTree_.findOnPath(s,(function(e,t){return t.hasCompleteView()}));if(h&&!u){var d=this.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),m=0;m<p.length;++m){var f=p[m],g=f.getQuery(),y=this.createListenerForView_(f);this.listenProvider_.startListening(e.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!u&&c.length>0&&!r)if(h){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}));this.removeTags_(c)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=V.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),M(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),s=this.createListenerForView_(n),o=this.listenProvider_.startListening(e.queryForListening_(t),i,s.hashFn,s.onComplete),l=this.syncPointTree_.subtree(r);if(i)a.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),M(n,(function(e,t){r=r.concat(t)})),r})),h=0;h<c.length;++h){var u=c[h];this.listenProvider_.stopListening(e.queryForListening_(u),this.tagForQuery_(u))}return o},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Be.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return a.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new V(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var s=[],o=e.path.getFront(),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){var c=n?n.getImmediateChild(o):null,h=r.child(o);s=s.concat(this.applyOperationHelper_(a,l,c,h))}return i&&(s=s.concat(i.applyOperation(e,r,n))),s},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,s=t.get(V.Empty);null==n&&null!=s&&(n=s.getCompleteServerCache(V.Empty));var o=[];return t.children.inorderTraversal((function(t,s){var a=n?n.getImmediateChild(t):null,l=r.child(t),c=e.operationForChild(t);c&&(o=o.concat(i.applyOperationDescendantsHelper_(c,s,a,l)))})),s&&(o=o.concat(s.applyOperation(e,r,n))),o},e.nextQueryTag_=1,e}(),Pt=function(){function e(){this.rootNode_=Be.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Nt=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),Rt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),a.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return a.deepCopy(this.counters_)},e}(),Mt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Rt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=o.__assign({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Lt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&a.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),jt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new $t(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),$t=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();_&&C("event: "+t.toString()),$(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Bt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=o.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Vt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return o.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Bt),Ut=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return o.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Bt),zt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&$((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Ht=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=Mt.getCollection(t),this.urlFn=function(e){return t.connectionURL("long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(a.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.__read(e,5),i=r[0],s=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.__read(e,2),i=r[0],s=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!a.isNodeSdk()&&(!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=a.base64Encode(t),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),qt=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))s='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){C("frame writing exception"),l.stack&&C(l.stack),C(l)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;a.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){C("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Wt="";var Gt=null;"undefined"!=typeof MozWebSocket?Gt=MozWebSocket:"undefined"!=typeof WebSocket&&(Gt=WebSocket);var Qt=function(){function e(t,n,r,i,s){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Mt.getCollection(n),this.connURL=e.connectionURL_(n,i,s)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+Wt+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},s=process.env,o=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new Gt(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Gt(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var l=c.message||c.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Gt&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=a.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(a.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=R(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Kt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Ht,Qt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Qt&&Qt.isAvailable(),s=i&&!Qt.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Qt];else{var a=this.transports_=[];try{for(var l=o.__values(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Yt=function(){function e(e,t,n,r,i,s,o,a){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=s,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Kt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=P("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Xt=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Zt=function(e){function t(n,r,i,s,o,l,c){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=o,h.authTokenProvider_=l,h.authOverride_=c,h.id=t.nextPersistentConnectionId_++,h.log_=E("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingPutCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),Vt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&Ut.getInstance().on("online",h.onOnline_,h),h}return o.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),s=e.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),s=r.queryIdentifier();this.log_("Listen on "+i+" for "+s);var o={p:i};e.tag&&(o.q=r.queryObject(),o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,l=o.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(s))===e&&(n.log_("listen response",o),"ok"!==l&&n.removeListen_(i,s),e.onComplete&&e.onComplete(l,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&a.contains(e,"w")){var n=a.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||a.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=a.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this,o=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,r())};this.realtime_={close:h,sendRequest:function(e){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(u).then((function(t){l?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,c=new Yt(i,s.repoInfo_,s.applicationId_,e,n,r,(function(e){k(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),o))})).then(null,(function(e){s.log_("Failed to get token: "+e),l||(a.CONSTANTS.NODE_ADMIN&&k(e),h())}))}},t.prototype.interrupt=function(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return N(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new V(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=o.__values(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var l=(n=void 0,o.__values(a.values())),c=l.next();!c.done;c=l.next()){var h=c.value;this.sendListen_(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(m){e={error:m}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";a.CONSTANTS.NODE_ADMIN?t="admin_node":a.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+Wt.replace(/\./g,"-")]=1,a.isMobileCordova()?e["framework.cordova"]=1:a.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Ut.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Xt),Jt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return o.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var s=this,o=e.path.toString();this.log_("Listen called for "+o+" "+e.queryIdentifier());var l=t.getListenId_(e,r),c={};this.listens_[l]=c;var h=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",h,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&s.onDataUpdate_(o,n,!1,r),a.safeGet(s.listens_,l)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(t.auth=s);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+a.querystring(t);r.log_("Sending REST request for "+o);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=a.jsonEval(l.responseText)}catch(t){k("Failed to parse JSON response for "+o+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&k("Got unsuccessful REST response for "+o+" Status: "+l.status),n(l.status);n=null}},l.open("GET",o,!0),l.send()}))},t}(Xt),en=function(){function e(e,t,n,r){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new at,this.persistentConnection_=null;var s=new Nt(n,r);if(this.stats_=Mt.getCollection(e),t||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Jt(this.repoInfo_,this.onDataUpdate_.bind(this),s),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}this.persistentConnection_=new Zt(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),s,o),this.server_=this.persistentConnection_}s.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=Mt.getOrCreateReporter(e,(function(){return new Lt(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Pt,this.infoSyncTree_=new Dt({startListening:function(e,t,n,r){var s=[],o=i.infoData_.getNode(e.path);return o.isEmpty()||(s=i.infoSyncTree_.applyServerOverwrite(e.path,o),setTimeout((function(){r("ok")}),0)),s},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Dt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var s=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,s)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new V(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(r)if(n){var o=a.map(t,(function(e){return Ue(e)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)}else{var l=Ue(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,l,r)}else if(n){var c=a.map(t,(function(e){return Ue(e)}));s=this.serverSyncTree_.applyServerMerge(i,c)}else{var h=Ue(t);s=this.serverSyncTree_.applyServerOverwrite(i,h)}var u=i;s.length>0&&(u=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(u,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;M(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new V("/.info/"+e),r=Ue(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var s=this.generateServerValues(),o=Ue(t,n),a=this.serverSyncTree_.calcCompleteEventCache(e),l=it(o,a,s),c=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(e,l,c,!0);this.eventQueue_.queueEvents(h),this.server_.put(e.toString(),o.val(!0),(function(t,n){var s="ok"===t;s||k("set at "+e+" failed: "+t);var o=i.serverSyncTree_.ackUserWrite(c,!s);i.eventQueue_.raiseEventsForChangedPath(e,o),i.callOnCompleteCallback(r,t,n)}));var u=this.abortTransactions_(e);this.rerunTransactions_(u),this.eventQueue_.raiseEventsForChangedPath(u,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,s=this.generateServerValues(),o={};if(M(t,(function(t,n){i=!1,o[t]=rt(e.child(t),Ue(n),r.serverSyncTree_,s)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,o,a);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,(function(t,i){var s="ok"===t;s||k("update at "+e+" failed: "+t);var o=r.serverSyncTree_.ackUserWrite(a,!s),l=o.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(l,o),r.callOnCompleteCallback(n,t,i)})),M(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new at;this.onDisconnect_.forEachTree(V.Empty,(function(r,i){var s=rt(r,i,e.serverSyncTree_,t);n.remember(r,s)}));var r=[];n.forEachTree(V.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new at,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=Ue(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,s){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,s)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,s=Ue(t,n);this.server_.onDisconnectPut(e.toString(),s.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,s),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(a.isEmpty(t))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,s){"ok"===i&&M(t,(function(t,n){var i=Ue(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,s)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Ft(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);M(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,o.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&$((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var s=new Error(i);s.code=r,e(s)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new un(this))},enumerable:!0,configurable:!0}),e}(),tn=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,s){return this.matches(new ge(t,n))||(n=Be.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Be.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Be.EMPTY_NODE);var i=this;return t.forEachChild(Oe,(function(e,t){i.matches(new ge(e,t))||(r=r.updateImmediateChild(e,Be.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),nn=function(){function e(e){this.rangedFilter_=new tn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,s){return this.rangedFilter_.matches(new ge(t,n))||(n=Be.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Be.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Be.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;i.hasNext()&&s<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),s++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Be.EMPTY_NODE);var a=void 0,l=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();s=0;for(var u=!1;i.hasNext();){o=i.getNext();!u&&c(a,o)<=0&&(u=!0),u&&s<this.limit_&&c(o,l)<=0?s++:r=r.updateImmediateChild(o.name,Be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var s;if(this.reverse_){var o=this.index_.getCompare();s=function(e,t){return o(t,e)}}else s=this.index_.getCompare();var l=e;a.assert(l.numChildren()===this.limit_,"");var c=new ge(t,n),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(l.hasChild(t)){for(var d=l.getImmediateChild(t),p=r.getChildAfterChild(this.index_,h,this.reverse_);null!=p&&(p.name===t||l.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var m=null==p?1:s(p,c);if(u&&!n.isEmpty()&&m>=0)return null!=i&&i.trackChildChange(vt.childChangedChange(t,n,d)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt.childRemovedChange(t,d));var f=l.updateImmediateChild(t,Be.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(vt.childAddedChange(p.name,p.node)),f.updateImmediateChild(p.name,p.node)):f}return n.isEmpty()?e:u&&s(h,c)>=0?(null!=i&&(i.trackChildChange(vt.childRemovedChange(h.name,h.node)),i.trackChildChange(vt.childAddedChange(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(h.name,Be.EMPTY_NODE)):e},e}(),rn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Oe&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Oe},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new _t(this.getIndex()):this.hasLimit()?new nn(this):new tn(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Oe?t=n.PRIORITY_INDEX:this.index_===He?t=n.VALUE_INDEX:this.index_===_e?t=n.KEY_INDEX:(a.assert(this.index_ instanceof qe,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=a.stringify(t),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),sn=function(e){function t(t,n){if(!(t instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,rn.DEFAULT,!1)||this}return o.__extends(t,e),t.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof V||(null===this.path.getFront()?ce("Reference.child",1,e,!1):le("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length),he("Reference.set",this.path),ne("Reference.set",1,e,this.path,!1),a.validateCallback("Reference.set",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(a.validateArgCount("Reference.update",1,2,arguments.length),he("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ie("Reference.update",1,e,this.path,!1),a.validateCallback("Reference.update",2,t,!0);var i=new a.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),he("Reference.setWithPriority",this.path),ne("Reference.setWithPriority",1,e,this.path,!1),se("Reference.setWithPriority",2,t,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return a.validateArgCount("Reference.remove",0,1,arguments.length),he("Reference.remove",this.path),a.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),he("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,e,!1),a.validateCallback("Reference.transaction",2,t,!0),de("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new me(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length),he("Reference.setPriority",this.path),se("Reference.setPriority",1,e,!1),a.validateCallback("Reference.setPriority",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length),he("Reference.push",this.path),ne("Reference.push",1,e,this.path,!0),a.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=fe(r),s=this.child(i),o=this.child(i);return n=null!=e?s.set(e,t).then((function(){return o})):Promise.resolve(o),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),s},t.prototype.onDisconnect=function(){return he("Reference.onDisconnect",this.path),new pe(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(Xe);Xe.__referenceConstructor=sn,Tt.__referenceConstructor=sn;var on,an=function(){this.children={},this.childCount=0,this.value=null},ln=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new an),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof V?t:new V(t),r=this,i=n.getFront();null!==i;){r=new e(i,r,a.safeGet(r.node_.children,i)||new an),i=(n=n.popFront()).getFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){a.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;M(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=a.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(on||(on={})),en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ln},en.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},s=new sn(this,e);s.on("value",i);var o={path:e,update:t,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(e);o.currentInputSnapshot=l;var c=o.update(l.val());if(void 0===c){if(o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete){var h=new We(o.currentInputSnapshot,new sn(this,o.path),Oe);o.onComplete(null,!1,h)}}else{re("transaction failed: Data returned ",c,o.path),o.status=on.RUN;var u=this.transactionQueueTree_.subTree(e),d=u.getValue()||[];d.push(o),u.setValue(d);var p=void 0;if("object"==typeof c&&null!==c&&a.contains(c,".priority"))p=a.safeGet(c,".priority"),a.assert(te(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(e)||Be.EMPTY_NODE).getPriority().val();p=p;var m=this.generateServerValues(),f=Ue(c,p),y=it(f,l,m);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=y,o.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(e,y,o.currentWriteId,o.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,v),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Be.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===on.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},en.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),s=i,o=i.hash(),l=0;l<t.length;l++){var c=t[l];a.assert(c.status===on.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=on.SENT,c.retryCount++;var h=V.relativePath(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var u=s.val(!0),d=e;this.server_.put(d.toString(),u,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var s=[],o=0;o<t.length;o++){if(t[o].status=on.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[o].currentWriteId)),t[o].onComplete){var a=t[o].currentOutputSnapshotResolved,l=new sn(n,t[o].path),c=new We(a,l,Oe);s.push(t[o].onComplete.bind(null,null,!0,c))}t[o].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(o=0;o<s.length;o++)$(s[o])}else{if("datastale"===r)for(o=0;o<t.length;o++)t[o].status===on.SENT_NEEDS_ABORT?t[o].status=on.NEEDS_ABORT:t[o].status=on.RUN;else{k("transaction at "+d.toString()+" failed: "+r);for(o=0;o<t.length;o++)t[o].status=on.NEEDS_ABORT,t[o].abortReason=r}n.rerunTransactions_(e)}}),o)},en.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],s=e.filter((function(e){return e.status===on.RUN})).map((function(e){return e.currentWriteId})),o=0;o<e.length;o++){var l=e[o],c=V.relativePath(t,l.path),h=!1,u=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===on.NEEDS_ABORT)h=!0,u=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===on.RUN)if(l.retryCount>=en.MAX_TRANSACTION_RETRIES_)h=!0,u="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var d=this.getLatestState_(l.path,s);l.currentInputSnapshot=d;var p=e[o].update(d.val());if(void 0!==p){re("transaction failed: Data returned ",p,l.path);var m=Ue(p);"object"==typeof p&&null!=p&&a.contains(p,".priority")||(m=m.updatePriority(d.getPriority()));var f=l.currentWriteId,g=this.generateServerValues(),y=it(m,d,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,y,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else h=!0,u="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],h&&(e[o].status=on.COMPLETED,n=e[o].unwatcher,setTimeout(n,Math.floor(0)),e[o].onComplete))if("nodata"===u){var v=new sn(this,e[o].path),_=e[o].currentInputSnapshot,b=new We(_,v,Oe);r.push(e[o].onComplete.bind(null,null,!1,b))}else r.push(e[o].onComplete.bind(null,new Error(u),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(o=0;o<r.length;o++)$(r[o]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},en.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},en.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},en.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==on.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},en.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},en.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,s=0;s<t.length;s++)if(t[s].status===on.SENT_NEEDS_ABORT);else if(t[s].status===on.SENT)a.assert(i===s-1,"All SENT items should be at beginning of queue."),i=s,t[s].status=on.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(a.assert(t[s].status===on.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){n.push(t[s].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(s=0;s<n.length;s++)$(n[s])}};var cn,hn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return cn||(cn=new e),cn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var l=(n=void 0,o.__values(Object.keys(this.repos_[a]))),c=l.next();!c.done;c=l.next()){var h=c.value;this.repos_[a][h].interrupt()}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var l=(n=void 0,o.__values(Object.keys(this.repos_[a]))),c=l.next();!c.done;c=l.next()){var h=c.value;this.repos_[a][h].resume()}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n){var r=n||e.options.databaseURL;void 0===r&&x("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=K(r),s=i.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(r="http://"+o+"?ns="+s.namespace,s=(i=K(r)).repoInfo),ue("Invalid Firebase Database URL",1,i),i.path.isEmpty()||x("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,e,t).database},e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);t&&a.safeGet(t,e.repoInfo_.toURLString())===e||x("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=a.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=a.safeGet(r,e.toURLString());return i&&x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new en(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),un=function(){function e(e){this.repo_=e,e instanceof en||x("Don't call new Database() directly - please use firebase.database()."),this.root_=new sn(e,V.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),e instanceof sn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),a.validateArgCount(t,1,1,arguments.length);var n=K(e);ue(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&x(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&x("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),dn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.database.checkDeleted_("delete"),hn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),pn=Object.freeze({__proto__:null,forceLongPolling:function(){Qt.forceDisallow(),Ht.forceAllow()},forceWebSockets:function(){Ht.forceDisallow()},isWebSocketsAvailable:function(){return Qt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),mn=Zt;Zt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Zt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var fn=Yt,gn=z,yn=Object.freeze({__proto__:null,DataConnection:mn,RealTimeConnection:fn,hijackHash:function(e){var t=Zt.prototype.put;return Zt.prototype.put=function(n,r,i,s){void 0!==s&&(s=e()),t.call(this,n,r,i,s)},function(){Zt.prototype.put=t}},ConnectionTarget:gn,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){hn.getInstance().forceRestClient(e)}}),vn=un.ServerValue;function _n(t){!function(e){Wt=e}(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new c.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return hn.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:sn,Query:Xe,Database:un,DataSnapshot:We,enableLogging:w,INTERNAL:pn,ServerValue:vn,TEST_ACCESS:yn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.6.5"),a.isNodeSdk()&&(e.exports=n)}_n(s),t.DataSnapshot=We,t.Database=un,t.OnDisconnect=pe,t.Query=Xe,t.Reference=sn,t.ServerValue=vn,t.enableLogging=w,t.registerDatabase=_n},"Npq/":function(e,t,n){"use strict";n.r(t),t.default=""},Nw0I:function(e,t,n){"use strict";n.r(t),t.default=".add-person {\r\n    width: 400px;\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n}\r\n\r\n.add-person .image-holder .image {\r\n    max-width: 100px;\r\n}\r\n\r\n.add-person>.image-holder {\r\n    display: grid;\r\n    grid-gap: 10px;\r\n    grid-template-columns: 1fr;\r\n}\r\n\r\n.add-person>.data-holder {\r\n    display: grid;\r\n    grid-gap: 10px;\r\n    grid-template-columns: 1fr 1fr;\r\n}"},OAgL:function(e,t,n){var r=n("s1oe"),i=n("/RX3"),s=n("kSER"),o=n("Y4EA"),a=n("QN7Q"),l=n("NOtv")("socket.io-client:socket"),c=n("TypT"),h=n("WLGk");e.exports=p;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",a(this,"onopen")),o(e,"packet",a(this,"onpacket")),o(e,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);l("sending ack %j",i),t.packet({type:h(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},ODnt:function(e,t,n){"use strict";n.r(t),t.default=".alert-holder {\r\n    display: grid;\r\n    grid-template-columns: 2fr 1fr;\r\n    grid-gap: 20px;\r\n}"},QN7Q:function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},QgpJ:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1>Login as Admin</h1>\n        <form>\n            <label>Email:</label>\n            <input type=\'email\' name="email" [(ngModel)]="email" placeholder="Enter email here"/>\n            <label>Password:</label>\n            <input type=\'password\' name="password" [(ngModel)]="password" placeholder="Enter password here" />\n            <button (click)="login()">Login as admin</button>\n        </form>\n    </div>\n</div>'},QlxH:function(e,t,n){"use strict";n.r(t),t.default=".bar {\r\n    display: -webkit-box;\r\n    display: flex;\r\n}\r\n\r\n.bar h1 {}\r\n\r\n.bar>.buttons {\r\n    -webkit-box-flex: 1;\r\n            flex: 1;\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-pack: end;\r\n            justify-content: flex-end;\r\n    margin: 0 0 0 10px;\r\n    padding: 20px 0 10px 0;\r\n}\r\n\r\n.bar>.buttons>button {\r\n    border-radius: 5px;\r\n    background-color: #2ecc71;\r\n    color: white;\r\n    margin: 0px 5px;\r\n}\r\n\r\n.bar>.buttons>button:hover {\r\n    background-color: #27ae60;\r\n}\r\n\r\n.cameras {\r\n    /*     \r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    grid-gap: 30px;\r\n    ; */\r\n}\r\n\r\n.cameras-holder {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.camera {\r\n    cursor: pointer;\r\n    padding: 5px;\r\n    box-shadow: 0 0 10px #aaa;\r\n    ;\r\n    border-radius: 10px;\r\n}\r\n\r\n.camera .location {\r\n    font-size: 10px;\r\n}\r\n\r\n.servers {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    grid-gap: 30px;\r\n    ;\r\n}\r\n\r\n.server {\r\n    cursor: pointer;\r\n    padding: 5px;\r\n    box-shadow: 0 0 10px #aaa;\r\n    ;\r\n    border-radius: 10px;\r\n}\r\n\r\n.server .location {\r\n    font-size: 10px;\r\n}\r\n\r\n.search {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n            flex-direction: row;\r\n    -webkit-box-pack: end;\r\n            justify-content: flex-end;\r\n}\r\n\r\n.search * {\r\n    display: block;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    margin: 0;\r\n    margin-left: 10px;\r\n}\r\n\r\n.search>.search-bar {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    border-radius: 50px;\r\n    border: 1px solid #888;\r\n    overflow: hidden;\r\n}\r\n\r\n.search>.search-bar * {\r\n    display: block;\r\n    background: transparent;\r\n    border: none;\r\n    padding: 0 5px;\r\n    margin: 0;\r\n    outline: none;\r\n}\r\n\r\n.search>.search-bar button:hover {\r\n    background: rgb(199, 65, 65);\r\n    color: white;\r\n}"},Qr12:function(e,t,n){"use strict";n.r(t),t.default="form {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}"},Qsis:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},QxC6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("iAHb"),i=n("EV1M");const s=e=>Object(r.a)().duration(e?400:300),o=e=>{let t,n;const i=e.width+8,o=Object(r.a)(),a=Object(r.a)();e.isEndSide?(t=i+"px",n="0px"):(t=-i+"px",n="0px"),o.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${n})`);const l="ios"===e.mode,c=l?.2:.25;return a.addElement(e.backdropEl).fromTo("opacity",.01,c),s(l).addAnimation([o,a])},a=e=>{let t,n;const i=e.width;e.isEndSide?(t=-i+"px",n=i+"px"):(t=i+"px",n=-i+"px");const o=Object(r.a)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),a=Object(r.a)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),l=Object(r.a)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return s("ios"===e.mode).addAnimation([o,a,l])},l=e=>{const t=e.width*(e.isEndSide?-1:1)+"px",n=Object(r.a)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`);return s("ios"===e.mode).addAnimation(n)},c=(()=>{const e=new Map,t=[],n=async e=>{if(await m(),"start"===e||"end"===e){const t=p(t=>t.side===e&&!t.disabled);return t||p(t=>t.side===e)}if(null!=e)return p(t=>t.menuId===e);const n=p(e=>!e.disabled);return n||(t.length>0?t[0].el:void 0)},r=async()=>(await m(),h()),s=(t,n)=>{e.set(t,n)},c=e=>{const n=e.side;t.filter(t=>t.side===n&&t!==e).forEach(e=>e.disabled=!0)},h=()=>p(e=>e._isOpen),u=()=>t.map(e=>e.el),d=()=>t.some(e=>e.isAnimating),p=e=>{const n=t.find(e);if(void 0!==n)return n.el},m=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(e=>e.componentOnReady()));return s("reveal",l),s("push",a),s("overlay",o),"undefined"!=typeof document&&document.addEventListener("ionBackButton",e=>{const t=h();t&&e.detail.register(i.MENU_BACK_BUTTON_PRIORITY,()=>t.close())}),{registerAnimation:s,get:n,getMenus:async()=>(await m(),u()),getOpen:r,isEnabled:async e=>{const t=await n(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const r=await n(t);return r&&(r.swipeGesture=e),r},isAnimating:async()=>(await m(),d()),isOpen:async e=>{if(null!=e){const t=await n(e);return void 0!==t&&t.isOpen()}return void 0!==await r()},enable:async(e,t)=>{const r=await n(t);return r&&(r.disabled=!e),r},toggle:async e=>{const t=await n(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?n(e):r());return void 0!==t&&t.close()},open:async e=>{const t=await n(e);return!!t&&t.open()},_getOpenSync:h,_createAnimation:(t,n)=>{const r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:e=>{t.indexOf(e)<0&&(e.disabled||c(e),t.push(e))},_unregister:e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:async(e,t,n)=>{if(d())return!1;if(t){const t=await r();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,n)},_setActiveMenu:c}})()},Rpy8:function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,s=i-(n||i);e.diff=s,e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"==typeof i){var s=o[l];n=i.call(e,s),o.splice(l,1),l--}return n})),t.formatArgs.call(e,o);var c=r.log||t.log||console.log.bind(console);c.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var s=t.instances[n];s.enabled=t.enabled(s.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("xc6+"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),o=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,i=t.optional,s=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(s);if(!o){if(i)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(i)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(u){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=r.__read(s.value,2),a=o[0],l=o[1],c=this.normalizeInstanceIdentifier(a);try{var h=this.getOrInitializeService(c);l.resolve(h)}catch(u){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}();var a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new o(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=a,t.Provider=o},TEEy:function(e,t,n){"use strict";n.r(t),t.default=""},TXW0:function(e,t,n){"use strict";n.r(t),t.default='form>* {\r\n    display: block;\r\n}\r\n\r\nform input[type="text"],\r\nform input[type="email"],\r\nform input[type=\'password\'],\r\nform button {\r\n    padding: 5px 10px;\r\n    margin: 10px 0;\r\n}'},TypT:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},UBlB:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return h})),n.d(t,"__generator",(function(){return u})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return m})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return k}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):h(s[0][2],n)}catch(r){h(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},UmqL:function(e,t,n){"use strict";n.r(t),t.default='<div class="dialog">\n    <h1 class="title">{{data.title}}</h1>\n    <p>{{data.description}}</p>\n    <div>\n        <button (click)="handleBtnYes()" class="button green">{{data.btnYes}}</button>\n        <button (click)="handleBtnNo()" class="button red">{{data.btnNo}}</button>\n    </div>\n</div>'},Uxeu:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),s=e.indexOf("]");-1!=i&&-1!=s&&(e=e.substring(0,i)+e.substring(i,s).replace(/:/g,";")+e.substring(s,e.length));for(var o=n.exec(e||""),a={},l=14;l--;)a[r[l]]=o[l]||"";return-1!=i&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},VzVu:function(e,t,n){"use strict";n.r(t),t.default='<header>\n    <div class=\'wrapper\'>\n        \x3c!-- <div class=\'title\'>\n            DARTS\n        </div> --\x3e\n        <div class=\'logo\'>\n        </div>\n        <ul>\n            <li>\n                <a routerLink="">Main Page</a>\n            </li>\n\n            <li *ngIf="didAdminLogin">\n                <a routerLink="admin/home">Admin Dashboard</a>\n            </li>\n\n            <li *ngIf="!didAdminLogin && !didAuthoritativeLogin">\n                <a routerLink="admin/login">Login as Admin</a>\n            </li>\n            <li *ngIf="didAdminLogin">\n                <a (click)="adminLogout()">\n                    Logout\n                </a>\n            </li>\n\n\n            <li *ngIf="!didAdminLogin && !didAuthoritativeLogin">\n                <a routerLink="authoritative/login">Login as Authoritative Person</a>\n            </li>\n\n            <li *ngIf="didAuthoritativeLogin">\n                <a routerLink="authoritative/home">Authoritative Dashboard</a>\n            </li>\n            <li *ngIf="didAuthoritativeLogin">\n                <a (click)="authoritativeLogout()">\n                    Logout\n                </a>\n            </li>\n\n        </ul>\n    </div>\n</header>\n\n<router-outlet (activate)=\'ngOnInit()\'>\n</router-outlet>'},WLGk:function(e,t,n){var r=n("6C75"),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(r(t)){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.15.3","app"),e.exports=i},Y4EA:function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},YLo9:function(e,t,n){"use strict";n.r(t),t.default="<div class='person-details'>\n    <div class='image-holder'>\n        <img class='image' src=\"{{person.picture_url}}\" />\n    </div>\n    <div class='details-holder'>\n        <label>Full Name: </label>\n        <label>{{person.fullName}}</label>\n        <label>Gender: </label>\n        <label>{{person.gender}}</label>\n        \x3c!--\n        <label>ID: </label>\n        <label>{{person._id}}</label>\n        --\x3e\n    </div>\n</div>"},YVxG:function(e,t,n){"use strict";n.r(t),t.default="/* .person-details {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    width: 300px;\r\n    margin: 5px 10px;\r\n    cursor: pointer;\r\n    grid-gap: 10px;\r\n    padding: 5px;\r\n    border: 1px solid #999;\r\n}\r\n\r\n.person-details:hover {\r\n    background: #999;\r\n}\r\n\r\n.person-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 5px;\r\n}\r\n\r\n.person-details .details-holder label:nth-child(2n+1) {\r\n    font-weight: normal;\r\n} */\r\n\r\n\r\n/* .person-details {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    width: 300px;\r\n    margin: 5px 10px;\r\n    cursor: pointer;\r\n    grid-gap: 10px;\r\n    padding: 5px;\r\n    border: 1px solid #999;\r\n}\r\n\r\n.person-details:hover {\r\n    background: #999;\r\n}\r\n\r\n.person-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 5px;\r\n}\r\n\r\n.person-details .details-holder label:nth-child(2n+1) {\r\n    font-weight: normal;\r\n} */\r\n\r\n\r\n.person-details {\r\n    width: 130px;\r\n    padding: 20px 10px;\r\n    background: white;\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 10px #888;\r\n    text-align: center;\r\n    -webkit-animation: all 0.3s ease-in-out;\r\n            animation: all 0.3s ease-in-out;\r\n    margin: 10px;\r\n}\r\n\r\n\r\n.person-details:hover {\r\n    box-shadow: 0 0 20px #888;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n.person-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 1px;\r\n    overflow: hidden;\r\n    margin-top: 10px;\r\n    width: 100%;\r\n}\r\n\r\n\r\n.person-details .details-holder label:nth-child(2n) {\r\n    font-weight: normal;\r\n}\r\n\r\n\r\n.person-details .fullName {\r\n    text-transform: capitalize;\r\n}\r\n\r\n\r\n.person-details .image {\r\n    border-radius: 50%;\r\n}"},Yvos:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},YzUL:function(e,t,n){var r,i,s=n("0zaL"),o=n("hWa/"),a=n("TypT"),l=n("Yvos"),c=n("Aplp"),h=n("NOtv")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(1)}catch(p){}var u=r||i;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=i),s.call(this,e)}e.exports=d,l(d,s),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new u(e,t):new u(e):new u(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){o.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(p){h("websocket closed before onclose event")}--n||s()}))}(e[r]);function s(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},d.prototype.onClose=function(){s.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===d.prototype.name)}},aiEM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return r}));const r=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),i=e=>!!e.shadowRoot&&!!e.attachShadow,s=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},o=(e,t,n,r,s)=>{if(e||i(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=s,e.name=n,e.value=r||""}},a=(e,t,n)=>Math.max(e,Math.min(t,n)),l=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},c=e=>e.timeStamp||Date.now(),h=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},u=e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},d=(e,t)=>{const n=e._original||e;return{_original:e,emit:p(n.emit.bind(n),t)}},p=(e,t=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}}},bUol:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1 style=\'text-transform: capitalize;\'>Viewing Suspect: {{suspect.fullName}}</h1>\n        <p>Suspect ID: {{suspect._id}}</p>\n        <div class=\'frame\'>\n            <div class=\'image-viewer\'>\n                <div class=\'current-image\'>\n                    <img src="{{suspect.pictures[0]}}" style="max-height: 300px" />\n                </div>\n                <hr>\n                <h3>All Pictures: </h3>\n                <p>Upload pictures:</p>\n                <input type="file" ng2FileSelect [uploader]="uploader" multiple (onFileSelected)="uploadFiles()" />\n                <br>\n                <div class=\'all-images\'>\n                    <div *ngFor="let image of suspect.pictures">\n                        <img src="{{image}}" (click)="clickOnImage(image)" />\n                    </div>\n                </div>\n            </div>\n            <form class=\'suspect-details\'>\n                \x3c!-- can edit camera details here  --\x3e\n                <h1>Suspect Details</h1>\n                <div>\n\n                    <label>Full Name: </label>\n                    <input type=\'text\' [(ngModel)]="suspect.fullName" name=\'fullName\' />\n\n\n                    <label>Gender: </label>\n                    <select [(ngModel)]="suspect.gender" name="gender">\n                        <option value="Male">Male</option>\n                        <option value="Female">Female</option>\n                    </select>\n\n                    <label>Tags (separated by commas): </label>\n                    \x3c!-- <textarea [(ngModel)]="tags" name=\'tags\'></textarea> --\x3e\n                    <app-chipper [items]="suspect.tags" (change)="updateSuspectTags($event)"></app-chipper>\n                    <button (click)="deleteSuspect()" class=\'button red\'>Delete</button>\n\n                    <button (click)="updateSuspect()" class=\'button green\'>Update</button>\n\n                </div>\n            </form>\n            <div class=\'map\'>\n                <h1>Track history</h1>\n                <p>Alerts reported ({{alerts.length}})</p>\n                <p *ngIf="alerts.length == 0">Map will only be shown if there are alerts for this suspect.</p>\n                <div *ngIf="alerts.length > 0">\n                    <h3>Navigation</h3>\n                    <p>Navigate to this alert on the map: </p>\n                    <select (change)="showUnitOnMap($event.target.value, alerts)">\n                        <option value=""></option>\n                        <option *ngFor="let item of alerts" value="{{item._id}}">{{item.suspectId.fullName}} -\n                            {{item.time}}\n                        </option>\n                    </select>\n                    <br>\n                    <agm-map [latitude]="comsats.latitude" [longitude]="comsats.longitude" [zoom]="16" [zoom]="16">\n\n                        <agm-marker class=\'alert-marker\' *ngFor="let item of alerts" [longitude]="item.longitude" [latitude]="item.latitude" [iconUrl]="item.icon" [title]="\'alert: \' + item._id" [label]="\'Suspect:\' + item.suspectId.fullName" (markerClick)="viewAlert(item)"></agm-marker>\n                        <agm-polyline *ngFor="let path of tpl" [editable]="false">\n                            <agm-polyline-point *ngFor="let p of path" [latitude]="p[1]" [longitude]="p[0]">\n                            </agm-polyline-point>\n                        </agm-polyline>\n                    </agm-map>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},c3EK:function(e,t){var n,r,i,s=String.fromCharCode;function o(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return s(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return s(e);var n="";return 0==(4294965248&e)?n=s(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=s(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=s(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=s(63&e|128)}function h(){if(i>=r)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var t,s;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(t=255&n[i],i++,0==(128&t))return t;if(192==(224&t)){if((s=(31&t)<<6|h())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&t)){if((s=(15&t)<<12|h()<<6|h())>=2048)return a(s,e)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(s=(7&t)<<18|h()<<12|h()<<6|h())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=o(e),i=r.length,s=-1,a="";++s<i;)a+=c(r[s],n);return a},decode:function(e,t){var a=!1!==(t=t||{}).strict;n=o(e),r=n.length,i=0;for(var l,c=[];!1!==(l=u(a));)c.push(l);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=s((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=s(t);return i}(c)}}},"eNa/":function(e,t,n){"use strict";n.r(t),t.default="/* .suspect-details {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    width: 300px;\r\n    margin: 5px 10px;\r\n    cursor: pointer;\r\n    grid-gap: 10px;\r\n    padding: 5px;\r\n    border: 1px solid #999;\r\n}\r\n\r\n.suspect-details:hover {\r\n    background: #999;\r\n}\r\n\r\n.suspect-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 5px;\r\n}\r\n\r\n.suspect-details .details-holder label:nth-child(2n+1) {\r\n    font-weight: normal;\r\n} */\r\n\r\n.suspect-details {\r\n    width: 170px;\r\n    padding: 20px 10px;\r\n    background: white;\r\n    border-radius: 20px;\r\n    box-shadow: 0 0 10px #888;\r\n    text-align: center;\r\n    -webkit-animation: all 0.3s ease-in-out;\r\n            animation: all 0.3s ease-in-out;\r\n}\r\n\r\n.suspect-details:hover {\r\n    box-shadow: 0 0 20px #888;\r\n    cursor: pointer;\r\n}\r\n\r\n.suspect-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 1px;\r\n    overflow: hidden;\r\n    margin-top: 10px;\r\n}\r\n\r\n.suspect-details .details-holder label:nth-child(2n) {\r\n    font-weight: normal;\r\n}\r\n\r\n.suspect-details .fullName {\r\n    text-transform: capitalize;\r\n}\r\n\r\n.suspect-details .image {\r\n    border-radius: 50%;\r\n}"},ebMt:function(e,t,n){"use strict";n.r(t),t.default=".camera-details {\r\n    width: 300px;\r\n    margin: 10px;\r\n    box-shadow: 0 0 10px #888;\r\n    text-align: center;\r\n    padding: 10px 20px;\r\n    border-radius: 20px;\r\n    ;\r\n}\r\n\r\n.camera-details:hover {\r\n    cursor: pointer;\r\n    box-shadow: 0 0 20px #888;\r\n}\r\n\r\n.camera-details .image-holder {\r\n    min-height: 200px !important;\r\n    line-height: 200px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.camera-details .image-holder img {\r\n    border-radius: 10px;\r\n    ;\r\n}\r\n\r\n.camera-details .details-holder {\r\n    display: grid;\r\n    grid-template-columns: 1fr 5fr;\r\n    text-align: left;\r\n}\r\n\r\n.camera-details .details-holder label:nth-child(2n) {\r\n    font-weight: normal;\r\n}\r\n\r\n.camera-details .details-holder * {\r\n    font-weight: bold;\r\n    background-color: #f39c12;\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n    color: white;\r\n    line-height: 15px;\r\n}"},ej1j:function(e,t,n){"use strict";n.r(t),t.default=""},eouj:function(e,t,n){"use strict";n.r(t),t.default=".location-on-map {\r\n    width: 100%;\r\n    height: 300px;\r\n}\r\n\r\n.qrunit-marker {}\r\n\r\n.alert-marker {\r\n    color: red;\r\n    ;\r\n}\r\n\r\n.wrapper {\r\n    display: grid;\r\n    grid-template-columns: 2fr 1fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.search-suggestions-holder {\r\n    list-style: none;\r\n    display: block;\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 1px solid #666;\r\n}\r\n\r\n.search-suggestion {\r\n    cursor: pointer;\r\n    padding: 5px;\r\n    border-bottom: 1px solid #666;\r\n}\r\n\r\n.search-suggestion:hover {\r\n    background: #aaa;\r\n}"},fTmq:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1>Add a new Server </h1>\n        <p>(Double click on map to choose location)</p>\n        <div class=\'grid-form\'>\n            <agm-map class=\'map\' (mapClick)="choseThisLocation($event)" [latitude]="comsats.latitude" [longitude]="comsats.longitude" [zoom]="16">\n                <agm-marker [longitude]="locationCoords.longitude" [latitude]="locationCoords.latitude" *ngIf="locationSelected"></agm-marker>\n            </agm-map>\n            <form>\n                \x3c!-- for styling --\x3e\n                <div>\n                    <label>Name: </label>\n                    <input type=\'text\' [(ngModel)]="name" name=\'name\' />\n                    <label>Url: </label>\n                    <input type=\'url\' [(ngModel)]="url" name=\'url\' />\n                    <label>Location </label>\n\n                    \x3c!-- filler --\x3e\n                    <label for=""></label>\n\n                    <label>Longitude: </label>\n                    <input type=\'number\' [(ngModel)]="locationCoords.longitude" name=\'longitude\' />\n                    <label>Latitude: </label>\n                    <input type=\'number\' [(ngModel)]="locationCoords.latitude" name=\'latitude\' />\n\n                    \x3c!-- filler --\x3e\n                    <label></label>\n\n                    <button (click)="addServer()">Add Server</button>\n                </div>\n            </form>\n        </div>\n\n    </div>\n</div>'},fg2H:function(e,t,n){var r=n("yeub");e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(s){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},g5Dd:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,s="";for(n=0;n<i;n+=3)s+=e[r[n]>>2],s+=e[(3&r[n])<<4|r[n+1]>>4],s+=e[(15&r[n+1])<<2|r[n+2]>>6],s+=e[63&r[n+2]];return i%3==2?s=s.substring(0,s.length-1)+"=":i%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,r,i,s,o,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var h=new ArrayBuffer(a),u=new Uint8Array(h);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],s=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],u[c++]=r<<2|i>>4,u[c++]=(15&i)<<4|s>>2,u[c++]=(3&s)<<6|63&o;return h}}()},"hWa/":function(e,t,n){var r,i=n("k7Z5"),s=n("WLGk"),o=n("ypnn"),a=n("zMFY"),l=n("c3EK");"undefined"!=typeof ArrayBuffer&&(r=n("g5Dd"));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=c||h;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(d),m={type:"error",data:"parser error"},f=n("14A5");function g(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),s=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},o=0;o<e.length;o++)s(o,e[o],i)}t.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,s=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=d[e.type];for(var a=0;a<s.length;a++)o[a+1]=s[a];return r(o.buffer)}(e,n,i);if(void 0!==f&&s instanceof f)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(u)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=d[e.type];var s=new f([i.buffer,e.data]);return r(s)}(e,n,i);if(s&&s.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var o=d[e.type];return void 0!==e.data&&(o+=r?l.encode(String(e.data),{strict:!1}):String(e.data)),i(""+o)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if(void 0!==f&&e.data instanceof f){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];n(i+e)},s.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(c){for(var o=new Uint8Array(e.data),a=new Array(o.length),l=0;l<o.length;l++)a[l]=o[l];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return m;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return m;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:m}i=new Uint8Array(e)[0];var s=o(e,1);return f&&"blob"===n&&(s=new f([s])),{type:p[i],data:s}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&f&&(i=new f([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=s(e);if(n&&i)return f&&!u?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(m,0,1);for(var s,o,a="",l=0,c=e.length;l<c;l++){var h=e.charAt(l);if(":"===h){if(""===a||a!=(s=Number(a)))return r(m,0,1);if(a!=(o=e.substr(l+1,s)).length)return r(m,0,1);if(o.length){if(i=t.decodePacket(o,n,!1),m.type===i.type&&m.data===i.data)return r(m,0,1);if(!1===r(i,l+s,c))return}l+=s,a=""}else a+=h}return""!==a?r(m,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),s=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}i[s++]=t?0:1;var a=n.byteLength.toString();for(o=0;o<a.length;o++)i[s++]=parseInt(a[o]);i[s++]=255;for(r=new Uint8Array(n),o=0;o<r.length;o++)i[s++]=r[o]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var s=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(s.length+1);for(i=0;i<s.length;i++)o[i]=parseInt(s[i]);if(o[s.length]=255,f){var a=new f([t.buffer,o.buffer,e]);n(null,a)}}))}),(function(e,t){return n(new f(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,s=[];i.byteLength>0;){for(var a=new Uint8Array(i),l=0===a[0],c="",h=1;255!==a[h];h++){if(c.length>310)return r(m,0,1);c+=a[h]}i=o(i,2+c.length),c=parseInt(c);var u=o(i,0,c);if(l)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(f){var d=new Uint8Array(u);u="";for(h=0;h<d.length;h++)u+=String.fromCharCode(d[h])}s.push(u),i=o(i,c)}var p=s.length;s.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,p)}))}},i958:function(e,t,n){"use strict";n.r(t),t.default=".grid-form {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-gap: 30px;\r\n}\r\n\r\n.grid-form>.map {\r\n    height: 70vh;\r\n}\r\n\r\n.grid-form>form>div {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}"},iAHb:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("aiEM");const i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();let s;const o=e=>{if(void 0===s){const t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;s=!t&&n?"-webkit-":""}return s},a=(e,t,n)=>{const r=t.startsWith("animation")?o(e):"";e.style.setProperty(r+t,n)},l=(e,t)=>{const n=t.startsWith("animation")?o(e):"";e.style.removeProperty(n+t)},c=[],h=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},u=e=>{let t,n,s,u,d,p,m,f,g,y,v,_,b,w=[],C=[],E=[],S=!1,x={},k=[],T=[],O={},A=0,I=!1,D=!1,P=!0,N=!1,R=!0;const M=e,F=[],L=[],j=[],$=[],B=[],V=[],U=[],z=[],H=[],q=[],W="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&W,Q=()=>{X(),Z()},K=(e,t)=>((t&&t.oneTimeCallback?L:F).push({c:e,o:t}),b),Y=()=>(F.length=0,L.length=0,b),X=()=>{if(G)q.forEach(e=>{e.cancel()}),q.length=0;else{const e=j.slice();Object(r.k)(()=>{e.forEach(e=>{l(e,"animation-name"),l(e,"animation-duration"),l(e,"animation-timing-function"),l(e,"animation-iteration-count"),l(e,"animation-delay"),l(e,"animation-play-state"),l(e,"animation-fill-mode"),l(e,"animation-direction")})})}},Z=()=>{B.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),B.length=0},J=()=>void 0!==d?d:m?m.getFill():"both",ee=()=>void 0!==g?g:void 0!==p?p:m?m.getDirection():"normal",te=()=>I?"linear":void 0!==s?s:m?m.getEasing():"linear",ne=()=>D?0:void 0!==y?y:void 0!==n?n:m?m.getDuration():0,re=()=>void 0!==u?u:m?m.getIterations():1,ie=()=>void 0!==v?v:void 0!==t?t:m?m.getDelay():0,se=()=>{0!==A&&(A--,0===A&&((()=>{me(),z.forEach(e=>e()),H.forEach(e=>e());const e=P?1:0,t=k,n=T,r=O;j.forEach(e=>{const i=e.classList;t.forEach(e=>i.add(e)),n.forEach(e=>i.remove(e));for(const t in r)r.hasOwnProperty(t)&&a(e,t,r[t])}),F.forEach(t=>t.c(e,b)),L.forEach(t=>t.c(e,b)),L.length=0,R=!0,P&&(N=!0),P=!0})(),m&&m.animationFinish()))},oe=(t=!0)=>{Z();const n=(e=>(e.forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];if("easing"===t){e["animation-timing-function"]=n,delete e[t]}else{const r=i(t);r!==t&&(e[r]=n,delete e[t])}}}),e))(w);j.forEach(i=>{if(n.length>0){const s=((e=[])=>e.map(e=>{const t=e.offset,n=[];for(const r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${e[r]};`);return`${100*t}% { ${n.join(" ")} }`}).join(" "))(n);_=void 0!==e?e:(e=>{let t=c.indexOf(e);return t<0&&(t=c.push(e)-1),`ion-animation-${t}`})(s);const l=((e,t,n)=>{const r=(e=>{const t=e.getRootNode();return t.head||t})(n),i=o(n),s=r.querySelector("#"+e);if(s)return s;const a=(n.ownerDocument||document).createElement("style");return a.id=e,a.textContent=`@${i}keyframes ${e} { ${t} } @${i}keyframes ${e}-alt { ${t} }`,r.appendChild(a),a})(_,s,i);B.push(l),a(i,"animation-duration",`${ne()}ms`),a(i,"animation-timing-function",te()),a(i,"animation-delay",`${ie()}ms`),a(i,"animation-fill-mode",J()),a(i,"animation-direction",ee());const h=re()===1/0?"infinite":re().toString();a(i,"animation-iteration-count",h),a(i,"animation-play-state","paused"),t&&a(i,"animation-name",`${l.id}-alt`),Object(r.k)(()=>{a(i,"animation-name",l.id||null)})}})},ae=(e=!0)=>{(()=>{V.forEach(e=>e()),U.forEach(e=>e());const e=C,t=E,n=x;j.forEach(r=>{const i=r.classList;e.forEach(e=>i.add(e)),t.forEach(e=>i.remove(e));for(const e in n)n.hasOwnProperty(e)&&a(r,e,n[e])})})(),w.length>0&&(G?(j.forEach(e=>{const t=e.animate(w,{id:M,delay:ie(),duration:ne(),easing:te(),iterations:re(),fill:J(),direction:ee()});t.pause(),q.push(t)}),q.length>0&&(q[0].onfinish=()=>{se()})):oe(e)),S=!0},le=e=>{if(e=Math.min(Math.max(e,0),.9999),G)q.forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+ne()*e,t.pause()});else{const t=`-${ne()*e}ms`;j.forEach(e=>{w.length>0&&(a(e,"animation-delay",t),a(e,"animation-play-state","paused"))})}},ce=e=>{q.forEach(e=>{e.effect.updateTiming({delay:ie(),duration:ne(),easing:te(),iterations:re(),fill:J(),direction:ee()})}),void 0!==e&&le(e)},he=(e=!0,t)=>{Object(r.k)(()=>{j.forEach(n=>{a(n,"animation-name",_||null),a(n,"animation-duration",`${ne()}ms`),a(n,"animation-timing-function",te()),a(n,"animation-delay",void 0!==t?`-${t*ne()}ms`:`${ie()}ms`),a(n,"animation-fill-mode",J()||null),a(n,"animation-direction",ee()||null);const i=re()===1/0?"infinite":re().toString();a(n,"animation-iteration-count",i),e&&a(n,"animation-name",`${_}-alt`),Object(r.k)(()=>{a(n,"animation-name",_||null)})})})},ue=(e=!1,t=!0,n)=>(e&&$.forEach(r=>{r.update(e,t,n)}),G?ce(n):he(t,n),b),de=()=>{S&&(G?q.forEach(e=>{e.pause()}):j.forEach(e=>{a(e,"animation-play-state","paused")}))},pe=()=>{f=void 0,se()},me=()=>{f&&clearTimeout(f)},fe=()=>{j.forEach(e=>{l(e,"animation-duration"),l(e,"animation-delay"),l(e,"animation-play-state")})},ge=e=>new Promise(t=>{e&&e.sync&&(D=!0,K(()=>D=!1,{oneTimeCallback:!0})),S||ae(),N&&(G?(le(0),ce()):he(),N=!1),R&&(A=$.length+1,R=!1),K(()=>t(),{oneTimeCallback:!0}),$.forEach(e=>{e.play()}),G?(q.forEach(e=>{e.play()}),0!==w.length&&0!==j.length||se()):(()=>{if(me(),Object(r.k)(()=>{j.forEach(e=>{w.length>0&&a(e,"animation-play-state","running")})}),0===w.length||0===j.length)se();else{const e=ie()||0,t=ne()||0,n=re()||1;isFinite(n)&&(f=setTimeout(pe,e+t*n+100)),((e,t)=>{let n;const r={passive:!0},i=()=>{n&&n()},s=n=>{e===n.target&&(i(),t(n))};e&&(e.addEventListener("webkitAnimationEnd",s,r),e.addEventListener("animationend",s,r),n=()=>{e.removeEventListener("webkitAnimationEnd",s,r),e.removeEventListener("animationend",s,r)})})(j[0],()=>{me(),Object(r.k)(()=>{fe(),Object(r.k)(se)})})}})()}),ye=(e,t)=>{const n=w[0];return void 0===n||void 0!==n.offset&&0!==n.offset?w=[{offset:0,[e]:t},...w]:n[e]=t,b};return b={parentAnimation:m,elements:j,childAnimations:$,id:M,animationFinish:se,from:ye,to:(e,t)=>{const n=w[w.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?w=[...w,{offset:1,[e]:t}]:n[e]=t,b},fromTo:(e,t,n)=>ye(e,t).to(e,n),parent:e=>(m=e,b),play:ge,pause:()=>($.forEach(e=>{e.pause()}),de(),b),stop:()=>{$.forEach(e=>{e.stop()}),S&&(X(),S=!1)},destroy:()=>($.forEach(e=>{e.destroy()}),Q(),j.length=0,$.length=0,w.length=0,Y(),S=!1,R=!0,b),keyframes:e=>(w=e,b),addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(b),$.push(t);else e.parent(b),$.push(e);return b},addElement:e=>{if(null!=e)if(1===e.nodeType)j.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)j.push(e[t]);else console.error("Invalid addElement value");return b},update:ue,fill:e=>(d=e,ue(!0),b),direction:e=>(p=e,ue(!0),b),iterations:e=>(u=e,ue(!0),b),duration:e=>(G||0!==e||(e=1),n=e,ue(!0),b),easing:e=>(s=e,ue(!0),b),delay:e=>(t=e,ue(!0),b),getWebAnimations:()=>q,getKeyframes:()=>w,getFill:J,getDirection:ee,getDelay:ie,getIterations:re,getEasing:te,getDuration:ne,afterAddRead:e=>(z.push(e),b),afterAddWrite:e=>(H.push(e),b),afterClearStyles:(e=[])=>{for(const t of e)O[t]="";return b},afterStyles:(e={})=>(O=e,b),afterRemoveClass:e=>(T=h(T,e),b),afterAddClass:e=>(k=h(k,e),b),beforeAddRead:e=>(V.push(e),b),beforeAddWrite:e=>(U.push(e),b),beforeClearStyles:(e=[])=>{for(const t of e)x[t]="";return b},beforeStyles:(e={})=>(x=e,b),beforeRemoveClass:e=>(E=h(E,e),b),beforeAddClass:e=>(C=h(C,e),b),onFinish:K,progressStart:(e=!1,t)=>($.forEach(n=>{n.progressStart(e,t)}),de(),I=e,S?ue(!1,!0,t):ae(),b),progressStep:e=>($.forEach(t=>{t.progressStep(e)}),le(e),b),progressEnd:(e,t,n)=>(I=!1,$.forEach(r=>{r.progressEnd(e,t,n)}),void 0!==n&&(y=n),N=!1,P=!0,0===e?(g="reverse"===ee()?"normal":"reverse","reverse"===g&&(P=!1),G?(ue(),le(1-t)):(v=(1-t)*ne()*-1,ue(!1,!1))):1===e&&(G?(ue(),le(t)):(v=t*ne()*-1,ue(!1,!1))),void 0!==e&&(K(()=>{y=void 0,g=void 0,v=void 0},{oneTimeCallback:!0}),m||ge()),b)}}},iYqq:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <div *ngIf="camera == null">\n            <h1>Please wait, loading camera details!</h1>\n        </div>\n        <div *ngIf="camera != null">\n            <h1>Viewing live footage of camera: {{camera._id}}</h1>\n            <div class=\'frame\'>\n\n                <div class=\'live-footage\'>\n                    <div>\n                        Footage from:\n                        <select [(ngModel)]="videoOrigin">\n                            <option value=\'camera\'>Camera</option>\n                            <option value=\'server\' *ngIf="server != null">Server</option>\n                        </select>\n                    </div>\n                    <div *ngIf="videoOrigin == \'camera\'">\n                        <img src="{{camera.url}}" (error)="validCameraVideoUrl=false" *ngIf="validCameraVideoUrl" />\n                        <div style=\'margin: 30px 0\' class=\'error\' *ngIf="!validCameraVideoUrl">Streaming unavailable for this camera - check url and make sure camera is running</div>\n                    </div>\n\n                    <div *ngIf="videoOrigin == \'server\'">\n                        <img src="{{server.url + \'/camera/\' + camera._id}}" (error)="validServerVideoUrl=false" *ngIf="validServerVideoUrl" />\n                        <div style=\'margin: 30px 0\' class=\'error\' *ngIf="!validServerVideoUrl">Server streaming unavailable for this camera - check url and make sure server is running</div>\n                    </div>\n                </div>\n                <agm-map class=\'location-on-map\' [latitude]="camera.latitude" [longitude]="camera.longitude" [zoom]="16">\n                    <agm-marker [longitude]="camera.longitude" [latitude]="camera.latitude"></agm-marker>\n                </agm-map>\n                <div class=\'camera-details\'>\n                    \x3c!-- can edit camera details here  --\x3e\n                    <h1>Camera Details</h1>\n                    <div>\n                        <label>Url: </label>\n                        <label>{{camera.url}}</label>\n\n                        <label>Location </label>\n\n                        \x3c!-- filler --\x3e\n                        <label></label>\n\n                        <label>Longitude: </label>\n                        <label>{{camera.longitude}}</label>\n                        <label>Latitude: </label>\n                        <label>{{camera.latitude}}</label>\n\n\n                        <h3 *ngIf="server != null" style=\'grid-column: 1 / 3\'>Assigned to Server: {{server._id }}</h3>\n                        <h3 *ngIf="server == null" style=\'grid-column: 1 / 3\'>Not assigned to any server</h3>\n\n\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>'},im4X:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1>Add a new Suspect </h1>\n        <form>\n            <label>Full Name: </label>\n            <input type=\'text\' [(ngModel)]="suspect.fullName" name=\'fullName\' />\n\n\n            <label>Gender: </label>\n            <select [(ngModel)]="suspect.gender" name="gender">\n                <option value="Male">Male</option>\n                <option value="Female">Female</option>\n            </select>\n\n            <label>Tags (separated by commas): </label>\n            <textarea [(ngModel)]="suspect.tags" name=\'tags\'></textarea>\n\n\n\n            \x3c!-- filler --\x3e\n            <label></label>\n\n            <button (click)="addSuspect()">Add Suspect</button>\n        </form>\n    </div>\n\n</div>'},jZTU:function(e,t,n){"use strict";n.r(t),t.default='<div class=\'camera-details\'>\n    <div class=\'image-holder\'>\n        <img class=\'image\' *ngIf="validImg" src="{{camera.url}}" (error)="validImg=false" />\n        <div *ngIf="!validImg">Streaming unavailable for this camera</div>\n    </div>\n    <div class=\'details-holder\'>\n        <ion-icon name="wifi-outline"></ion-icon>\n        <label> {{camera.url}}\n        </label>\n        <ion-icon name="location-outline"></ion-icon>\n        <label>lat: {{camera.latitude | number: \'2.4\'}}, lng:\n            {{camera.longitude | number: \'2.4\'}}\n        </label>\n        <ion-icon name="videocam-outline"></ion-icon>\n        <label> {{camera._id}}\n        </label>\n        <ion-icon name="server-outline"></ion-icon>\n        <label> connected to: {{camera.serverId || "No server"}}\n        </label>\n    </div>\n</div>'},jkg5:function(e,t,n){"use strict";n.r(t),t.default=".grid-form {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-gap: 30px;\r\n}\r\n\r\n.grid-form>.map {\r\n    height: 70vh;\r\n}\r\n\r\n.grid-form>form>div {\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    grid-gap: 10px;\r\n}"},k7Z5:function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},kBU6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a}));const r="ionViewWillEnter",i="ionViewDidEnter",s="ionViewWillLeave",o="ionViewDidLeave",a="ionViewWillUnload"},kLfG:function(e,t,n){var r={"./ion-action-sheet-ios.entry.js":["bnjm",0,14],"./ion-action-sheet-md.entry.js":["utt2",0,15],"./ion-alert-ios.entry.js":["yaSn",0,16],"./ion-alert-md.entry.js":["2/RY",0,17],"./ion-app_8-ios.entry.js":["iInF",0,18],"./ion-app_8-md.entry.js":["K9Nc",0,19],"./ion-avatar_3-ios.entry.js":["hH1s",0,20],"./ion-avatar_3-md.entry.js":["Jw9y",0,21],"./ion-back-button-ios.entry.js":["ouVF",0,22],"./ion-back-button-md.entry.js":["/joy",0,23],"./ion-backdrop-ios.entry.js":["uJLv",24],"./ion-backdrop-md.entry.js":["fSmE",25],"./ion-button_2-ios.entry.js":["s1jK",0,26],"./ion-button_2-md.entry.js":["Wou7",0,27],"./ion-card_5-ios.entry.js":["qshq",0,28],"./ion-card_5-md.entry.js":["Q1uX",0,29],"./ion-checkbox-ios.entry.js":["059i",0,30],"./ion-checkbox-md.entry.js":["eLfv",0,31],"./ion-chip-ios.entry.js":["+FzG",0,32],"./ion-chip-md.entry.js":["yRpg",0,33],"./ion-col_3.entry.js":["/CAe",34],"./ion-datetime_3-ios.entry.js":["Z1Jy",0,35],"./ion-datetime_3-md.entry.js":["X0Dk",0,36],"./ion-fab_3-ios.entry.js":["wvyA",0,37],"./ion-fab_3-md.entry.js":["NkKY",0,38],"./ion-img.entry.js":["wHD8",39],"./ion-infinite-scroll_2-ios.entry.js":["nf6t",0,40],"./ion-infinite-scroll_2-md.entry.js":["lg/V",0,41],"./ion-input-ios.entry.js":["sdJS",0,42],"./ion-input-md.entry.js":["uQUw",0,43],"./ion-item-option_3-ios.entry.js":["Pa1g",0,44],"./ion-item-option_3-md.entry.js":["KTnd",0,45],"./ion-item_8-ios.entry.js":["Z51p",0,46],"./ion-item_8-md.entry.js":["8bam",0,47],"./ion-loading-ios.entry.js":["J3Yu",0,48],"./ion-loading-md.entry.js":["N3W9",0,49],"./ion-menu_3-ios.entry.js":["IlGI",0,50],"./ion-menu_3-md.entry.js":["WHty",0,51],"./ion-modal-ios.entry.js":["mgaC",0,52],"./ion-modal-md.entry.js":["EpFf",0,53],"./ion-nav_2.entry.js":["vnES",0,54],"./ion-popover-ios.entry.js":["Gdks",0,55],"./ion-popover-md.entry.js":["VgKV",0,56],"./ion-progress-bar-ios.entry.js":["0PGG",0,57],"./ion-progress-bar-md.entry.js":["h/Bu",0,58],"./ion-radio_2-ios.entry.js":["5bK7",0,59],"./ion-radio_2-md.entry.js":["pOmE",0,60],"./ion-range-ios.entry.js":["5g9+",0,61],"./ion-range-md.entry.js":["fD4w",0,62],"./ion-refresher_2-ios.entry.js":["CXux",0,63],"./ion-refresher_2-md.entry.js":["RODS",0,64],"./ion-reorder_2-ios.entry.js":["IdzL",0,65],"./ion-reorder_2-md.entry.js":["Ftzj",0,66],"./ion-ripple-effect.entry.js":["STjf",67],"./ion-route_4.entry.js":["k5eQ",0,68],"./ion-searchbar-ios.entry.js":["l0q3",0,69],"./ion-searchbar-md.entry.js":["mLlG",0,70],"./ion-segment_2-ios.entry.js":["Iymp",0,71],"./ion-segment_2-md.entry.js":["3msy",0,72],"./ion-select_3-ios.entry.js":["rYLK",0,73],"./ion-select_3-md.entry.js":["WOXB",0,74],"./ion-slide_2-ios.entry.js":["F/Xn",75],"./ion-slide_2-md.entry.js":["k8us",76],"./ion-spinner.entry.js":["nI0H",0,77],"./ion-split-pane-ios.entry.js":["edcM",78],"./ion-split-pane-md.entry.js":["RyPD",79],"./ion-tab-bar_2-ios.entry.js":["DP4G",0,80],"./ion-tab-bar_2-md.entry.js":["gaXT",0,81],"./ion-tab_2.entry.js":["TpdJ",0,82],"./ion-text.entry.js":["ISmu",0,83],"./ion-textarea-ios.entry.js":["xNZy",0,84],"./ion-textarea-md.entry.js":["p1XJ",0,85],"./ion-toast-ios.entry.js":["XGfm",0,86],"./ion-toast-md.entry.js":["Y/uG",0,87],"./ion-toggle-ios.entry.js":["WbT0",0,88],"./ion-toggle-md.entry.js":["upP9",0,89],"./ion-virtual-scroll.entry.js":["8Mb5",90]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="kLfG",e.exports=i},kSER:function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},kiN4:function(e,t,n){"use strict";n.r(t),t.default="<div id='container'>\n    <div class='wrapper'>\n        <h1>Welcome to Authoritative Dashboard</h1>\n        <div class='big-banner'>\n            <button class='button green' routerLink=\"./../map\">Open Map</button>\n            <button class='button green' routerLink=\"./../admins/add\">Add Admin</button>\n            <button class='button green' routerLink=\"./../authoritative/add\">Add Authoritative Person</button>\n        </div>\n\n\n        \x3c!-- \n        <div class='bar'>\n            <h1>Cameras</h1>\n        </div>\n        <div class='cameras'>\n            <div *ngFor=\"let camera of cameras\" class='camera' routerLink=\"../cameras/{{camera._id}}\">\n                <p class='id'>ID: {{camera._id}}</p>\n                <p class='location'>Location: {{camera.latitude | number : '.2' }},{{camera.longitude| number : '1.1' }}</p>\n                <img src=\"{{camera.url}}\" />\n            </div>\n        </div>\n         --\x3e\n        <div class='bar'>\n            <h1>Manage Suspects</h1>\n            <div class='buttons'>\n                <button routerLink=\"../suspects/add\">Add Suspect</button>\n            </div>\n        </div>\n\n        <div class='search' *ngIf=\"search.suspects.query != null\">\n            <p>Search for Suspects: </p>\n            <div class='search-bar'>\n                <input type='search' (focus)=\"toaster.info('Press enter to search!')\" [(ngModel)]=\"search.suspects.query\" (keyup.enter)=\"searchForSuspects()\" placeholder=\"Type search query\" />\n                <button (click)=\"clearSuspectsSearchQuery()\">Clear</button>\n            </div>\n        </div>\n\n        <div *ngIf=\"search.suspects.query != ''\">\n            <h4>Suspects fitting search query ' {{search.suspects.query}} ': </h4>\n            <div class='suspects'>\n                <app-suspect-details *ngFor=\"let suspect of search.suspects.suspects\" routerLink=\"../suspects/{{suspect._id}}\" [suspect]=\"suspect\"></app-suspect-details>\n            </div>\n        </div>\n        <div *ngIf=\"search.suspects.query == ''\" class='suspects'>\n            <div *ngFor=\"let suspect of suspects\" routerLink=\"../suspects/{{suspect._id}}\">\n                <app-suspect-details [suspect]=\"suspect\"></app-suspect-details>\n            </div>\n        </div>\n    </div>\n</div>"},l518:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("Rpy8")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},mAIw:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return h})),n.d(t,"__generator",(function(){return u})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return m})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return k}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):h(s[0][2],n)}catch(r){h(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},mrSG:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));function r(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function i(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function o(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function a(e){return e&&e.__esModule?e:{default:e}}},pLt3:function(e,t,n){"use strict";n.r(t),t.default="<div id='container'>\n    <div class='wrapper'>\n        <h1>Automatically Assign Cameras to nearest Servers</h1>\n        <h2 class='warning'>Warning</h2>\n        <p class='warning'>This will reset all the connections (cameras to servers) and will make new connections based on the location and to evenly distribute cameras to server in order to avoid bottleneck.</p>\n        <p class='warning'>Are you sure you want to continue?</p>\n        <div style='text-align: center;'>\n            <button class='green' (click)=\"autoAssign()\">Yes, I'm sure.</button>\n            <button class='red' routerLink=\"../../home/\">No, I'll reconsider.</button>\n        </div>\n        <p>{{result}}</p>\n    </div>\n</div>"},pqID:function(e,t,n){var r=n("qp7M"),i=n("s1oe"),s=n("wlXU"),o=n("NOtv")("socket.io-client");e.exports=t=l;var a=t.managers={};function l(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),l=i.source,c=i.id,h=i.path,u=a[c]&&h in a[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(o("ignoring socket cache for %s",l),n=s(l,t)):(a[c]||(o("new io instance for %s",l),a[c]=s(l,t)),n=a[c]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=l,t.Manager=n("wlXU"),t.Socket=n("OAgL")},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return s})),n.d(t,"Logger",(function(){return u})),n.d(t,"setLogLevel",(function(){return d})),n.d(t,"setUserLogHandler",(function(){return p}));var s,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));var a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),h=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var s=(new Date).toISOString(),o=c[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+s+"]  "+e.name+":"],n))}},u=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=h,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!0,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){o.forEach((function(t){t.setLogLevel(e)}))}function p(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++){n(i[r])}}},qp7M:function(e,t,n){var r=n("Uxeu"),i=n("NOtv")("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}},rfC7:function(e,t,n){var r=n("3exg"),i=n("Yvos");e.exports=h;var s,o=/\n/g,a=/\\n/g;function l(){}function c(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}function h(e){if(r.call(this,e),this.query=this.query||{},!s){var t=c();s=t.___eio=t.___eio||[]}this.index=s.length;var n=this;s.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=l)}),!1)}i(h,r),h.prototype.supportsBinary=!1,h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},h.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},h.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=l,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}function c(){h(),t()}function h(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),h(),e=e.replace(a,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}},s1oe:function(e,t,n){var r=n("l518")("socket.io-parser"),i=n("/RX3"),s=n("M/K+"),o=n("Qsis"),a=n("Id/V");function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=u;var c=t.ERROR+'"encode error"';function h(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",e,n),n}function u(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){s.removeBlobs(e,(function(e){var n=s.deconstructPacket(e),r=h(n.packet),i=n.buffers;i.unshift(r),t(i)}))}(e,n):n([h(e)])},i(u.prototype),u.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return p("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var s="";"-"!==e.charAt(++n)&&(s+=e.charAt(n),n!=e.length););if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){if(","===(l=e.charAt(n)))break;if(i.nsp+=l,n===e.length)break}else i.nsp="/";var a=e.charAt(n+1);if(""!==a&&Number(a)==a){for(i.id="";++n;){var l;if(null==(l=e.charAt(n))||Number(l)!=l){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var c=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!(!1!==c&&(i.type===t.ERROR||o(c))))return p("invalid payload");i.data=c}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},s27a:function(e,t,n){"use strict";n.r(t),t.default='<div class="map-with-navigation">\n    <div class="search-bar-holder">\n        <div class=\'search-bar\'>\n            <input type="search" placeholder="Search location" [(ngModel)]="query" (keydown.enter)="search()">\n            <button (click)="search()">Search</button>\n        </div>\n        <ul class=\'results\'>\n            <li *ngFor="let result of results; let i = index" class=\'result\' (click)="selectLocation(i)">\n                {{result.formatted}}\n            </li>\n        </ul>\n    </div>\n    <div class="map-holder">\n        <agm-map class=\'map\' [latitude]="latitude" [longitude]="longitude" [zoom]="zoom" (mapClick)="choseThisLocation($event)">\n            <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>\n        </agm-map>\n    </div>\n</div>'},sXnP:function(e,t,n){"use strict";n.r(t),t.default=""},uKDP:function(e,t,n){var r=n("0+mJ"),i=n("/RX3"),s=n("NOtv")("engine.io-client:socket"),o=n("7jRU"),a=n("hWa/"),l=n("Uxeu"),c=n("TypT");function h(e,t){if(!(this instanceof h))return new h(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=h,h.priorWebsocketSuccess=!1,i(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=n("0zaL"),h.transports=n("0+mJ"),h.parser=n("hWa/"),h.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},h.prototype.open=function(){var e;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},h.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},h.prototype.probe=function(e){s('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(s('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(s('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;h.priorWebsocketSuccess="websocket"===t.name,s('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(s("changing transport and sending upgrade packet"),d(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{s('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,d(),t.close(),t=null)}function a(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),s('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function l(){a("transport closed")}function c(){a("socket closed")}function u(e){t&&e.name!==t.name&&(s('"%s" works - aborting "%s"',e.name,t.name),o())}function d(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",l),r.removeListener("close",c),r.removeListener("upgrading",u)}h.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",l),this.once("close",c),this.once("upgrading",u),t.open()},h.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},h.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},h.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},h.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},h.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),s("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},h.prototype.onError=function(e){s("socket error %j",e),h.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},h.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},h.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}},vTgS:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        <h1>Welcome to Admin Dashboard</h1>\n        <div class=\'bar\'>\n            <h1>Manage QRUnits</h1>\n            <div class=\'buttons\'>\n                <button routerLink="../qrunits/add">Add QRUnit</button>\n            </div>\n        </div>\n        <div class=\'bar\'>\n            <h1>Manage Cameras</h1>\n            <div class=\'buttons\'>\n                <button routerLink="../cameras/autoassign">Auto Assign Cameras > Servers</button>\n                <button routerLink="../cameras/add">Add Camera</button>\n            </div>\n        </div>\n        <div class=\'search\'>\n            <p>Search for cameras at location: </p>\n            <div class=\'search-bar\'>\n                <input type=\'search\' (focus)="toaster.info(\'Press enter to search!\')" [(ngModel)]="search.cameras.query" (keyup.enter)="searchForCamerasAtLocation()" placeholder="Type location name" />\n                <button (click)="clearCamerasSearchQuery()">Clear</button>\n            </div>\n        </div>\n        <div class=\'cameras\'>\n            <div *ngIf="search.cameras.query != \'\'">\n                <div *ngIf="search.cameras.location != null">\n                    <h4>Cameras near location: </h4>\n                    <p>{{search.cameras.location.formatted}}</p>\n                    <div class=\'cameras-holder\'>\n                        <app-camera-details *ngFor="let camera of search.cameras.cameras" routerLink="../cameras/{{camera._id}}" [camera]="camera"></app-camera-details>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf="search.cameras.query == \'\'">\n                <div class=\'cameras-holder\'>\n                    <app-camera-details *ngFor="let camera of cameras" routerLink="../cameras/{{camera._id}}" [camera]="camera"></app-camera-details>\n                </div>\n            </div>\n        </div>\n        <div class=\'bar\'>\n            <h1>Manage Servers</h1>\n            <div class=\'buttons\'>\n                <button routerLink="../servers/add">Add Server</button>\n            </div>\n        </div>\n        <div class=\'servers\'>\n            <app-server-details *ngFor="let server of servers" [server]="server">\n            </app-server-details>\n        </div>\n    </div>\n</div>'},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n("30Go"),o=n("zVF4"),a=n("S+S0"),l=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new o.ErrorFactory("app","Firebase",c),u=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new l.Logger("@firebase/app"),p=function(){function e(e,t,n){var r,i,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return l}),"PUBLIC"));try{for(var c=s.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var u=h.value;this._addComponent(u)}}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw h.create("bad-app-name",{appName:String(a)});if(o.contains(t,a))throw h.create("duplicate-app",{appName:a});var l=new e(n,s,r);return t[a]=l,l},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=u[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&l.push("and"),o&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw h.create("invalid-log-argument",{appName:name});l.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.15.2",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(e=e||"[DEFAULT]",!o.contains(t,e))throw h.create("no-app",{appName:e});return t[e]}function c(a){var l,c,u=a.name;if(n.has(u))return d.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===a.type?r[u]:null;if(n.set(u,a),"PUBLIC"===a.type){var p=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[u])throw h.create("invalid-app-argument",{appName:u});return e[u]()};void 0!==a.serviceProps&&o.deepExtend(p,a.serviceProps),r[u]=p,e.prototype[u]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,u);return n.apply(this,a.multipleInstances?e:[])}}try{for(var m=s.__values(Object.keys(t)),f=m.next();!f.done;f=m.next()){var g=f.value;t[g]._addComponent(a)}}catch(y){l={error:y}}finally{try{f&&!f.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(p);return t.INTERNAL=s.__assign(s.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),f=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var v=m;!function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new f(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.6",t),e.registerVersion("fire-js","")}(v),t.default=v,t.firebase=v},wlXU:function(e,t,n){var r=n("4+Ds"),i=n("OAgL"),s=n("/RX3"),o=n("s1oe"),a=n("Y4EA"),l=n("QN7Q"),c=n("NOtv")("socket.io-client:manager"),h=n("7jRU"),u=n("C2QD"),d=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=a(n,"open",(function(){i.onopen(),e&&e()})),o=a(n,"error",(function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l);var h=setTimeout((function(){c("connect attempt timed out after %d",l),s.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",l)}),l);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(s),this.subs.push(o),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",l(this,"ondata"))),this.subs.push(a(e,"ping",l(this,"onping"))),this.subs.push(a(e,"pong",l(this,"onpong"))),this.subs.push(a(e,"error",l(this,"onerror"))),this.subs.push(a(e,"close",l(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",l(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",s),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&s()}function s(){~h(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},"xc6+":function(e,t){var n=1e3,r=6e4,i=36e5,s=24*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?o(a=e,s,"day")||o(a,i,"hour")||o(a,r,"minute")||o(a,n,"second")||a+" ms":function(e){if(e>=s)return Math.round(e/s)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},yDNF:function(e,t,n){"use strict";n.r(t),t.default='<div id=\'container\'>\n    <div class=\'wrapper\'>\n        \x3c!-- <p>add-admin works!</p> --\x3e\n        <h1>Add an Admin</h1>\n        <h2>Select Person</h2>\n        <div>\n            <div id=\'available-admins\'>\n                <h3 [class.done]="admin.personId != \'\'" [class.ion-checkmark-circled]="admin.personId != \'\'">Available People\n                </h3>\n                <div *ngIf="admin.personId == \'\'">\n                    <p>Click to select the person</p>\n\n                    <div class=\'person-holder\'>\n                        \x3c!-- available people --\x3e\n                        <div *ngFor="let p of people; let i = index" (click)="selectPerson(p, i)" title="p.fullName">\n                            \x3c!-- <img src="{{p.picture_url}}" /> {{p._id}} {{p.fullName}} {{p.gender}} {{p.picture_url}} --\x3e\n                            <app-person-details [person]="p"></app-person-details>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <h3 [class.done]="admin.personId != \'\'" [class.ion-checkmark-circled]="admin.personId != \'\'">Add a person\n                </h3>\n                <div *ngIf="admin.personId == \'\'">\n                    <h2>Add A New Person</h2>\n                    <app-add-person [toaster]="toaster" [url]="url" (personAdded)="personAdded($event)">\n                    </app-add-person>\n\n                </div>\n            </div>\n        </div>\n        <h2>Privileges</h2>\n        <div>\n            <div *ngFor="let p of priv; let i = index">\n                <input type=\'checkbox\' name="pri" value="{{p.name}}" (change)="priv[i].checked = $event.target.checked;" /> - {{p.name}}\n            </div>\n        </div>\n\n        <h2>Login Credentials</h2>\n        <p>Password will be emailed to the owner of this account!</p>\n        <div>\n            <h4>Person Selected: {{personSelected.fullName}} <button class=\'button\' (click)="resetSelection()">Reset\n                    Selection</button></h4>\n        </div>\n        <div>\n            <label for="">*Email Address</label>\n            <input type=\'email\' placeholder="Email Address" [(ngModel)]="admin.email" />\n            <button class=" button " (click)="addAdmin() ">Add this admin</button>\n        </div>\n    </div>\n</div>'},yLV6:function(e,t,n){var r;!function(i,s,o,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],h=s.createElement("div"),u=Math.round,d=Math.abs,p=Date.now;function m(e,t,n){return setTimeout(w(e,n),t)}function f(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=i.console&&(i.console.warn||i.console.log);return s&&s.call(i.console,r,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var v=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=y((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function E(e,t){return void 0===e?t:e}function S(e,t,n){g(O(t),(function(t){e.addEventListener(t,n,!1)}))}function x(e,t,n){g(O(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],i=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];A(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function P(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),s=0;s<c.length;){if((r=(n=c[s])?n+i:t)in e)return r;s++}}var N=1;function R(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var M="ontouchstart"in i,F=void 0!==P(i,"PointerEvent"),L=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=["x","y"],$=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function V(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=1&t&&r-i==0,o=12&t&&r-i==0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=U(t));i>1&&!n.firstMultiple?n.firstMultiple=U(t):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,l=t.center=z(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=G(a,l),t.distance=W(a,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};1!==t.eventType&&4!==s.eventType||(i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var c=H(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,t.scale=o?(h=o.pointers,u=r,W(u[0],u[1],$)/W(h[0],h[1],$)):1,t.rotation=o?function(e,t){return G(t[1],t[0],$)+G(e[1],e[0],$)}(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,s,o=e.lastInterval||t,a=t.timeStamp-o.timeStamp;if(8!=t.eventType&&(a>25||void 0===o.velocity)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,h=H(a,l,c);r=h.x,i=h.y,n=d(h.x)>d(h.y)?h.x:h.y,s=q(l,c),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,s=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=s}(n,t);var h,u;var m=e.element;k(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function U(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:z(t),deltaX:e.deltaX,deltaY:e.deltaY}}function z(e){var t=e.length;if(1===t)return{x:u(e[0].clientX),y:u(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:u(n/t),y:u(r/t)}}function H(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function W(e,t,n){n||(n=j);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function G(e,t,n){n||(n=j);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(R(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}b(K,B,{handler:function(e){var t=Q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=Z,this.evWin=J,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Z="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),b(ee,B,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Y[r],s=X[e.pointerType]||e.pointerType,o="touch"==s,a=A(t,e.pointerId,"pointerId");1&i&&(0===e.button||o)?a<0&&(t.push(e),a=t.length-1):12&i&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(a,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function re(e,t){var n=I(e.touches),r=I(e.changedTouches);return 12&t&&(n=D(n.concat(r),"identifier",!0)),[n,r]}b(ne,B,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function se(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function oe(e,t){var n=I(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=I(e.changedTouches),a=[],l=this.target;if(s=n.filter((function(e){return k(e.target,l)})),1===t)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),12&t&&delete r[o[i].identifier],i++;return a.length?[D(s.concat(a),"identifier",!0),a]:void 0}b(se,B,{handler:function(e){var t=ie[e.type],n=oe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function ae(){B.apply(this,arguments);var e=w(this.handler,this);this.touch=new se(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ce.call(this,t)):12&e&&ce.call(this,t)}function ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function he(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(t-i.x),o=Math.abs(n-i.y);if(s<=25&&o<=25)return!0}return!1}b(ae,B,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)le.call(this,t,n);else if(i&&he.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=P(h.style,"touchAction"),de=void 0!==ue,pe=function(){if(!de)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function me(e,t){this.manager=e,this.set(t)}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),de&&this.manager.element.style&&pe[e]&&(this.manager.element.style[ue]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(T(e,"none"))return"none";var t=T(e,"pan-x"),n=T(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(T(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,"none")&&!pe.none,s=T(r,"pan-y")&&!pe["pan-y"],o=T(r,"pan-x")&&!pe["pan-x"];if(i){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}if(!o||!s)return i||s&&6&n||o&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function fe(e){this.options=l({},this.defaults,e||{}),this.id=N++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ge(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ye(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ve(e,t){var n=t.manager;return n?n.get(e):e}function _e(){fe.apply(this,arguments)}function be(){_e.apply(this,arguments),this.pX=null,this.pY=null}function we(){_e.apply(this,arguments)}function Ce(){fe.apply(this,arguments),this._timer=null,this._input=null}function Ee(){_e.apply(this,arguments)}function Se(){_e.apply(this,arguments)}function xe(){fe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=E(t.recognizers,ke.defaults.preset),new Te(e,t)}fe.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(f(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ve(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return f(e,"dropRecognizeWith",this)?this:(e=ve(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(f(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=ve(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(f(e,"dropRequireFailure",this))return this;e=ve(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+ge(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+ge(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(_e,fe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),b(be,_e,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(6&t.direction?(i=0===s?1:s<0?2:4,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return _e.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ye(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(we,_e,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(Ce,fe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),b(Ee,_e,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Se,_e,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return be.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ye(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(xe,fe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||W(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&s?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ee,{enable:!1}],[we,{enable:!1},["rotate"]],[Se,{direction:6}],[be,{direction:6},["swipe"]],[xe],[xe,{event:"doubletap",taps:2},["tap"]],[Ce]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Te(e,t){var n;this.options=l({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?ee:L?se:M?ae:K))(n,V),this.touchAction=new me(this,this.options.touchAction),Oe(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Oe(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(i,s){n=P(r.style,s),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Te.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),s++}},get:function(e){if(e instanceof fe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(f(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(f(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return g(O(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return g(O(e),(function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=s.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Te,Input:B,TouchAction:me,TouchInput:se,MouseInput:K,PointerEventInput:ee,TouchMouseInput:ae,SingleTouchInput:ne,Recognizer:fe,AttrRecognizer:_e,Tap:xe,Pan:be,Swipe:Se,Pinch:we,Rotate:Ee,Press:Ce,on:S,off:x,each:g,merge:_,extend:v,assign:l,inherit:b,bindFn:w,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=ke,void 0===(r=(function(){return ke}).call(t,n,t,e))||(e.exports=r)}(window,document)},yeub:function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},ypnn:function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),s=new Uint8Array(n-t),o=t,a=0;o<n;o++,a++)s[a]=i[o];return s.buffer}},z1BM:function(e,t,n){"use strict";n.r(t),t.default=""},zMFY:function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,s.count=e,0===e?t():s;function s(e,n){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(i=!0,t(e),t=r):0!==s.count||i||t(null,n)}}},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("mrSG");function i(e){return"function"==typeof e}let s=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function a(e){setTimeout(()=>{throw e})}const l={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete(){}},c=Array.isArray||(e=>e&&"number"==typeof e.length);function h(e){return null!==e&&"object"==typeof e}function u(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);const d=u;class p{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,l=r?r.length:0;for(;n;)n.remove(this),n=++a<l&&r[a]||null;if(i(s))try{s.call(this)}catch(u){t=!0,e=u instanceof d?m(u.errors):[u]}if(c(o))for(a=-1,l=o.length;++a<l;){const n=o[a];if(h(n))try{n.unsubscribe()}catch(u){t=!0,e=e||[],u instanceof d?e=e.concat(m(u.errors)):e.push(u)}}if(t)throw new d(e)}add(e){let t=e;switch(typeof e){case"function":t=new p(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof p)){const e=t;t=new p,t._subscriptions=[e]}break;default:if(!e)return p.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(t._addParent(this)){const e=this._subscriptions;e?e.push(t):this._subscriptions=[t]}return t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}function m(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}p.EMPTY=function(e){return e.closed=!0,e}(new p);const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends p{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!e){this.destination=l;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new y(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new y(this,e,t,n)}}[f](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class y extends g{constructor(e,t,n,r){let s;super(),this._parentSubscriber=e;let o=this;i(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==l&&(o=Object.create(t),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}function v(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}const _="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function w(...e){return C(e)}function C(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:b}class E{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new E;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[f])return e[f]()}return e||t||n?new g(e,t,n):new g(l)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),v(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=S(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[_](){return this}pipe(...e){return 0===e.length?this:C(e)(this)}toPromise(e){return new(e=S(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}function S(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.create=e=>new E(e),x.prototype=Object.create(Error.prototype);const k=x;class T extends p{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class O extends g{constructor(e){super(e),this.destination=e}}class A extends E{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new O(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new k;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new k;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new k;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new k;return this.hasError?(e.error(this.thrownError),p.EMPTY):this.isStopped?(e.complete(),p.EMPTY):(this.observers.push(e),new T(this,e))}asObservable(){const e=new E;return e.source=this,e}}A.create=(e,t)=>new I(e,t);class I extends A{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):p.EMPTY}}function D(e){return e&&"function"==typeof e.schedule}class P extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const N=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},R=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,a),t);const M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",F=e=>t=>{const n=e[M]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},L=e=>t=>{const n=e[_]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},j=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function $(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const B=e=>{if(e instanceof E)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[_])return L(e);if(j(e))return N(e);if($(e))return R(e);if(e&&"function"==typeof e[M])return F(e);{const t=h(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function V(e,t,n,r,i=new P(e,n,r)){if(!i.closed)return B(t)(i)}class U extends g{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(e,t))}}class H{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new q(e,this.project,this.thisArg))}}class q extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function W(e,t){return new E(t?n=>{const r=new p;let i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:N(e))}function G(e,t){if(!t)return e instanceof E?e:new E(B(e));if(null!=e){if(function(e){return e&&"function"==typeof e[_]}(e))return function(e,t){return new E(t?n=>{const r=new p;return r.add(t.schedule(()=>{const i=e[_]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:L(e))}(e,t);if($(e))return function(e,t){return new E(t?n=>{const r=new p;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:R(e))}(e,t);if(j(e))return W(e,t);if(function(e){return e&&"function"==typeof e[M]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new E(t?n=>{const r=new p;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[M](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:F(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Q(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Q((n,r)=>G(e(n,r)).pipe(z((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new K(e,n)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}class Y extends U{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new P(this,void 0,void 0);this.destination.add(r),V(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(e){return e}function Z(e=Number.POSITIVE_INFINITY){return Q(X,e)}function J(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return D(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof E?e[0]:Z(t)(W(e,n))}function ee(){return function(e){return e.lift(new te(e))}}class te{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new ne(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class ne extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const re=class extends E{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new p,e.add(this.source.subscribe(new se(this.getSubject(),this))),e.closed?(this._connection=null,e=p.EMPTY):this._connection=e),e}refCount(){return ee()(this)}}.prototype,ie={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}};class se extends O{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function oe(e,t){return function(n){let r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new ae(r,t));const i=Object.create(n,ie);return i.source=n,i.subjectFactory=r,i}}class ae{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}function le(){return new A}function ce(){return e=>ee()(oe(le)(e))}const he="__annotations__",ue="__parameters__",de="__prop__metadata__";function pe(e,t,n,r,i){const s=me(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(he)?n[he]:Object.defineProperty(n,he,{value:[]})[he]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function me(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function fe(e,t,n){const r=me(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(ue)?e[ue]:Object.defineProperty(e,ue,{value:[]})[ue];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function ge(e,t,n,r){const i=me(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(de)?s[de]:Object.defineProperty(s,de,{value:{}})[de];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(t),r&&r(n,i,...e)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const ye=fe("Inject",e=>({token:e}));const ve=fe("Optional");const _e=fe("Self");const be=fe("SkipSelf");const we=fe("Host");const Ce=fe("Attribute",e=>({attributeName:e}));var Ee;function Se(e){for(let t in e)if(e[t]===Se)return t;throw Error("Could not find renamed property on target object.")}function xe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(Ee||(Ee={}));const ke=xe;function Te(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function Oe(e){const t=e[Ae];return t&&t.token===e?t:null}const Ae=Se({ngInjectableDef:Se});Se({ngInjectorDef:Se});function Ie(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ie).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const De=Se({__forward_ref__:Se});function Pe(e){return e.__forward_ref__=Pe,e.toString=function(){return Ie(this())},e}function Ne(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(De)&&t.__forward_ref__===Pe?t():e}const Re="undefined"!=typeof globalThis&&globalThis,Me="undefined"!=typeof window&&window,Fe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Le="undefined"!=typeof global&&global,je=Re||Le||Me||Fe;var $e;!function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef"}($e||($e={}));class Be{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ve=new Be("INJECTOR",-1),Ue=new Object,ze=/\n/gm,He=Se({provide:String,useValue:Se});let qe,We=void 0;function Ge(e){const t=We;return We=e,t}function Qe(e){const t=qe;return qe=e,t}function Ke(e,t=Ee.Default){if(void 0===We)throw new Error("inject() must be called from an injection context");return null===We?Ze(e,void 0,t):We.get(e,t&Ee.Optional?null:void 0,t)}function Ye(e,t=Ee.Default){return(qe||Ke)(e,t)}const Xe=Ye;function Ze(e,t,n){const r=Oe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Ee.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${Ie(e)}]`)}function Je(e){const t=[];for(let n=0;n<e.length;n++){const r=Ne(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=Ee.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof ve||"Optional"===i.ngMetadataName||i===ve?n|=Ee.Optional:i instanceof be||"SkipSelf"===i.ngMetadataName||i===be?n|=Ee.SkipSelf:i instanceof _e||"Self"===i.ngMetadataName||i===_e?n|=Ee.Self:e=i instanceof ye||i===ye?i.token:i}t.push(Ye(e,n))}else t.push(Ye(r))}return t}class et{get(e,t=Ue){if(t===Ue){const t=new Error(`NullInjectorError: No provider for ${Ie(e)}!`);throw t.name="NullInjectorError",t}return t}}function tt(e,t,n,r){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=nt("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}function nt(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=Ie(t);if(t instanceof Array)i=t.map(Ie).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):Ie(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(ze,"\n  ")}`}class rt{}class it{}function st(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),st(r,t)):t!==e&&t.push(r)}return t}function ot(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function at(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const lt={OnPush:0,Default:1};lt[lt.OnPush]="OnPush",lt[lt.Default]="Default";const ct={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};ct[ct.CheckOnce]="CheckOnce",ct[ct.Checked]="Checked",ct[ct.CheckAlways]="CheckAlways",ct[ct.Detached]="Detached",ct[ct.Errored]="Errored",ct[ct.Destroyed]="Destroyed";const ht={Emulated:0,Native:1,None:2,ShadowDom:3};function ut(e){return""+{toString:e}}ht[ht.Emulated]="Emulated",ht[ht.Native]="Native",ht[ht.None]="None",ht[ht.ShadowDom]="ShadowDom";const dt={},pt=[];const mt=Se({ngComponentDef:Se}),ft=Se({ngDirectiveDef:Se}),gt=Se({ngPipeDef:Se}),yt=(Se({ngModuleDef:Se}),Se({ngLocaleIdDef:Se}),Se({ngBaseDef:Se}),Se({__NG_ELEMENT_ID__:Se}));let vt=0;function _t(e){const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ht.Emulated,id:"c",styles:e.styles||pt,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=ut(()=>{const n=e.directives,s=e.features,o=e.pipes;i.id+=vt++,i.inputs=Ct(e.inputs,r),i.outputs=Ct(e.outputs),s&&s.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(bt):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(wt):null,t.hasOwnProperty(Ae)||(t[Ae]=xe({token:t,factory:e.factory}))}),i}function bt(e){const t=St(e)||xt(e);return t}function wt(e){const t=kt(e);return t}function Ct(e,t){if(null==e)return dt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const Et=_t;function St(e){return e[mt]||null}function xt(e){return e[ft]||null}function kt(e){return e[gt]||null}function Tt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ot(e){return Array.isArray(e)&&!0===e[1]}function At(e){return 1==(1&e.flags)}function It(e){return null!==e.template}function Dt(e){return 0!=(512&e[2])}class Pt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Nt(e,t,n,r,i,s){const{onChanges:o,onInit:a,doCheck:l}=t;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(o||a||l)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),s>=0&&(!n.preOrderCheckHooks||s===n.preOrderCheckHooks.length)&&(o||l)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,a),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}function Rt(e,t){if(e.firstTemplatePass)for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function Mt(e,t,n,r){n||Ft(e,t.preOrderHooks,t.preOrderCheckHooks,n,0,void 0!==r?r:null)}function Ft(e,t,n,r,i,s){if(r)return;const o=(3&e[2])===i?t:n;o&&function(e,t,n,r){const i=void 0!==r?65535&e[18]:0,s=null!=r?r:-1;let o=0;for(let a=i;a<t.length;a++){if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else{t[a]<0&&(e[18]+=65536),(o<s||-1==s)&&(Lt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}}}(e,o,i,s),null==s&&(3&e[2])===i&&3!==i&&(e[2]&=1023,e[2]+=1)}function Lt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,s.call(o))}else s.call(o)}let jt=null;const $t=new Map;let Bt=null;function Vt(e,t){return Bt&&e===Bt||(Bt=e,t&&(jt=$t.get(e)||null),jt=jt||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),jt}function Ut(){jt=null,Bt=null}function zt(e){for(;Array.isArray(e);)e=e[0];return e}function Ht(e,t){const n=zt(t[e.index]);return n}function qt(e,t){const n=e.index,r=-1==n?null:zt(t[n]);return r}function Wt(e,t){return t[1].data[e+19]}function Gt(e,t){const n=t[e];return Tt(n)?n:n[0]}function Qt(e){return e.__ngContext__}function Kt(e){const t=Qt(e);return t?Array.isArray(t)?t:t.lView:null}function Yt(e){e[18]=0}let Xt;let Zt,Jt=null;function en(e){Jt=e}function tn(){return sn}let nn,rn,sn,on=1,an=0,ln=0;function cn(e=null){Tn!==e&&(An(null==e?-1:e),on=null==e?0:1,an=0,ln=0)}function hn(){on+=1+ln,an=0,ln=0}function un(){return nn}function dn(e,t){nn=e,rn=t}function pn(e,t){nn=e,sn=t}function mn(){return rn}function fn(e=sn){return 4==(4&e[2])}let gn=null;let yn=!1;function vn(){return yn}function _n(e){yn=e}let bn=-1;function wn(e){bn=e}let Cn=0;function En(e){Cn=e}function Sn(e,t){const n=sn;if(e){const t=e[1];bn=t.bindingStartIndex}return nn=t,rn=!0,sn=gn=e,n}function xn(){rn=!1,nn=null,Xt=0,Zt=!0,Nn(null),Ut(),$t.clear()}function kn(e,t){const n=sn[1];if(fn(sn))sn[2]&=-5;else try{Yt(sn),t&&Ft(sn,n.viewHooks,n.viewCheckHooks,yn,2,void 0)}finally{sn[2]&=-73,sn[7]=n.bindingStartIndex}Sn(e,null)}let Tn=-1;function On(){return Tn}function An(e){Tn=e,Ut()}let In,Dn=null;function Pn(){Dn=null}function Nn(e){In=e}function Rn(){return In}function Mn(e,t){return!(e!=e&&t!=t)&&e!==t}function Fn(e){return"string"==typeof e?e:null==e?"":""+e}function Ln(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Fn(e)}const jn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je);function $n(e,t){if(0===t){e[2]>0&&function(e){Vn(e,2|Bn(e))}(e)}else e[2]=t}function Bn(e){return e[1]}function Vn(e,t){e[1]=t}function Un(e,t){return e[t+2]}function zn(e,t){return 1&e[t+0]}function Hn(e,t){return(1&zn(e,t))>0}function qn(e,t){return e[t+0]>>1}function Wn(e,t,n){const r=zn(e,t),i=n<<1;e[t+0]=r|i}function Gn(e,t){return e[t+1]}function Qn(e,t,n){return e[t+3+n]}function Kn(e,t){return!(!e||t!==e[2])}function Yn(e){return(1&Bn(e))>0}function Xn(e){return(2&Bn(e))>0}function Zn(e){return 6+e[4]}function Jn(e,t){let n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),Mn(n,r)}function er(e){return null!=e&&""!==e}function tr(e,t,n=" "){return e+(t.length&&e.length?n:"")+t}function nr(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function rr(e){return ir(e)?e[0]:e}function ir(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function sr(e){const t=rr(e);return t&&t[0]||""}function or(e){return 0!=(8&e.flags)}function ar(e){return 0!=(16&e.flags)}function lr(e,t){return e[t+0]}function cr(e,t,n){e[t+1]=n}function hr(e,t){return e[t+1]}const ur={Important:1,DashCase:2};function dr(e){return!!e.listen}ur[ur.Important]="Important",ur[ur.DashCase]="DashCase";const pr={createRenderer:(e,t)=>document};function mr(e){return-1!==e}function fr(e){return 32767&e}function gr(e){return e>>16}function yr(e,t){let n=gr(e),r=t;for(;n>0;)r=r[16],n--;return r}function vr(e){const t=e[3];return Ot(t)?t[3]:t}function _r(e){let t=Tt(e)?e:Kt(e);for(;t&&!(512&t[2]);)t=vr(t);return t}function br(e){let t=e[6];for(;null!==t&&2===t.type;)t=(e=e[16])[6];return e}function wr(e){const t=_r(e);return t[9]}let Cr=!0;function Er(e){const t=Cr;return Cr=e,t}let Sr=0;function xr(e,t){const n=Tr(e,t);if(-1!==n)return n;const r=t[1];r.firstTemplatePass&&(e.injectorIndex=t.length,kr(r.data,e),kr(t,null),kr(r.blueprint,null));const i=Or(e,t),s=fr(i),o=yr(i,t),a=e.injectorIndex;if(mr(i)){const e=o[1].data;for(let n=0;n<8;n++)t[a+n]=o[s+n]|e[s+n]}return t[a+8]=i,a}function kr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Tr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Or(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],r=1;for(;n&&-1===n.injectorIndex;)n=(t=t[16])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Ar(e,t,n){!function(e,t,n){let r="string"!=typeof n?n[yt]:n.charCodeAt(0)||0;null==r&&(r=n[yt]=Sr++);const i=255&r,s=1<<i,o=128&i,a=64&i,l=32&i,c=t.data;o?a?l?c[e+7]|=s:c[e+6]|=s:l?c[e+5]|=s:c[e+4]|=s:a?l?c[e+3]|=s:c[e+2]|=s:l?c[e+1]|=s:c[e]|=s}(e,t,n)}function Ir(e,t,n,r=Ee.Default,i){if(e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[yt];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof i){const s=un(),o=tn();pn(e,t);try{const e=i();if(null!=e||r&Ee.Optional)return e;throw new Error(`No provider for ${Ln(n)}!`)}finally{pn(s,o)}}else if("number"==typeof i){if(-1===i)return new Lr(e,t);let s=null,o=Tr(e,t),a=-1,l=r&Ee.Host?br(t)[6]:null;for((-1===o||r&Ee.SkipSelf)&&(a=-1===o?Or(e,t):t[o+8],Fr(r,!1)?(s=t[1],o=fr(a),t=yr(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(Mr(i,o,e.data)){const e=Pr(o,t,n,s,r,l);if(e!==Dr)return e}Fr(r,t[1].data[o+8]===l)&&Mr(i,o,t)?(s=e,o=fr(a),t=yr(a,t)):o=-1}}}if(r&Ee.Optional&&void 0===i&&(i=null),0==(r&(Ee.Self|Ee.Host))){const e=t[10],s=Qe(void 0);try{return e?e.get(n,i,r&Ee.Optional):Ze(n,i,r&Ee.Optional)}finally{Qe(s)}}if(r&Ee.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Ln(n)}]`)}const Dr={};function Pr(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=Nr(a,o,n,null==r?At(a)&&Cr:r!=o&&3===a.type,i&Ee.Host&&s===a);return null!==l?Rr(o.data,t,l,a):Dr}function Nr(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=65535&s,l=e.directiveStart,c=e.directiveEnd,h=s>>16,u=i?a+h:c;for(let d=r?a:a+h;d<u;d++){const e=o[d];if(d<l&&n===e||d>=l&&e.type===n)return d}if(i){const e=o[l];if(e&&It(e)&&e.type===n)return l}return null}function Rr(e,t,n,r){let i=t[n];if(null!==(s=i)&&"object"==typeof s&&Object.getPrototypeOf(s)==Pt.prototype){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Ln(e[n])}`);const o=Er(s.canSeeViewProviders);let a;s.resolving=!0,s.injectImpl&&(a=Qe(s.injectImpl));const l=un(),c=tn();pn(r,t);try{i=t[n]=s.factory(void 0,e,t,r)}finally{s.injectImpl&&Qe(a),Er(o),s.resolving=!1,pn(l,c)}}var s;return i}function Mr(e,t,n){const r=1<<e,i=64&e,s=32&e;let o;return o=128&e?i?s?n[t+7]:n[t+6]:s?n[t+5]:n[t+4]:i?s?n[t+3]:n[t+2]:s?n[t+1]:n[t],!!(o&r)}function Fr(e,t){return!(e&Ee.Self||e&Ee.Host&&t)}class Lr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Ir(this._tNode,this._lView,e,void 0,t)}}function jr(e){return e.ngDebugContext}function $r(e){return e.ngOriginalError}function Br(e,...t){e.error(...t)}class Vr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Br}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?jr(e)?jr(e):this._findContext($r(e)):null}_findOriginalError(e){let t=$r(e);for(;t&&$r(t);)t=$r(t);return t}}let Ur=!0,zr=!1;function Hr(){return zr=!0,Ur}class qr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Gr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qr(e){return(e=String(e)).match(Wr)||e.match(Gr)?e:(Hr()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Kr(e){return(e=String(e)).split(",").map(e=>Qr(e.trim())).join(", ")}function Yr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Xr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Zr=Yr("area,br,col,hr,img,wbr"),Jr=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ei=Yr("rp,rt"),ti=Xr(ei,Jr),ni=Xr(Jr,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ri=Xr(ei,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ii=Xr(Zr,ni,ri,ti),si=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=Yr("srcset"),ai=Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),li=Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ci=Xr(si,oi,ai,li),hi=Yr("script,style,template");class ui{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ii.hasOwnProperty(t))return this.sanitizedSomething=!0,!hi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!ci.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;si[i]&&(s=Qr(s)),oi[i]&&(s=Kr(s)),this.buf.push(" ",t,'="',mi(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ii.hasOwnProperty(t)&&!Zr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const di=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pi=/([^\#-~ |!])/g;function mi(e){return e.replace(/&/g,"&amp;").replace(di,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(pi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fi;function gi(e,t){let n=null;try{fi=fi||new qr(e);let r=t?String(t):"";n=fi.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=fi.getInertBodyElement(r)}while(r!==s);const o=new ui,a=o.sanitizeChildren(yi(n)||n);return Hr()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=yi(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function yi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const vi={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};vi[vi.NONE]="NONE",vi[vi.HTML]="HTML",vi[vi.STYLE]="STYLE",vi[vi.SCRIPT]="SCRIPT",vi[vi.URL]="URL",vi[vi.RESOURCE_URL]="RESOURCE_URL";class _i{}const bi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),wi=/^url\(([^)]+)\)$/;function Ci(e){if(!(e=String(e).trim()))return"";const t=e.match(wi);return t&&Qr(t[1])===t[1]||e.match(bi)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Hr()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function Ei(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(Si,(...e)=>"-"+e[1].toLowerCase())}`}const Si=/([A-Z])/g;function xi(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ki(e,t){e.__ngContext__=t}let Ti=[];function Oi(e,t,n,r,i,s,o,a){const l=!r,c=Vt(n,Xn(e)),h=l?0:c.classesIndex++;return!(!Ii(e,t,h,r,i,s,o,a,!1)&&!a)&&(c.classesBitMask|=1<<h,!0)}function Ai(e,t,n,r,i,s,o,a,l){const c=!r,h=Vt(n,Xn(e)),u=c?0:h.stylesIndex++;return!(!Ii(e,t,u,r,i,s,a,l,!!c||!!o&&o(r,null,1))&&!l)&&(h.stylesBitMask|=1<<u,!0)}function Ii(e,t,n,r,i,s,o,a,l){Yn(e)||(o?function(e,t,n,r,i){Ti.unshift(e,t,n,r,i)}(e,n,r,i,l):(Ti.length&&Di(),Pi(e,n,r,i,l)));const c=a||Jn(t[i],s);return c&&(t[i]=s),c}function Di(){let e=0;for(;e<Ti.length;){Pi(Ti[e++],Ti[e++],Ti[e++],Ti[e++],Ti[e++])}Ti.length=0}function Pi(e,t,n,r,i){let s=!1;if(n){let o=!1,a=Zn(e);for(;a<e.length;){const s=Gn(e,a),l=Un(e,a);if(o=n<=l,o){n<l&&Ni(e,a,n,i),Ri(e,!1,a,r,t);break}a+=3+s}o||(Ni(e,e.length,n,i),Ri(e,!1,a,r,t),s=!0)}else Ri(e,!0,3,r,t),s=!0;return s}function Ni(e,t,n,r){const i=r?1:0;e.splice(t,0,i,1,n,null),Wn(e,t,1)}function Ri(e,t,n,r,i){const s=n+3;let o=s+Gn(e,n);if(t||o--,"number"==typeof r){for(let t=s;t<=o;t++){if(e[t]===r)return}e.splice(o,0,r),e[n+1]++,Wn(e,n,qn(e,n)|1<<i)}else null!==r&&null==e[o]&&(e[o]=r)}function Mi(e,t,n,r,i,s,o){const a=n?Xn(n):!!r&&Xn(r),l=Kn(n,s),c=Kn(r,s);Ti.length&&(l||c)&&Di();const h=Vt(i,a),u=Fi(e,i,t,n,l,h.classesBitMask,Bi,null),d=Fi(e,i,t,r,c,h.stylesBitMask,$i,o);u&&d?(Ut(),a&&function(e){$t.delete(e)}(i)):a&&function(e,t){$t.set(e,t)}(i,h)}function Fi(e,t,n,r,i,s,o,a){return i&&r&&(function(e){if(!Yn(e)){const t=rr(e);t&&function(e,t){for(let n=1;n<t.length;n+=2){const r=hr(t,n);if(r){const i=lr(t,n);Pi(e,-1,i,r,!1)}}}(e,t),function(e){Vn(e,1|Bn(e))}(e)}}(r),function(e,t){return e&&t>0}(r,s))?(Li(r,e,t,n,s,o,a),!0):i}function Li(e,t,n,r,i,s,o){const a=!0===(l=i)?-1:!1===l?0:l;var l;const c=ji,h=(a&qn(e,3))>0?1:0;let u=Zn(e);for(;u<e.length;){const i=Gn(e,u);if(a&qn(e,u)){let a=!1;const l=Un(e,u),d=i-1,p=Qn(e,u,d);for(let i=0;i<d;i++){const c=Qn(e,u,i),h=r[c];if(er(h)){s(t,n,l,o&&Hn(e,u)?o(l,h,2):h,c),a=!0;break}}if(c){const i=c(e,t,n,r,s,o,h|(a?4:2),l,p);a=a||i}a||s(t,n,l,p)}u+=3+i}c&&c(e,t,n,r,s,o,h)}let ji=null;const $i=(e,t,n,r)=>{const i=t.style;r?(r=r.toString(),e&&dr(e)?e.setStyle(t,n,r,ur.DashCase):i&&i.setProperty(n,r)):e&&dr(e)?e.removeStyle(t,n,ur.DashCase):i&&i.removeProperty(n)},Bi=(e,t,n,r)=>{if(""!==n){const i=t.classList;r?e&&dr(e)?e.addClass(t,n):i&&i.add(n):e&&dr(e)?e.removeClass(t,n):i&&i.remove(n)}};const Vi={};const Ui=(e,t,n,r,i,s,o,a,l)=>{let c=!1;if(Gn(e,3)){let h=!0;const u=!a;u&&-2&o&&(h=!1,c=!0),h&&(c=function e(t,n,r,i,s,o,a,l,c,h){let u=!1;const d=Gn(t,3);if(c<d){const d=Qn(t,3,c),m=i[d];let f=function(e){e>=Wi.length&&Wi.push(1);return Wi[e]}(c);for(;f<m.length;){const p=lr(m,f),g=l&&p>l,y=!g&&p===l,v=hr(m,f),_=er(v),b=g?a:Hi(a,_,y);let w=e(t,n,r,i,s,o,b,g?l:p,c+1,h);if(g){u||(u=w);break}if(!w&&qi(a,y)){const e=y&&!_,t=e?h:v,i=e?d:null,a=o?o(p,t,3):t;s(n,r,p,a,i),w=!0}u=w&&y,f+=2}if(p=f,Wi[c]=p,1===m.length||!l)return e(t,n,r,i,s,o,a,l,c+1,h)}var p;return u}(e,t,n,r,i,s,o,a||null,0,l||null)),u&&function(){for(let e=0;e<Wi.length;e++)Wi[e]=1}()}return c};function zi(){ji=Ui}function Hi(e,t,n){let r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function qi(e,t){let n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}const Wi=[];function Gi(e,t,n,r){for(let i=1;i<e.length;i+=2){const s=lr(e,i);if(t<=s){let o=!1;if(s===t){const t=e[i];!r&&er(t)||(o=!0,cr(e,i,n))}else o=!0,e.splice(i,0,t,n);return o}}return e.push(t,n),!0}function Qi(e,t){Mt(e,e[1],vn(),t),An(t)}const Ki=Promise.resolve(null);function Yi(e){const t=e[1],n=fn(e);if(t.firstTemplatePass=!1,e[7]=t.bindingStartIndex,!n){const n=vn();Mt(e,t,n,void 0),function(e){for(let t=e[14];null!==t;t=t[4])if(-1===t[2]&&Ot(t))for(let e=9;e<t.length;e++){const n=t[e];ns(n,n[1],n[9])}}(e),Xi(t,e),Yt(e),Ft(e,t.contentHooks,t.contentCheckHooks,n,1,void 0),function(e,t){const n=On();try{if(e.expandoInstructions){let n=t[7]=e.expandoStartIndex;wn(n);let r=-1,i=-1;for(let s=0;s<e.expandoInstructions.length;s++){const o=e.expandoInstructions[s];if("number"==typeof o){if(o<=0){i=-o,cn(i);const t=e.expandoInstructions[++s];n+=9+t,r=n}else n+=o;wn(n)}else{if(null!==o){t[7]=n;const e=zt(t[r]);o(2,e,i),hn()}r++}}}}finally{cn(n)}}(t,e)}n&&t.staticContentQueries&&Xi(t,e),n&&!t.staticViewQueries||Ss(2,t,e[9]),function(e,t){if(null!=t)for(let n=0;n<t.length;n++)gs(e,t[n])}(e,t.components)}function Xi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];En(i),n.contentQueries(2,t[s],s)}}}function Zi(e,t){let n;const r=t||tn()[12],i=Dn;return n=dr(r)?r.createElement(e,i):null===i?r.createElement(e):r.createElementNS(i,e),n}function Ji(e,t,n,r,i,s,o,a,l,c){const h=t.blueprint.slice();return h[0]=i,h[2]=140|r,Yt(h),h[3]=h[16]=e,h[9]=n,h[11]=o||e&&e[11],h[12]=a||e&&e[12],h[13]=l||e&&e[13]||null,h[10]=c||e&&e[10]||null,h[6]=s,h}function es(e,t,n,r,i,s){const o=n+19,a=e.data[o]||function(e,t,n,r,i,s,o){const a=un(),l=mn(),c=l?a:a&&a.parent,h=c&&c!==t?c:null,u=e.data[n]=cs(e,h,r,n,i,s);0!==o&&e.firstChild||(e.firstChild=u);a&&(!l||null!=a.child||null===u.parent&&2!==a.type?l||(a.next=u):a.child=u);return u}(e,t,o,r,i,s,n);return dn(a,!0),a}function ts(e,t,n,r){let i=e.node;return null==i&&(e.node=i=cs(e,t,2,n,null,null)),r[6]=i}function ns(e,t,n){const r=mn(),i=un();let s;if(512&e[2])_s(wr(e));else{let o=!1;try{dn(null,!0),s=Sn(e,e[6]),Yt(e),is(e,t.template,ss(e),n),t.firstTemplatePass=!1,Yi(e),o=!0}finally{kn(s,o),dn(i,r)}}}function rs(e,t,n){const r=e[11],i=Sn(e,e[6]),s=!vn(),o=fn(e);let a=!1;try{s&&!o&&r.begin&&r.begin(),o&&(n&&is(e,n,1,t),Yi(e),e[2]&=-5),Yt(e),n&&is(e,n,2,t),Yi(e),a=!0}finally{s&&!o&&r.end&&r.end(),kn(i,a)}}function is(e,t,n,r){Pn();const i=On();try{cn(null),2&n&&Qi(e,0),t(n,r)}finally{An(i)}}function ss(e){return fn(e)?1:2}function os(e){return e.tView||(e.tView=as(-1,e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas))}function as(e,t,n,r,i,s,o,a){const l=19+n,c=l+r,h=function(e,t){const n=new Array(t).fill(null,0,e).fill(Vi,e);return n[7]=e,n}(l,c);return h[1]={id:e,blueprint:h,template:t,queries:null,viewQuery:o,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a}}function ls(e,t){const n=e.createRenderer(null,null),r="string"==typeof t?dr(n)?n.selectRootElement(t):n.querySelector(t):t;return r}function cs(e,t,n,r,i,s){let o=t?t.injectorIndex:-1;return{type:n,index:r,injectorIndex:o,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:i,attrs:s,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,classes:null}}function hs(e,t,n,r,i){const s=t.length;en(e);const o=r.index-19;e.hostBindings(1,n,o),en(null),s===t.length&&i&&t.push(e.hostBindings)}function us(e,t,n){const r=-(t.index-19),i=65535&t.providerIndexes,s=e.data.length-i;(e.expandoInstructions||(e.expandoInstructions=[])).push(r,s,n)}function ds(e,t,n){const r=Ht(t,e);ki(n,e),r&&ki(r,e)}function ps(e){const t=tn()[1];(t.components||(t.components=[])).push(e.index)}function ms(e,t,n){const r=e.flags;e.flags=1&r,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fs(e,t,n,r){e.data.push(n);const i=new Pt(r,It(n),null);e.blueprint.push(i),t.push(i)}function gs(e,t){const n=Gt(t,e);(128==(128&n[2])||fn(e))&&80&n[2]&&(!function(e){const t=e[1];for(let n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),Es(n,n[9]))}function ys(e,t){return e[14]?e[15][4]=t:e[14]=t,e[15]=t,t}function vs(e){for(;e;){e[2]|=64;const t=vr(e);if(Dt(e)&&!t)return e;e=t}return null}function _s(e){for(let t=0;t<e.components.length;t++){const n=e.components[t];rs(Kt(n),n)}}function bs(e,t){const n=e[11];n.begin&&n.begin();try{fn(e)&&Es(e,t),Es(e,t)}catch(r){throw Os(e,r),r}finally{n.end&&n.end()}}function ws(e){_s(e[9])}function Cs(e,t){_n(!0);try{bs(e,t)}finally{_n(!1)}}function Es(e,t){const n=e[1],r=Sn(e,e[6]),i=n.template,s=fn(e);let o=!1;try{Yt(e),s&&Ss(1,n,t),is(e,i,ss(e),t),Yi(e),o=!0}finally{kn(r,o)}}function Ss(e,t,n){const r=t.viewQuery;null!==r&&(En(0),r(e,n))}const xs=Ki;function ks(e){return e[8]||(e[8]=[])}function Ts(e){return e[1].cleanup||(e[1].cleanup=[])}function Os(e,t){const n=e[10],r=n?n.get(Vr,null):null;r&&r.handleError(t)}function As(e,t,n){const r=e[1];for(let i=0;i<t.length;){const s=t[i++],o=t[i++],a=t[i++],l=e[s],c=r.data[s];c.setInput?c.setInput(l,n,o,a):l[a]=n}}function Is(e,t){const n=t[3];return-1===e.index?Ot(n)?n:null:n}function Ds(e,t,n,r,i){if(null!=r){let s,o=!1;Ot(r)?s=r:Tt(r)&&(o=!0,r=r[0]);const a=zt(r);0===e?Fs(t,n,a,i||null):1===e?js(t,a,o):2===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7],o=zt(n);s!==o&&Ds(t,e,r,s,i);for(let a=9;a<n.length;a++){const i=n[a];$s(e,t,i,r,s)}}(t,e,s,n,i)}}function Ps(e,t){const n=e[5],r=n.indexOf(t);n.splice(r,1)}function Ns(e){if(!(256&e[2])){const t=e[12];dr(t)&&t.destroyNode&&$s(t,2,e,null,null),function(e){let t=e[14];if(!t)return Ms(e);for(;t;){let n=null;if(Tt(t))n=t[14];else{const e=t[9];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Ms(t),t=Rs(t,e);Ms(t||e),n=t&&t[4]}t=n}}(e)}}function Rs(e,t){let n;return Tt(e)&&(n=e[6])&&2===n.type?Is(n,e):e[3]===t?null:e[3]}function Ms(e){if(Tt(e)&&!(256&e[2])){e[2]&=-129,e[2]|=256,function(e){const t=e[1];let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof Pt||n[r+1].call(t)}}(e),function(e){const t=e[1].cleanup;if(null!==t){const n=e[8];for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const i=t[r+1],s="function"==typeof i?i(e):zt(e[i]),o=n[t[r+2]],a=t[r+3];"boolean"==typeof a?s.removeEventListener(t[r],o,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else{const e=n[t[r+1]];t[r].call(e)}e[8]=null}}(e);const t=e[6];t&&3===t.type&&dr(e[12])&&e[12].destroy();const n=e[17];if(null!==n&&Ot(e[3])){n!==e[3]&&Ps(n,e);const t=e[5];null!==t&&t.detachView(e[1])}}}function Fs(e,t,n,r){dr(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ls(e,t){return dr(e)?e.parentNode(t):t.parentNode}function js(e,t,n){const r=Ls(e,t);r&&function(e,t,n,r){dr(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function $s(e,t,n,r,i){const s=n[1];let o=s.node.child;for(;null!==o;)Bs(e,t,n,o,r,i),o=o.next}function Bs(e,t,n,r,i,s){const o=r.type;32&r.flags||(4===o||5===o?function(e,t,n,r,i,s){Ds(t,e,i,n[r.index],s);let o=r.child;for(;o;)Bs(e,t,n,o,i,s),o=o.next}(e,t,n,r,i,s):1===o?function(e,t,n,r,i,s){const o=br(n),a=o[6],l=a.projection[r.projection];if(void 0!==l)if(Array.isArray(l))for(let c=0;c<l.length;c++){const n=l[c];Ds(t,e,i,n,s)}else{let n=l;const r=o[3];for(;null!==n;)Bs(e,t,r,n,i,s),n=n.projectionNext}}(e,t,n,r,i,s):Ds(t,e,i,n[r.index],s))}class Vs{constructor(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}get rootNodes(){if(null==this._lView[0]){const e=this._lView[6];return function e(t,n,r){let i=n.child;for(;i;){const n=qt(i,t);if(n&&r.push(n),4===i.type)e(t,i,r);else if(1===i.type){const e=br(t),n=e[6],s=vr(e);let o=n.projection[i.projection];for(;o&&s;)r.push(Ht(o,s)),o=o.next}i=i.next}return r}(this._lView,e,[])}return[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ns(this._lView)}onDestroy(e){var t,n;t=this._lView,n=e,ks(t).push(n),t[1].firstTemplatePass&&Ts(t).push(t[8].length-1,null)}markForCheck(){vs(this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bs(this._lView,this.context)}checkNoChanges(){Cs(this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){this._appRef=null,function(e){$s(e[12],1,e,null,null)}(this._lView)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}_lookUpContext(){return this._context=vr(this._lView)[this._componentIndex]}}class Us extends Vs{constructor(e){super(e,null,-1),this._view=e}detectChanges(){ws(this._view)}checkNoChanges(){!function(e){_n(!0);try{ws(e)}finally{_n(!1)}}(this._view)}get context(){return null}}let zs;function Hs(e,t,n){return zs||(zs=class extends e{}),new zs(Ht(t,n))}class qs{}qs.__NG_ELEMENT_ID__=()=>Gs();const Ws=(...e)=>{},Gs=Ws,Qs=Function;function Ks(e){return"function"==typeof e}const Ys=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Xs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Zs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Js=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class eo{constructor(e){this._reflect=e||je.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=new Array(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(function(e){return Ys.test(e)||Js.test(e)||Xs.test(e)&&!Zs.test(e)}(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),r=e.map(e=>e&&to(e.decorators));return this._zipTypesAndAnnotations(t,r)}const r=e.hasOwnProperty(ue)&&e[ue],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):new Array(e.length).fill(void 0)}parameters(e){if(!Ks(e))return[];const t=no(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?to(e.decorators):e.hasOwnProperty(he)?e[he]:null}annotations(e){if(!Ks(e))return[];const t=no(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=to(t[e])}),n}return e.hasOwnProperty(de)?e[de]:null}propMetadata(e){if(!Ks(e))return{};const t=no(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return Ks(e)&&this._ownPropMetadata(e,no(e))||{}}hasLifecycleHook(e,t){return e instanceof Qs&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${Ie(e)}`}resourceUri(e){return`./${Ie(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function to(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function no(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}Se({provide:String,useValue:Se});const ro=Se({provide:String,useValue:Se}),io=[];function so(e,t){if(!t){const t=(new eo).parameters(e);return()=>new e(...Je(t))}if(ro in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>Ye(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...Je(e.deps||io))}if(t.useClass){const n=t;let r=t.deps;if(!r){const t=new eo;r=t.parameters(e)}return()=>new n.useClass(...Je(r))}{let n=t.deps;if(!n){const t=new eo;n=t.parameters(e)}return()=>new e(...Je(n))}}const oo=pe("Injectable",void 0,void 0,void 0,(e,t)=>ao(e,t));const ao=function(e,t){t&&void 0!==t.providedIn&&!Oe(e)&&(e.ngInjectableDef=xe({token:e,providedIn:t.providedIn,factory:so(e,t)}))},lo=new Be("The presence of this token marks an injector as being the root injector.");const co=function(e,t,n){return new go(e,t,n)};class ho{static create(e,t){return Array.isArray(e)?co(e,t,""):co(e.providers,e.parent,e.name||"")}}ho.THROW_IF_NOT_FOUND=Ue,ho.NULL=new et,ho.ngInjectableDef=xe({token:ho,providedIn:"any",factory:()=>Ye(Ve)}),ho.__NG_ELEMENT_ID__=-1;const uo=function(e){return e},po=[],mo=uo,fo=function(){return Array.prototype.slice.call(arguments)};class go{constructor(e,t=ho.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(ho,{token:ho,fn:uo,deps:po,value:this,useNew:!1}),r.set(Ve,{token:Ve,fn:uo,deps:po,value:this,useNew:!1}),function e(t,n){if(n)if((n=Ne(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw _o("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw _o("Unexpected provider",n);{let e=Ne(n.provide);const r=function(e){const t=function(e){let t=po;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=Ne(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof ve||n==ve?r|=1:n instanceof be||n==be?r&=-3:n instanceof _e||n==_e?r&=-5:i=n instanceof ye?n.token:Ne(n)}t.push({token:i,options:r})}}else if(e.useExisting){const n=Ne(e.useExisting);t=[{token:n,options:6}]}else if(!(n||He in e))throw _o("'deps' required",e);return t}(e);let n=uo,r=po,i=!1,s=Ne(e.provide);if(He in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=Ne(e.useClass);else{if("function"!=typeof s)throw _o("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=s}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==fo)throw yo(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:fo,value:po});e=n,r.deps.push({token:e,options:6})}const i=t.get(e);if(i&&i.fn==fo)throw yo(e);t.set(e,r)}}}(r,e)}get(e,t,n=Ee.Default){const r=this._records.get(e);try{return vo(e,r,this._records,this.parent,t,n)}catch(i){return tt(i,e,"StaticInjectorError",this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(Ie(n))),`StaticInjector[${e.join(", ")}]`}}function yo(e){return _o("Cannot mix multi providers and regular providers",e)}function vo(e,t,n,r,i,s){try{return function(e,t,n,r,i,s){let o;if(!t||s&Ee.SkipSelf)s&Ee.Self||(o=r.get(e,i,Ee.Default));else{if(o=t.value,o==mo)throw Error("\u0275Circular dependency");if(o===po){t.value=mo;let e=void 0,i=t.useNew,s=t.fn,a=t.deps,l=po;if(a.length){l=[];for(let e=0;e<a.length;e++){const t=a[e],i=t.options,s=2&i?n.get(t.token):void 0;l.push(vo(t.token,s,n,s||4&i?r:ho.NULL,1&i?null:ho.THROW_IF_NOT_FOUND,Ee.Default))}}t.value=o=i?new s(...l):s.apply(e,l)}}return o}(e,t,n,r,i,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(e),t&&t.value==mo&&(t.value=po),o}}function _o(e,t){return new Error(nt(e,t,"StaticInjectorError"))}function bo(e){if(e.length>1){return" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>Ie(e.token)).join(" -> ")+")"}return""}function wo(e,t,n,r){const i=[t],s=n(i),o=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(s,r):Error(s);return o.addKey=Co,o.keys=i,o.injectors=[e],o.constructResolvingMessage=n,o.ngOriginalError=r,o}function Co(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Eo(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];e&&0!=e.length?n.push(e.map(Ie).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+Ie(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Ie(e)+"' is decorated with Injectable.")}class So{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=Ie(this.token)}static get(e){return xo.get(Ne(e))}static get numberOfKeys(){return xo.numberOfKeys}}const xo=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof So)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new So(e,So.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}};const ko=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new eo);class To{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new To(e,!1,null)}}const Oo=[];class Ao{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Io{constructor(e,t){this.factory=e,this.dependencies=t}}function Do(e){let t,n;if(e.useClass){const r=Ne(e.useClass);t=ko.factory(r),n=Ro(r)}else e.useExisting?(t=e=>e,n=[To.fromKey(So.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>Mo(e,t,n))}return Ro(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=Oo);return new Io(t,n)}function Po(e){return new Ao(So.get(e.provide),[Do(e)],e.multi||!1)}function No(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new Ao(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(function e(t,n){return t.forEach(t=>{if(t instanceof Qs)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`);e(t,n)}}),n}(e,[]).map(Po),new Map);return Array.from(t.values())}function Ro(e){const t=ko.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw Eo(e,t);return t.map(n=>Mo(e,n,t))}function Mo(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return Fo(t instanceof ye?t.token:t,i,null);let s=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof Qs?r=e:e instanceof ye?r=e.token:e instanceof ve?i=!0:e instanceof _e||e instanceof be?s=e:e instanceof Be&&(r=e)}if(r=Ne(r),null!=r)return Fo(r,i,s);throw Eo(e,n)}function Fo(e,t,n){return new To(So.get(e),t,n)}const Lo=new Object;class jo{static resolve(e){return No(e)}static resolveAndCreate(e,t){const n=jo.resolve(e);return jo.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new $o(e,t)}}class $o{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Lo}get(e,t=Ue){return this._getByKey(So.get(e),null,t)}resolveAndCreateChild(e){const t=jo.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new $o(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(jo.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw t=this,n=e.key,wo(t,n,(function(e){return`Cannot instantiate cyclic dependency!${bo(e)}`}));var t,n;return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(l){throw l.addKey&&l.addKey(this,e.key),l}try{i=n(...r)}catch(l){throw s=this,o=l,l.stack,a=e.key,wo(s,a,(function(e){const t=Ie(e[0].token);return`${o.message}: Error during instantiation of ${t}!${bo(e)}.`}),o)}var s,o,a;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:Ue)}_getByKey(e,t,n){return e===$o.INJECTOR_KEY?this:t instanceof _e?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Lo&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Lo}_throwOrNull(e,t){if(t!==Ue)return t;throw function(e,t){return wo(e,t,(function(e){return`No provider for ${Ie(e[0].token)}!${bo(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==Lo?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof be?this.parent:this;r instanceof $o;){const t=r,n=t._getObjByKeyId(e.id);if(n!==Lo)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}$o.INJECTOR_KEY=So.get(ho);const Bo=new Be("AnalyzeForEntryComponents");class Vo{}const Uo=ge("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),Vo);const zo=ge("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Vo);ge("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),Vo);const Ho=ge("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Vo);new Map;new Set;function qo(e){const t=tn(),n=t[1];n.firstTemplatePass&&(function(e,t,n){const r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===t.hostBindings?r[i-1]=r[i-1]+n:r.push(t.hostBindings,n)}(n,Jt,e),function(e,t,n){for(let r=0;r<n;r++)t.push(Vi),e.blueprint.push(Vi),e.data.push(null)}(n,t,e))}let Wo=null;function Go(){if(!Wo){const e=je.Symbol;if(e&&e.iterator)Wo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Wo=n)}}}return Wo}function Qo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ko(e,t){const n=Xo(e),r=Xo(t);if(n&&r)return function(e,t,n){const r=e[Go()](),i=t[Go()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Ko);{const i=e&&("object"==typeof e||"function"==typeof e),s=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!s)||Qo(e,t)}}class Yo{constructor(e){this.wrapped=e}static wrap(e){return new Yo(e)}static unwrap(e){return Yo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Yo}}function Xo(e){return!!Zo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Go()in e)}function Zo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jo(){var e,t;tn()[1].firstTemplatePass&&(e=un(),t=oa(),$n(la(e),t),$n(aa(e),t))}function ea(e){const t=On(),n=tn(),r=Wt(t,n),i=aa(r),s=oa(),o=n[7]++;!s&&ar(r)&&e!==Vi&&(ia(i,n,r,o,e,!1),e=Vi);ra(t,i,o,e,!1,ha())}function ta(e){na(On(),e)}function na(e,t){const n=tn(),r=Wt(e,n),i=la(r),s=oa(),o=n[7]++;!s&&or(r)&&t!==Vi&&(ia(i,n,r,o,t,!0),t=Vi);ra(e,i,o,t,!0,ha())}function ra(e,t,n,r,i,s){zi();const o=tn();let a=!1;if(r!==Vi){const l=Ht(Wt(e,o),o),c=o[n];a=Jn(c,r);const h=function(e,t,n){const r=Array.isArray(e)?e:[null];r[0]=t||null;for(let a=1;a<r.length;a+=2)cr(r,a,null);let i,s=null,o=!1;if("string"==typeof t?t.length&&(s=t.split(/\s+/),o=!0):(s=t?Object.keys(t):null,i=t),s)for(let a=0;a<s.length;a++){const e=s[a];Gi(r,n?nr(e):e,!!o||i[e],!0)}return r}(c,r,!i);if(i)Oi(t,o,l,null,n,h,s,a);else{Ai(t,o,l,null,n,h,Rn(),s,a)}}return a}function ia(e,t,n,r,i,s){if(t[r]!==i){if(i||Yn(e)){As(t,n.inputs[s?"class":"style"],function(e,t,n){let r=t;e.length>0&&(r=n?tr(e,((i=t)&&"string"!=typeof i&&(i=Object.keys(i).join(" ")),i||"")):tr(e,function(e){let t="";if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];t=tr(t,`${i}:${e[i]}`,";")}}return t}(t),";"));var i;return r}(sr(e),i,s))}t[r]=i}}function sa(){const e=On(),t=tn(),n=Wt(e,t),r=function(e,t){return 3===e.type?t[12]:null}(n,t),i=Ht(n,t),s=oa(),o=Rn();Mi(r,t,la(n),aa(n),i,s,o),Nn(null)}function oa(){return on+an}function aa(e){return ca(e,!1)}function la(e){return ca(e,!0)}function ca(e,t){let n=t?e.classes:e.styles;return ir(n)||(n=[n||[""],0,0,1,0,"--MAP--"],t?e.classes=n:e.styles=n),n}function ha(){return ln>0}function ua(e){return!!e&&"function"==typeof e.then}function da(e){return!!e&&"function"==typeof e.subscribe}function pa(e,t,n,r,i,s){xn();const o=n[1];n[19]=e;const a=es(o,null,0,3,null,null),l=Ji(n,os(t),null,t.onPush?64:16,n[19],a,r,i,s);return o.firstTemplatePass&&(Ar(xr(a,n),o,t.type),a.flags=1,ms(a,n.length,1),ps(a)),n[19]=l}function ma(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=un();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),us(e,r,1),fs(e,t,n,n.factory));const i=Rr(e.data,t,t.length-1,r);return ds(t,r,i),i}(s,n,t);r.components.push(o),e[9]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,n.length-1);const a=un();if(s.firstTemplatePass&&t.hostBindings){cn(a.index-19);const e=s.expandoInstructions;hs(t,e,o,a,s.firstTemplatePass),cn(null)}return o}function fa(e,t){return{components:[],scheduler:e||jn,clean:xs,playerHandler:t||null,flags:0}}function ga(e,t){const n=Kt(e)[1],r=n.data.length-1;Nt(r,t,n,-1,-1,-1),Rt(n,{directiveStart:r,directiveEnd:r+1})}class ya{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class va{}class _a{}function ba(e){const t=Error(`No component factory found for ${Ie(e)}. Did you add it to @NgModule.entryComponents?`);return t[wa]=e,t}const wa="ngComponent";class Ca{}Ca.NULL=new class{resolveComponentFactory(e){throw ba(e)}};class Ea{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw ba(e);return new Sa(t,this._ngModule)}}class Sa extends _a{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function xa(...e){}class ka{constructor(e){this.nativeElement=e}}ka.__NG_ELEMENT_ID__=()=>Ta(ka);const Ta=xa;class Oa{}new Be("Renderer2Interceptor");class Aa{}const Ia={Important:1,DashCase:2};Ia[Ia.Important]="Important",Ia[Ia.DashCase]="DashCase";class Da{}Da.__NG_ELEMENT_ID__=()=>Pa();const Pa=xa;class Na{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ra=new Na("8.2.14");class Ma{constructor(){}supports(e){return Xo(e)}create(e){return new La(e)}}const Fa=(e,t)=>t;class La{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fa}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Va(n,r,i)?t:n,o=Va(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Xo(e))throw new Error(`Error trying to diff '${Ie(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Qo(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Qo(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Go()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Qo(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Qo(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Qo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Qo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new ja(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ba),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ba),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class ja{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $a{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Qo(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ba{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new $a,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Va(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Ua{constructor(){}supports(e){return e instanceof Map||Zo(e)}create(){return new za}}class za{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Zo(e)))throw new Error(`Error trying to diff '${Ie(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ha(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Qo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Ha{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class qa{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new qa(e)}static extend(e){return{provide:qa,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return qa.create(e,t)},deps:[[qa,new be,new ve]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}qa.ngInjectableDef=xe({token:qa,providedIn:"root",factory:()=>new qa([new Ma])});class Wa{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new Wa(e)}static extend(e){return{provide:Wa,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return Wa.create(e,t)},deps:[[Wa,new be,new ve]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}Wa.ngInjectableDef=xe({token:Wa,providedIn:"root",factory:()=>new Wa([new Ua])});const Ga=[new Ua],Qa=[new Ma],Ka=new qa(Qa),Ya=new Wa(Ga);class Xa{}Xa.__NG_ELEMENT_ID__=()=>Za(Xa,ka);const Za=xa;class Ja{}Ja.__NG_ELEMENT_ID__=()=>el(Ja,ka);const el=xa;function tl(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return nl(n,t),n}(i,e)}function nl(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function rl(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function il(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function sl(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ol(e,t){return e.nodes[t]}function al(e,t){return e.nodes[t]}function ll(e,t){return e.nodes[t]}function cl(e,t){return e.nodes[t]}function hl(e,t){return e.nodes[t]}const ul={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},dl=()=>{},pl=new Map;function ml(e){let t=pl.get(e);return t||(t=Ie(e)+"_"+pl.size,pl.set(e,t)),t}function fl(e,t,n,r){if(Yo.isWrapped(r)){r=Yo.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,s=Yo.unwrap(e.oldValues[i]);e.oldValues[i]=new Yo(s)}return r}function gl(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let yl=0;function vl(e,t,n,r){const i=e.oldValues;return!(!(2&e.state)&&Qo(i[t.bindingIndex+n],r))}function _l(e,t,n,r){return!!vl(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function bl(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Ko(i,r)){const s=t.bindings[n].name;throw tl(ul.createDebugContext(e,t.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&e.state))}}function wl(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Cl(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function El(e,t,n,r){try{return wl(33554432&e.def.nodes[t].flags?al(e,t).componentView:e),ul.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Sl(e){if(e.parent){return al(e.parent,e.parentNodeDef.nodeIndex)}return null}function xl(e){return e.parent?e.parentNodeDef.parent:null}function kl(e,t){switch(201347067&t.flags){case 1:return al(e,t.nodeIndex).renderElement;case 2:return ol(e,t.nodeIndex).renderText}}function Tl(e,t){return e?`${e}:${t}`:t}function Ol(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Al(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Il(e){return 1<<e%32}function Dl(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Il(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Pl(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:r,token:n,tokenKey:ml(n)}})}function Nl(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ht.Native?al(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Rl=new WeakMap;function Ml(e){let t=Rl.get(e);return t||(t=e(()=>dl),t.factory=e,Rl.set(e,t)),t}function Fl(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(kl(e,e.def.lastRenderRootNode))),Ll(e,t,0,e.def.nodes.length-1,n,r,i)}function Ll(e,t,n,r,i,s,o){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&$l(e,n,t,i,s,o),a+=n.childCount}}function jl(e,t,n,r,i,s){let o=e;for(;o&&!Ol(o);)o=o.parent;const a=o.parent,l=xl(o),c=l.nodeIndex+1,h=l.nodeIndex+l.childCount;for(let u=c;u<=h;u++){const e=a.def.nodes[u];e.ngContentIndex===t&&$l(a,e,n,r,i,s),u+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)Bl(e,o[t],n,r,i,s)}}function $l(e,t,n,r,i,s){if(8&t.flags)jl(e,t.ngContent.index,n,r,i,s);else{const o=kl(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&Bl(e,o,n,r,i,s),32&t.bindingFlags){Bl(al(e,t.nodeIndex).componentView,o,n,r,i,s)}}else Bl(e,o,n,r,i,s);if(16777216&t.flags){const o=al(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)Fl(o[e],n,r,i,s)}1&t.flags&&!t.element.name&&Ll(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,s)}}function Bl(e,t,n,r,i,s){const o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,i);break;case 3:o.removeChild(r,t);break;case 0:s.push(t)}}const Vl=/^:([^:]+):(.+)$/;function Ul(e){if(":"===e[0]){const t=e.match(Vl);return[t[1],t[2]]}return["",e]}function zl(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Hl(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+Wl(t[r+1]);return n+t[2*e]}function ql(e,t,n,r,i,s,o,a,l,c,h,u,d,p,m,f,g,y,v,_){switch(e){case 1:return t+Wl(n)+r;case 2:return t+Wl(n)+r+Wl(i)+s;case 3:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a;case 4:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a+Wl(l)+c;case 5:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a+Wl(l)+c+Wl(h)+u;case 6:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a+Wl(l)+c+Wl(h)+u+Wl(d)+p;case 7:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a+Wl(l)+c+Wl(h)+u+Wl(d)+p+Wl(m)+f;case 8:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a+Wl(l)+c+Wl(h)+u+Wl(d)+p+Wl(m)+f+Wl(g)+y;case 9:return t+Wl(n)+r+Wl(i)+s+Wl(o)+a+Wl(l)+c+Wl(h)+u+Wl(d)+p+Wl(m)+f+Wl(g)+y+Wl(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Wl(e){return null!=e?e.toString():""}const Gl=[],Ql={},Kl=new Object,Yl=ml(ho),Xl=ml(Ve),Zl=ml(rt);function Jl(e,t,n,r){return n=Ne(n),{index:-1,deps:Pl(r,Ie(t)),flags:e,token:t,value:n}}function ec(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const s=e[i];s.token===lo&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,t[ml(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function tc(e,t,n=ho.THROW_IF_NOT_FOUND){const r=Ge(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case Yl:case Xl:case Zl:return e}const a=e._def.providersByKey[o];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=nc(e,a)),t===Kl?void 0:t}if((l=Oe(t.token))&&(i=e,null!=(s=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,s.providedIn)||"root"===s.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=Kl,e._providers[n]=nc(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ge(r)}var i,s}function nc(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(tc(e,n[0]));case 2:return new t(tc(e,n[0]),tc(e,n[1]));case 3:return new t(tc(e,n[0]),tc(e,n[1]),tc(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=tc(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(tc(e,n[0]));case 2:return t(tc(e,n[0]),tc(e,n[1]));case 3:return t(tc(e,n[0]),tc(e,n[1]),tc(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=tc(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=tc(e,t.deps[0]);break;case 256:n=t.value}return n===Kl||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Kl:n}function rc(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,ot(i,n,r),function(e,t){const n=Sl(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),ul.dirtyParentQueries(r),sc(t,n>0?i[n-1]:null,r)}function ic(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,at(n,t),ul.dirtyParentQueries(r),oc(r),r}function sc(e,t,n){const r=t?kl(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Fl(n,2,i,s,void 0)}function oc(e){Fl(e,3,null,null,void 0)}const ac=new Object;function lc(e,t,n,r,i,s){return new cc(e,t,n,r,i,s)}class cc extends _a{constructor(e,t,n,r,i,s){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t){const r=t[n];e.push({propName:n,templateName:r})}return e}get outputs(){const e=[];for(let t in this._outputs){const n=this._outputs[t];e.push({propName:t,templateName:n})}return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Ml(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=ul.createRootView(e,t||[],n,i,r,ac),a=ll(o,s).instance;return n&&o.renderer.setAttribute(al(o,0).renderElement,"ng-version",Ra.full),new hc(o,new mc(o),a)}}class hc extends va{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new ka(al(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new vc(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function uc(e,t,n){return new dc(e,t,n)}class dc{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new ka(this._data.renderElement)}get injector(){return new vc(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=xl(e),e=e.parent;return e?new vc(e,t):new vc(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ic(this._data,e);ul.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new mc(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;i||e instanceof Sa||(i=s.get(rt));const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e,r=n._view;return rc(this._view,this._data,t,r),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];at(r,t),null==n&&(n=r.length),ot(r,n,i),ul.dirtyParentQueries(i),oc(i),sc(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ic(this._data,e);t&&ul.destroyView(t)}detach(e){const t=ic(this._data,e);return t?new mc(t):null}}function pc(e){return new mc(e)}class mc{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Fl(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){wl(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{ul.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){ul.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ul.destroyView(this._view)}detachFromAppRef(){this._appRef=null,oc(this._view),ul.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function fc(e,t){return new gc(e,t)}class gc extends Xa{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new mc(ul.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new ka(al(this._parentView,this._def.nodeIndex).renderElement)}}function yc(e,t){return new vc(e,t)}class vc{constructor(e,t){this.view=e,this.elDef=t}get(e,t=ho.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return ul.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:ml(e)},t)}}function _c(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=al(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return ol(e,n.nodeIndex).renderText;if(20240&n.flags)return ll(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function bc(e){return new wc(e.renderer)}class wc{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=Ul(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=Ul(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Cc(e,t,n,r){return new Ec(e,t,n,r)}class Ec{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=nc(e,i))}}(this)}get(e,t=ho.THROW_IF_NOT_FOUND,n=Ee.Default){let r=0;return n&Ee.SkipSelf?r|=1:n&Ee.Self&&(r|=4),tc(this,{token:e,tokenKey:ml(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Ca)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Ie(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++){if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Kl){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Sc=ml(Oa),xc=ml(Da),kc=ml(ka),Tc=ml(Ja),Oc=ml(Xa),Ac=ml(qs),Ic=ml(ho),Dc=ml(Ve);function Pc(e,t,n,r,i,s,o,a){const l=[];if(o)for(let h in o){const[e,t]=o[h];l[e]={flags:8,name:h,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let h in a)c.push({type:1,propName:h,target:null,eventName:a[h]});return Mc(e,t|=16384,n,r,i,i,s,l,c)}function Nc(e,t,n){return Mc(-1,e|=16,null,0,t,t,n)}function Rc(e,t,n,r,i){return Mc(-1,e,t,0,n,r,i)}function Mc(e,t,n,r,i,s,o,a,l){const{matchedQueries:c,references:h,matchedQueryIds:u}=Dl(n);l||(l=[]),a||(a=[]),s=Ne(s);const d=Pl(o,Ie(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:u,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:zl(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function Fc(e,t){return Bc(e,t)}function Lc(e,t){let n=e;for(;n.parent&&!Ol(n);)n=n.parent;return Vc(n.parent,xl(n),!0,t.provider.value,t.provider.deps)}function jc(e,t){const n=(32768&t.flags)>0,r=Vc(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const n=t.outputs[i],s=r[n.propName];if(!da(s))throw new Error(`@Output ${n.propName} not initialized in '${r.constructor.name}'.`);{const r=s.subscribe($c(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+i]=r.unsubscribe.bind(r)}}return r}function $c(e,t,n){return r=>El(e,t,n,r)}function Bc(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Vc(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(zc(e,t,n,i[0]));case 2:return r(zc(e,t,n,i[0]),zc(e,t,n,i[1]));case 3:return r(zc(e,t,n,i[0]),zc(e,t,n,i[1]),zc(e,t,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=zc(e,t,n,i[r]);return r(...o)}}(e,t.parent,n,r.value,r.deps);case 2048:return zc(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Vc(e,t,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(zc(e,t,n,i[0]));case 2:return new r(zc(e,t,n,i[0]),zc(e,t,n,i[1]));case 3:return new r(zc(e,t,n,i[0]),zc(e,t,n,i[1]),zc(e,t,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=zc(e,t,n,i[r]);return new r(...o)}}const Uc={};function zc(e,t,n,r,i=ho.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=e;2&r.flags&&(i=null);const o=r.tokenKey;o===Ac&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case Sc:return bc(Hc(a,t,n));case xc:return Hc(a,t,n).renderer;case kc:return new ka(al(a,t.nodeIndex).renderElement);case Tc:return al(a,t.nodeIndex).viewContainer;case Oc:if(t.element.template)return al(a,t.nodeIndex).template;break;case Ac:return pc(Hc(a,t,n));case Ic:case Dc:return yc(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=ll(a,e.nodeIndex);return t||(t={instance:Bc(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Ol(a),t=xl(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,Uc);return l!==Uc||i===Uc?l:s.root.ngModule.injector.get(r.token,i)}function Hc(e,t,n){let r;if(n)r=al(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Ol(r);)r=r.parent;return r}function qc(e,t,n,r,i,s){if(32768&n.flags){const t=al(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}const o=n.bindings[r].name;if(t.instance[o]=i,524288&n.flags){s=s||{};const t=Yo.unwrap(e.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new ya(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,s}function Wc(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&t&&Qc(e,i,s.flags&t,r++),0==(s.childFlags&t)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=Gc(e,o,t,r)),o=o.parent}}function Gc(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Qc(e,i,t.flags&n,r++),i+=t.childCount}return r}function Qc(e,t,n,r){const i=ll(e,t);if(!i)return;const s=i.instance;s&&(ul.setCurrentNode(e,t),1048576&n&&sl(e,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&sl(e,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}class Kc extends Ca{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=St(e);return new Zc(t,this.ngModule)}}function Yc(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}const Xc=new Be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jn});class Zc extends _a{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors[0][0]||"div",this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Yc(this.componentDef.inputs)}get outputs(){return Yc(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Uc,i);return s!==Uc||r===Uc?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Aa,pr),o=i.get(_i,null);Pn();const a=n?ls(s,n):Zi(this.selector,s.createRenderer(null,this.componentDef)),l=this.componentDef.onPush?576:528,c="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h=fa(),u=s.createRenderer(a,this.componentDef);n&&a&&(dr(u)?u.setAttribute(a,"ng-version",Ra.full):a.setAttribute("ng-version",Ra.full));const d=Ji(null,as(-1,null,1,0,null,null,null,null),h,l,null,null,s,u,o,i),p=Sn(d,null);let m,f,g=!1;try{const e=pa(a,this.componentDef,d,s,u);f=Wt(0,d),t&&(f.projection=t.map(e=>Array.from(e))),m=ma(e,this.componentDef,d,h,[ga]),ys(d,e),Yi(d),g=!0}finally{kn(p,g)}const y=new Jc(this.componentType,m,Hs(ka,f,d),d,f);return n&&!c||(y.hostView._tViewNode.child=f),y}}new Kc;class Jc extends va{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Us(r),this.hostView._tViewNode=ts(r[1],null,-1,r),this.componentType=e}get injector(){return new Lr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const eh={},th={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};th[th.LocaleId]="LocaleId",th[th.DayPeriodsFormat]="DayPeriodsFormat",th[th.DayPeriodsStandalone]="DayPeriodsStandalone",th[th.DaysFormat]="DaysFormat",th[th.DaysStandalone]="DaysStandalone",th[th.MonthsFormat]="MonthsFormat",th[th.MonthsStandalone]="MonthsStandalone",th[th.Eras]="Eras",th[th.FirstDayOfWeek]="FirstDayOfWeek",th[th.WeekendRange]="WeekendRange",th[th.DateFormat]="DateFormat",th[th.TimeFormat]="TimeFormat",th[th.DateTimeFormat]="DateTimeFormat",th[th.NumberSymbols]="NumberSymbols",th[th.NumberFormats]="NumberFormats",th[th.CurrencySymbol]="CurrencySymbol",th[th.CurrencyName]="CurrencyName",th[th.Currencies]="Currencies",th[th.PluralCase]="PluralCase",th[th.ExtraData]="ExtraData";const nh=void 0;var rh=["en",[["a","p"],["AM","PM"],nh],[["AM","PM"],nh,nh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nh,"{1} 'at' {0}",nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function ih(e){return sh(e)[th.PluralCase]}function sh(e){const t=e.toLowerCase().replace(/_/g,"-");let n=eh[t];if(n)return n;const r=t.split("-")[0];if(n=eh[r],n)return n;if("en"===r)return rh;throw new Error(`Missing locale data for the locale "${e}".`)}const oh=new Map;function ah(e,t){const n=oh.get(e);lh(e,n&&n.moduleType,t.moduleType),oh.set(e,t)}function lh(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Ie(t)} vs ${Ie(t.name)}`)}class ch extends A{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return e instanceof p&&e.add(o),o}}function hh(){return this._results[Go()]()}class uh{constructor(){this.dirty=!0,this._results=[],this.changes=new ch,this.length=0;const e=Go(),t=uh.prototype;t[e]||(t[e]=hh)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=st(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}new Map,new Map;const dh=pe("Directive",(e={})=>e,void 0,void 0,(e,t)=>bh(e,t));const ph=pe("Component",(e={})=>Object.assign({changeDetection:lt.Default},e),dh,void 0,(e,t)=>_h(e,t));const mh=pe("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>wh(e,t));const fh=ge("Input",e=>({bindingPropertyName:e}));const gh=ge("Output",e=>({bindingPropertyName:e}));const yh=ge("HostBinding",e=>({hostPropertyName:e}));const vh=ge("HostListener",(e,t)=>({eventName:e,args:t})),_h=xa,bh=xa,wh=xa;const Ch=pe("NgModule",e=>e,void 0,void 0,(e,t)=>Eh(e,t));const Eh=function(e,t){let n=t&&t.imports||[];t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef=Te({factory:so(e,{useClass:e}),providers:t&&t.providers,imports:n})},Sh=new Be("Application Initializer");class xh{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();ua(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}xh.decorators=[{type:oo}],xh.ctorParameters=()=>[{type:Array,decorators:[{type:ye,args:[Sh]},{type:ve}]}];const kh=new Be("AppId");const Th={provide:kh,useFactory:function(){return`${Oh()}${Oh()}${Oh()}`},deps:[]};function Oh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ah=new Be("Platform Initializer"),Ih=new Be("Platform ID"),Dh=new Be("appBootstrapListener"),Ph=new Be("Application Packages Root URL");class Nh{log(e){console.log(e)}warn(e){console.warn(e)}}Nh.decorators=[{type:oo}];const Rh=new Be("LocaleId"),Mh=new Be("Translations"),Fh=new Be("TranslationsFormat"),Lh={Error:0,Warning:1,Ignore:2};Lh[Lh.Error]="Error",Lh[Lh.Warning]="Warning",Lh[Lh.Ignore]="Ignore";function jh(){throw new Error("Runtime compiler is not loaded")}const $h=jh,Bh=jh,Vh=jh,Uh=jh;class zh{constructor(){this.compileModuleSync=$h,this.compileModuleAsync=Bh,this.compileModuleAndAllComponentsSync=Vh,this.compileModuleAndAllComponentsAsync=Uh}clearCache(){}clearCacheFor(e){}getModuleId(e){}}zh.decorators=[{type:oo}];const Hh=new Be("compilerOptions");class qh{}let Wh,Gh;const Qh=function(){const e=je.wtf;return!(!e||(Wh=e.trace,!Wh))&&(Gh=Wh.events,!0)}();function Kh(e,t){return null}const Yh=Qh?function(e,t=null){return Gh.createScope(e,t)}:(e,t)=>Kh,Xh=Qh?function(e,t){return Wh.leaveScope(e,t),t}:(e,t)=>t,Zh=Promise.resolve(0);function Jh(e){"undefined"==typeof Zone?Zh.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class eu{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ch(!1),this.onMicrotaskEmpty=new ch(!1),this.onStable=new ch(!1),this.onError=new ch(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const t=this;var n;t._nesting=0,t._outer=t._inner=Zone.current,Zone.wtfZoneSpec&&(t._inner=t._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(t._inner=t._inner.fork(Zone.longStackTraceZoneSpec)),(n=t)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,r,i,s,o)=>{try{return iu(n),e.invokeTask(r,i,s,o)}finally{su(n)}},onInvoke:(e,t,r,i,s,o,a)=>{try{return iu(n),e.invoke(r,i,s,o,a)}finally{su(n)}},onHasTask:(e,t,r,i)=>{e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,ru(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,t,r,i)=>(e.handleError(r,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,nu,tu,tu);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function tu(){}const nu={};function ru(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function iu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function su(e){e._nesting--,ru(e)}class ou{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ch,this.onMicrotaskEmpty=new ch,this.onStable=new ch,this.onError=new ch}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class au{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eu.assertNotInAngularZone(),Jh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}au.decorators=[{type:oo}],au.ctorParameters=()=>[{type:eu}];class lu{constructor(){this._applications=new Map,hu.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return hu.findTestabilityInTree(this,e,t)}}lu.decorators=[{type:oo}],lu.ctorParameters=()=>[];let cu,hu=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},uu=function(e,t,n){return e.get(qh).createCompiler([t]).compileModuleAsync(n)};let du=function(e){return e instanceof Sa};const pu=new Be("AllowMultipleToken");class mu{constructor(e,t){this.name=e,this.token=t}}function fu(e,t,n=[]){const r=`Platform: ${t}`,i=new Be(r);return(t=[])=>{let s=gu();if(!s||s.injector.get(pu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(cu&&!cu.destroyed&&!cu.injector.get(pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cu=e.get(yu);const t=e.get(Ah,null);t&&t.forEach(e=>e())}(ho.create({providers:e,name:r}))}return function(e){const t=gu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function gu(){return cu&&!cu.destroyed?cu:null}class yu{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;t="noop"===e?new ou:("zone.js"===e?void 0:e)||new eu({enableLongStackTrace:Hr()});return t}(t?t.ngZone:void 0),r=[{provide:eu,useValue:n}];return n.run(()=>{const t=ho.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(Vr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>bu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const r=n();return ua(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(xh);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=vu({},t);return uu(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(_u);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ie(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function vu(e,t){return e=Array.isArray(t)?t.reduce(vu,e):Object.assign({},e,t)}yu.decorators=[{type:oo}],yu.ctorParameters=()=>[{type:ho}];class _u{constructor(e,t,n,r,i,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Hr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new E(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new E(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{eu.assertNotInAngularZone(),Jh(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=J(o,a.pipe(ce()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof _a?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=du(n)?null:this._injector.get(rt),i=t||n.selector,s=n.create(ho.NULL,[],i,r);s.onDestroy(()=>{this._unloadComponent(s)});const o=s.injector.get(au,null);return o&&s.injector.get(lu).registerApplication(s.location.nativeElement,o),this._loadComponent(s),Hr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=_u._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,Xh(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;bu(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Dh,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),bu(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}function bu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}_u._tickScope=Yh("ApplicationRef#tick()"),_u.decorators=[{type:oo}],_u.ctorParameters=()=>[{type:eu},{type:Nh},{type:ho},{type:Vr},{type:Ca},{type:xh}];class wu{}class Cu{}const Eu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Su{constructor(e,t){this._compiler=e,this._config=t||Eu}load(e){return this._compiler instanceof zh?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>xu(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>xu(e,t,r))}}function xu(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}Su.decorators=[{type:oo}],Su.ctorParameters=()=>[{type:zh},{type:Cu,decorators:[{type:ve}]}];class ku{constructor(e,t){this.name=e,this.callback=t}}class Tu{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Ou&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ou extends Tu{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof Ou&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof Ou&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof Ou&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Ou)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Au=new Map;const Iu=function(e){return Au.get(e)||null};function Du(e){Au.set(e.nativeNode,e)}const Pu=fu(null,"core",[{provide:Ih,useValue:"unknown"},{provide:yu,deps:[ho]},{provide:lu,deps:[]},{provide:Nh,deps:[]}]);const Nu=[{provide:_u,useClass:_u,deps:[eu,Nh,ho,Vr,Ca,xh]},{provide:Xc,deps:[eu],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:xh,useClass:xh,deps:[[new ve,Sh]]},{provide:zh,useClass:zh,deps:[]},Th,{provide:qa,useFactory:function(){return Ka},deps:[]},{provide:Wa,useFactory:function(){return Ya},deps:[]},{provide:Rh,useFactory:function(e){return e||"en-US"},deps:[[new ye(Rh),new ve,new be]]}];class Ru{constructor(e){}}function Mu(e,t,n,r,i,s){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Dl(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Ml(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dl},provider:null,text:null,query:null,ngContent:null}}function Fu(e,t,n,r,i,s,o=[],a,l,c,h,u){c||(c=dl);const{matchedQueries:d,references:p,matchedQueryIds:m}=Dl(n);let f=null,g=null;s&&([f,g]=Ul(s)),a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t,n]=a[b],[r,i]=Ul(t);let s=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}y[b]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const v=new Array(l.length);for(let b=0;b<l.length;b++){const[e,t]=l[b];v[b]={type:0,target:e,eventName:t,propName:null}}const _=(o=o||[]).map(([e,t])=>{const[n,r]=Ul(e);return[n,r,t]});return u=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==ht.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${yl++}`:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(u),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:p,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:zl(y),outputs:v,element:{ns:f,name:g,attrs:_,template:null,componentProvider:null,componentView:h||null,componentRendererType:u,publicProviders:null,allProviders:null,handleEvent:c||dl},provider:null,text:null,query:null,ngContent:null}}function Lu(e,t,n){const r=n.element,i=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Nl(e,t,n);i&&s.appendChild(i,o)}else{const e=!!r.componentRendererType&&r.componentRendererType.encapsulation===ht.ShadowDom;o=s.selectRootElement(i,e)}if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];s.setAttribute(o,t,n,e)}return o}function ju(e,t,n,r){for(let i=0;i<n.outputs.length;i++){const s=n.outputs[i],o=$u(e,n.nodeIndex,Tl(s.target,s.eventName));let a=s.target,l=e;"component"===s.target&&(a=null,l=t);const c=l.renderer.listen(a||r,s.eventName,o);e.disposables[n.outputIndex+i]=c}}function $u(e,t,n){return r=>El(e,t,n,r)}function Bu(e,t,n,r){if(!_l(e,t,n,r))return!1;const i=t.bindings[n],s=al(e,t.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,s){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=e.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,o,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,o,a,r);break;case 4:!function(e,t,n,r,i){let s=e.root.sanitizer.sanitize(vi.STYLE,i);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const o=e.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(e,i,o,a,r);break;case 8:!function(e,t,n,r,i){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&i.flags?s.componentView:e,i,o,a,r)}return!0}function Vu(e,t,n){let r=[];for(let i in n){const e=n[i];r.push({propName:i,bindingType:e})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Il(t),bindings:r},ngContent:null}}function Uu(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Al(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&hl(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&hl(e,n).setDirty(),n+=t.childCount}}function zu(e,t){const n=hl(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=Hu(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=ll(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Hu(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const s=t.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const e=s[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}r[e.propName]=t}o&&n.notifyOnChanges()}function Hu(e,t,n,r,i){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[r.id];if(null!=n&&i.push(qu(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=al(e,s);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Hu(e,s+1,s+t.childCount,r,i),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Sl(s);o&&o===n&&Hu(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Hu(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(s+=t.childCount)}return i}function qu(e,t,n){if(null!=n)switch(n){case 1:return al(e,t.nodeIndex).renderElement;case 0:return new ka(al(e,t.nodeIndex).renderElement);case 2:return al(e,t.nodeIndex).template;case 3:return al(e,t.nodeIndex).viewContainer;case 4:return ll(e,t.nodeIndex).instance}}function Wu(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Gu(e,t,n){const r=Nl(e,t,n);r&&jl(e,n.ngContent.index,1,r,null,void 0)}function Qu(e,t){return Xu(128,e,new Array(t+1))}function Ku(e,t){return Xu(32,e,new Array(t))}function Yu(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const e=n[s];i[t[e]]=e}return Xu(64,e,i)}function Xu(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:zl(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Zu(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ju(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const s=Nl(e,t,n);return s&&i.appendChild(s,r),{renderText:r}}function ed(e,t){return(null!=e?e.toString():"")+t.suffix}function td(e,t,n,r){let i=0,s=0,o=0,a=0,l=0,c=null,h=null,u=!1,d=!1,p=null;for(let m=0;m<t.length;m++){const e=t[m];if(e.nodeIndex=m,e.parent=c,e.bindingIndex=i,e.outputIndex=s,e.renderParent=h,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,u=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(rd(c,e,t.length),i+=e.bindings.length,s+=e.outputs.length,!h&&3&e.flags&&(p=e),20224&e.flags){u||(u=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(8192&e.flags),n=0!=(32768&e.flags);!t||n?c.element.publicProviders[ml(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[ml(e.provider.token)]=e),n&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,nd(e)||(h=e);else for(;c&&m===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),c=e,h=c&&nd(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||dl,updateRenderer:r||dl,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:p}}function nd(e){return 0!=(1&e.flags)&&null===e.element.name}function rd(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags){if(0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`)}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function id(e,t,n,r){const i=ad(e.root,e.renderer,e,t,n);return ld(i,e.component,r),cd(i),i}function sd(e,t,n){const r=ad(e,e.renderer,null,null,t);return ld(r,n,n),cd(r),r}function od(e,t,n,r){const i=t.element.componentRendererType;let s;return s=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,ad(e.root,s,e,t.element.componentProvider,n)}function ad(e,t,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function ld(e,t,n){e.component=t,e.context=n}function cd(e){let t;if(Ol(e)){const n=e.parentNodeDef;t=al(e.parent,n.parent.nodeIndex).renderElement}const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(ul.setCurrentNode(e,i),201347067&s.flags){case 1:const n=Lu(e,t,s);let a=void 0;if(33554432&s.flags){const t=Ml(s.element.componentView);a=ul.createComponentView(e,s,t,n)}ju(e,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?fc(e,s):void 0},16777216&s.flags&&(o.viewContainer=uc(e,s,o));break;case 2:o=Ju(e,t,s);break;case 512:case 1024:case 2048:case 256:if(o=r[i],!(o||4096&s.flags)){o={instance:Fc(e,s)}}break;case 16:o={instance:Lc(e,s)};break;case 16384:if(o=r[i],!o){o={instance:jc(e,s)}}if(32768&s.flags){ld(al(e,s.parent.nodeIndex).componentView,o.instance,o.instance)}break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new uh;break;case 8:Gu(e,t,s),o=void 0}r[i]=o}vd(e,yd.CreateViewNodes),Cd(e,201326592,268435456,0)}function hd(e){pd(e),ul.updateDirectives(e,1),_d(e,yd.CheckNoChanges),ul.updateRenderer(e,1),vd(e,yd.CheckNoChanges),e.state&=-97}function ud(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,il(e,0,256),pd(e),ul.updateDirectives(e,0),_d(e,yd.CheckAndUpdate),Cd(e,67108864,536870912,0);let t=il(e,256,512);Wc(e,2097152|(t?1048576:0)),ul.updateRenderer(e,0),vd(e,yd.CheckAndUpdate),Cd(e,134217728,536870912,0),t=il(e,512,768),Wc(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,il(e,768,1024)}function dd(e,t,n,r,i,s,o,a,l,c,h,u,d){return 0===n?function(e,t,n,r,i,s,o,a,l,c,h,u){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,s,o,a,l,c,h,u){const d=t.bindings.length;let p=!1;return d>0&&Bu(e,t,0,n)&&(p=!0),d>1&&Bu(e,t,1,r)&&(p=!0),d>2&&Bu(e,t,2,i)&&(p=!0),d>3&&Bu(e,t,3,s)&&(p=!0),d>4&&Bu(e,t,4,o)&&(p=!0),d>5&&Bu(e,t,5,a)&&(p=!0),d>6&&Bu(e,t,6,l)&&(p=!0),d>7&&Bu(e,t,7,c)&&(p=!0),d>8&&Bu(e,t,8,h)&&(p=!0),d>9&&Bu(e,t,9,u)&&(p=!0),p}(e,t,n,r,i,s,o,a,l,c,h,u);case 2:return function(e,t,n,r,i,s,o,a,l,c,h,u){let d=!1;const p=t.bindings,m=p.length;if(m>0&&_l(e,t,0,n)&&(d=!0),m>1&&_l(e,t,1,r)&&(d=!0),m>2&&_l(e,t,2,i)&&(d=!0),m>3&&_l(e,t,3,s)&&(d=!0),m>4&&_l(e,t,4,o)&&(d=!0),m>5&&_l(e,t,5,a)&&(d=!0),m>6&&_l(e,t,6,l)&&(d=!0),m>7&&_l(e,t,7,c)&&(d=!0),m>8&&_l(e,t,8,h)&&(d=!0),m>9&&_l(e,t,9,u)&&(d=!0),d){let d=t.text.prefix;m>0&&(d+=ed(n,p[0])),m>1&&(d+=ed(r,p[1])),m>2&&(d+=ed(i,p[2])),m>3&&(d+=ed(s,p[3])),m>4&&(d+=ed(o,p[4])),m>5&&(d+=ed(a,p[5])),m>6&&(d+=ed(l,p[6])),m>7&&(d+=ed(c,p[7])),m>8&&(d+=ed(h,p[8])),m>9&&(d+=ed(u,p[9]));const f=ol(e,t.nodeIndex).renderText;e.renderer.setValue(f,d)}return d}(e,t,n,r,i,s,o,a,l,c,h,u);case 16384:return function(e,t,n,r,i,s,o,a,l,c,h,u){const d=ll(e,t.nodeIndex),p=d.instance;let m=!1,f=void 0;const g=t.bindings.length;return g>0&&vl(e,t,0,n)&&(m=!0,f=qc(e,d,t,0,n,f)),g>1&&vl(e,t,1,r)&&(m=!0,f=qc(e,d,t,1,r,f)),g>2&&vl(e,t,2,i)&&(m=!0,f=qc(e,d,t,2,i,f)),g>3&&vl(e,t,3,s)&&(m=!0,f=qc(e,d,t,3,s,f)),g>4&&vl(e,t,4,o)&&(m=!0,f=qc(e,d,t,4,o,f)),g>5&&vl(e,t,5,a)&&(m=!0,f=qc(e,d,t,5,a,f)),g>6&&vl(e,t,6,l)&&(m=!0,f=qc(e,d,t,6,l,f)),g>7&&vl(e,t,7,c)&&(m=!0,f=qc(e,d,t,7,c,f)),g>8&&vl(e,t,8,h)&&(m=!0,f=qc(e,d,t,8,h,f)),g>9&&vl(e,t,9,u)&&(m=!0,f=qc(e,d,t,9,u,f)),f&&p.ngOnChanges(f),65536&t.flags&&sl(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),m}(e,t,n,r,i,s,o,a,l,c,h,u);case 32:case 64:case 128:return function(e,t,n,r,i,s,o,a,l,c,h,u){const d=t.bindings;let p=!1;const m=d.length;if(m>0&&_l(e,t,0,n)&&(p=!0),m>1&&_l(e,t,1,r)&&(p=!0),m>2&&_l(e,t,2,i)&&(p=!0),m>3&&_l(e,t,3,s)&&(p=!0),m>4&&_l(e,t,4,o)&&(p=!0),m>5&&_l(e,t,5,a)&&(p=!0),m>6&&_l(e,t,6,l)&&(p=!0),m>7&&_l(e,t,7,c)&&(p=!0),m>8&&_l(e,t,8,h)&&(p=!0),m>9&&_l(e,t,9,u)&&(p=!0),p){const p=cl(e,t.nodeIndex);let f;switch(201347067&t.flags){case 32:f=new Array(d.length),m>0&&(f[0]=n),m>1&&(f[1]=r),m>2&&(f[2]=i),m>3&&(f[3]=s),m>4&&(f[4]=o),m>5&&(f[5]=a),m>6&&(f[6]=l),m>7&&(f[7]=c),m>8&&(f[8]=h),m>9&&(f[9]=u);break;case 64:f={},m>0&&(f[d[0].name]=n),m>1&&(f[d[1].name]=r),m>2&&(f[d[2].name]=i),m>3&&(f[d[3].name]=s),m>4&&(f[d[4].name]=o),m>5&&(f[d[5].name]=a),m>6&&(f[d[6].name]=l),m>7&&(f[d[7].name]=c),m>8&&(f[d[8].name]=h),m>9&&(f[d[9].name]=u);break;case 128:const e=n;switch(m){case 1:f=e.transform(n);break;case 2:f=e.transform(r);break;case 3:f=e.transform(r,i);break;case 4:f=e.transform(r,i,s);break;case 5:f=e.transform(r,i,s,o);break;case 6:f=e.transform(r,i,s,o,a);break;case 7:f=e.transform(r,i,s,o,a,l);break;case 8:f=e.transform(r,i,s,o,a,l,c);break;case 9:f=e.transform(r,i,s,o,a,l,c,h);break;case 10:f=e.transform(r,i,s,o,a,l,c,h,u)}}p.value=f}return p}(e,t,n,r,i,s,o,a,l,c,h,u);default:throw"unreachable"}}(e,t,r,i,s,o,a,l,c,h,u,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Bu(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)_l(e,t,s,n[s])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=ed(n[e],r[e]);i=t.text.prefix+i;const s=ol(e,t.nodeIndex).renderText;e.renderer.setValue(s,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=ll(e,t.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)vl(e,t,a,n[a])&&(s=!0,o=qc(e,r,t,a,n[a],o));return o&&i.ngOnChanges(o),65536&t.flags&&sl(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)_l(e,t,s,n[s])&&(i=!0);if(i){const i=cl(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);s=e.transform(...t)}i.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function pd(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=al(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Cl(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function md(e,t,n,r,i,s,o,a,l,c,h,u,d){return 0===n?function(e,t,n,r,i,s,o,a,l,c,h,u){const d=t.bindings.length;d>0&&bl(e,t,0,n);d>1&&bl(e,t,1,r);d>2&&bl(e,t,2,i);d>3&&bl(e,t,3,s);d>4&&bl(e,t,4,o);d>5&&bl(e,t,5,a);d>6&&bl(e,t,6,l);d>7&&bl(e,t,7,c);d>8&&bl(e,t,8,h);d>9&&bl(e,t,9,u)}(e,t,r,i,s,o,a,l,c,h,u,d):function(e,t,n){for(let r=0;r<n.length;r++)bl(e,t,r,n[r])}(e,t,r),!1}function fd(e,t){if(hl(e,t.nodeIndex).dirty)throw tl(ul.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function gd(e){if(!(128&e.state)){if(_d(e,yd.Destroy),vd(e,yd.Destroy),Wc(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Sl(e);if(t){const n=t.template._projectedViews;n&&(at(n,n.indexOf(e)),ul.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(al(e,n).renderElement):2&t.flags?e.renderer.destroyNode(ol(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&hl(e,n).destroy()}}(e),Ol(e)&&e.renderer.destroy(),e.state|=128}}Ru.decorators=[{type:Ch,args:[{providers:Nu}]}],Ru.ctorParameters=()=>[{type:_u}];const yd={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function vd(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?bd(al(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function _d(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=al(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)bd(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function bd(e,t){const n=e.state;switch(t){case yd.CheckNoChanges:0==(128&n)&&(12==(12&n)?hd(e):64&n&&wd(e,yd.CheckNoChangesProjectedViews));break;case yd.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?hd(e):64&n&&wd(e,t));break;case yd.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ud(e):64&n&&wd(e,yd.CheckAndUpdateProjectedViews));break;case yd.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ud(e):64&n&&wd(e,t));break;case yd.Destroy:gd(e);break;case yd.CreateViewNodes:cd(e)}}function wd(e,t){_d(e,t),vd(e,t)}function Cd(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let s=0;s<i;s++){const i=e.def.nodes[s];if(i.flags&t&&i.flags&n)switch(ul.setCurrentNode(e,i.nodeIndex),r){case 0:zu(e,i);break;case 1:fd(e,i)}i.childFlags&t&&i.childFlags&n||(s+=i.childCount)}}yd[yd.CreateViewNodes]="CreateViewNodes",yd[yd.CheckNoChanges]="CheckNoChanges",yd[yd.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",yd[yd.CheckAndUpdate]="CheckAndUpdate",yd[yd.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",yd[yd.Destroy]="Destroy";let Ed=!1;function Sd(){if(Ed)return;Ed=!0;const e=Hr()?{setCurrentNode:Gd,createRootView:kd,createEmbeddedView:Od,createComponentView:Ad,createNgModuleRef:Id,overrideProvider:Rd,overrideComponentView:Md,clearOverrides:Fd,checkAndUpdateView:Bd,checkNoChangesView:Vd,destroyView:Ud,createDebugContext:(e,t)=>new tp(e,t),handleEvent:Qd,updateDirectives:Kd,updateRenderer:Yd}:{setCurrentNode:()=>{},createRootView:xd,createEmbeddedView:id,createComponentView:od,createNgModuleRef:Cc,overrideProvider:dl,overrideComponentView:dl,clearOverrides:dl,checkAndUpdateView:ud,checkNoChangesView:hd,destroyView:gd,createDebugContext:(e,t)=>new tp(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?jd:$d,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?jd:$d,e)};ul.setCurrentNode=e.setCurrentNode,ul.createRootView=e.createRootView,ul.createEmbeddedView=e.createEmbeddedView,ul.createComponentView=e.createComponentView,ul.createNgModuleRef=e.createNgModuleRef,ul.overrideProvider=e.overrideProvider,ul.overrideComponentView=e.overrideComponentView,ul.clearOverrides=e.clearOverrides,ul.checkAndUpdateView=e.checkAndUpdateView,ul.checkNoChangesView=e.checkNoChangesView,ul.destroyView=e.destroyView,ul.resolveDep=zc,ul.createDebugContext=e.createDebugContext,ul.handleEvent=e.handleEvent,ul.updateDirectives=e.updateDirectives,ul.updateRenderer=e.updateRenderer,ul.dirtyParentQueries=Uu}function xd(e,t,n,r,i,s){const o=i.injector.get(Aa);return sd(Td(e,i,o,t,n),r,s)}function kd(e,t,n,r,i,s){const o=i.injector.get(Aa),a=Td(e,i,new sp(o),t,n),l=Ld(r);return rp(zd.create,sd,null,[a,l,s])}function Td(e,t,n,r,i){const s=t.injector.get(_i),o=t.injector.get(Vr),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function Od(e,t,n,r){const i=Ld(n);return rp(zd.create,id,null,[e,t,i,r])}function Ad(e,t,n,r){const i=Nd.get(t.element.componentProvider.provider.token);return n=i||Ld(n),rp(zd.create,od,null,[e,t,n,r])}function Id(e,t,n,r){return Cc(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;if(0===Dd.size)return{hasOverrides:t,hasDeprecatedOverrides:n};return e.providers.forEach(e=>{const r=Dd.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Pd.forEach((r,i)=>{Oe(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);if(!t)return e;return function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Dd.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Pl(i.deps),r.value=i.value)}if(Pd.size>0){let t=new Set(e.modules);Pd.forEach((r,i)=>{if(t.has(Oe(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:Pl(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[ml(i)]=t}})}}(e=e.factory(()=>dl)),e}(r))}const Dd=new Map,Pd=new Map,Nd=new Map;function Rd(e){let t;Dd.set(e.token,e),"function"==typeof e.token&&(t=Oe(e.token))&&"function"==typeof t.providedIn&&Pd.set(e.token,e)}function Md(e,t){const n=Ml(t.viewDefFactory);const r=Ml(n.nodes[0].element.componentView);Nd.set(e,r)}function Fd(){Dd.clear(),Pd.clear(),Nd.clear()}function Ld(e){if(0===Dd.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Dd.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>dl);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Dd.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Pl(n.deps),e.value=n.value)}}}}function jd(e,t,n,r,i,s,o,a,l,c,h,u,d){const p=e.def.nodes[t];return dd(e,p,n,r,i,s,o,a,l,c,h,u,d),224&p.flags?cl(e,t).value:void 0}function $d(e,t,n,r,i,s,o,a,l,c,h,u,d){const p=e.def.nodes[t];return md(e,p,n,r,i,s,o,a,l,c,h,u,d),224&p.flags?cl(e,t).value:void 0}function Bd(e){return rp(zd.detectChanges,ud,null,[e])}function Vd(e){return rp(zd.checkNoChanges,hd,null,[e])}function Ud(e){return rp(zd.destroy,gd,null,[e])}const zd={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let Hd,qd,Wd;function Gd(e,t){qd=e,Wd=t}function Qd(e,t,n,r){return Gd(e,t),rp(zd.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Kd(e,t){if(128&e.state)throw rl(zd[Hd]);return Gd(e,Jd(e,0)),e.def.updateDirectives((function(e,n,r,...i){const s=e.def.nodes[n];0===t?Xd(e,s,r,i):Zd(e,s,r,i);16384&s.flags&&Gd(e,Jd(e,n));return 224&s.flags?cl(e,s.nodeIndex).value:void 0}),e)}function Yd(e,t){if(128&e.state)throw rl(zd[Hd]);return Gd(e,ep(e,0)),e.def.updateRenderer((function(e,n,r,...i){const s=e.def.nodes[n];0===t?Xd(e,s,r,i):Zd(e,s,r,i);3&s.flags&&Gd(e,ep(e,n));return 224&s.flags?cl(e,s.nodeIndex).value:void 0}),e)}function Xd(e,t,n,r){if(dd(e,t,n,...r)){const i=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],s=i[e];8&r.flags&&(n[Ei(r.nonMinifiedName)]=xi(s))}const r=t.parent,s=al(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(s,t,r):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function Zd(e,t,n,r){md(e,t,n,...r)}function Jd(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function ep(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}zd[zd.create]="create",zd[zd.detectChanges]="detectChanges",zd[zd.checkNoChanges]="checkNoChanges",zd[zd.destroy]="destroy",zd[zd.handleEvent]="handleEvent";class tp{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=xl(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return al(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return yc(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){np(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&np(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Ol(e);)e=e.parent;if(e.parent)return al(e.parent,xl(e).nodeIndex);return null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?kl(this.view,this.nodeDef):kl(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++){3&e.nodes[r].flags&&n++}return n}(n,r);let s=-1;n.factory(()=>(s++,s===i?e.error.bind(e,...t):dl)),s<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function np(e,t,n){for(let r in t.references)n[r]=qu(e,t,t.references[r])}function rp(e,t,n,r){const i=Hd,s=qd,o=Wd;try{Hd=e;const a=t.apply(n,r);return qd=s,Wd=o,Hd=i,a}catch(a){if(jr(a)||!qd)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),nl(e,t),e}(a,ip())}}function ip(){return qd?new tp(qd,Wd):null}class sp{constructor(e){this.delegate=e}createRenderer(e,t){return new op(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class op{constructor(e){this.delegate=e,this.debugContextFactory=ip,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Iu(e);!function(e){Au.delete(e.nativeNode)}(t),t instanceof Tu&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new Ou(n,null,r);t.name=e,Du(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Du(new Tu(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Du(new Tu(t,null,n)),t}appendChild(e,t){const n=Iu(e),r=Iu(t);n&&r&&n instanceof Ou&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Iu(e),i=Iu(t),s=Iu(n);r&&i&&r instanceof Ou&&r.insertBefore(s,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Iu(e),r=Iu(t);n&&r&&n instanceof Ou&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=ip();return r&&Du(new Ou(n,null,r)),n}setAttribute(e,t,n,r){const i=Iu(e);if(i&&i instanceof Ou){const e=r?r+":"+t:t;i.attributes[e]=n}this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Iu(e);if(r&&r instanceof Ou){const e=n?n+":"+t:t;r.attributes[e]=null}this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Iu(e);n&&n instanceof Ou&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Iu(e);n&&n instanceof Ou&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Iu(e);i&&i instanceof Ou&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Iu(e);r&&r instanceof Ou&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Iu(e);r&&r instanceof Ou&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Iu(e);r&&r.listeners.push(new ku(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function ap(e,t,n){return new lp(e,t,n)}class lp extends it{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){Sd();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Ml(this._ngModuleDefFactory));return ul.createNgModuleRef(this.moduleType,e||ho.NULL,this._bootstrapComponents,t)}}var cp;function hp(e){if(":"!=e[0])return[null,e];const t=e.indexOf(":",1);if(-1==t)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function up(e){return"ng-container"===hp(e)[1]}function dp(e){return"ng-content"===hp(e)[1]}function pp(e){return"ng-template"===hp(e)[1]}function mp(e){return null===e?null:hp(e)[0]}function fp(e,t){return e?`:${e}:${t}`:t}(function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"})(cp||(cp={}));const gp={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"};gp.ngsp="\ue500";class yp{constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:n=cp.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:s=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,e&&e.length>0&&e.forEach(e=>this.closedByChildren[e]=!0),this.isVoid=i,this.closedByParent=r||i,this.implicitNamespacePrefix=t||null,this.contentType=n,this.ignoreFirstLf=s}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}}let vp,_p;function bp(e){return _p||(vp=new yp,_p={base:new yp({isVoid:!0}),meta:new yp({isVoid:!0}),area:new yp({isVoid:!0}),embed:new yp({isVoid:!0}),link:new yp({isVoid:!0}),img:new yp({isVoid:!0}),input:new yp({isVoid:!0}),param:new yp({isVoid:!0}),hr:new yp({isVoid:!0}),br:new yp({isVoid:!0}),source:new yp({isVoid:!0}),track:new yp({isVoid:!0}),wbr:new yp({isVoid:!0}),p:new yp({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new yp({closedByChildren:["tbody","tfoot"]}),tbody:new yp({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new yp({closedByChildren:["tbody"],closedByParent:!0}),tr:new yp({closedByChildren:["tr"],closedByParent:!0}),td:new yp({closedByChildren:["td","th"],closedByParent:!0}),th:new yp({closedByChildren:["td","th"],closedByParent:!0}),col:new yp({isVoid:!0}),svg:new yp({implicitNamespacePrefix:"svg"}),math:new yp({implicitNamespacePrefix:"math"}),li:new yp({closedByChildren:["li"],closedByParent:!0}),dt:new yp({closedByChildren:["dt","dd"]}),dd:new yp({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new yp({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new yp({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new yp({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new yp({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new yp({closedByChildren:["optgroup"],closedByParent:!0}),option:new yp({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new yp({ignoreFirstLf:!0}),listing:new yp({ignoreFirstLf:!0}),style:new yp({contentType:cp.RAW_TEXT}),script:new yp({contentType:cp.RAW_TEXT}),title:new yp({contentType:cp.ESCAPABLE_RAW_TEXT}),textarea:new yp({contentType:cp.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),_p[e.toLowerCase()]||vp}const wp=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class Cp{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const t=[],n=(e,t)=>{t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)};let r,i=new Cp,s=i,o=!1;for(wp.lastIndex=0;r=wp.exec(e);){if(r[1]){if(o)throw new Error("Nesting :not is not allowed in a selector");o=!0,s=new Cp,i.notSelectors.push(s)}if(r[2]&&s.setElement(r[2]),r[3]&&s.addClassName(r[3]),r[4]&&s.addAttribute(r[4],r[6]),r[7]&&(o=!1,s=i),r[8]){if(o)throw new Error("Multiple selectors in :not are not supported");n(t,i),i=s=new Cp}}return n(t,i),t}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",t=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let r=0;r<this.attrs.length;r+=2){n+=` ${this.attrs[r]}${""!==this.attrs[r+1]?`="${this.attrs[r+1]}"`:""}`}return bp(e).isVoid?`<${e}${t}${n}/>`:`<${e}${t}${n}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){const n=this.attrs[t],r=this.attrs[t+1];e+=`[${n}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}}class Ep{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){const t=new Ep;return t.addSelectables(e,null),t}addSelectables(e,t){let n=null;e.length>1&&(n=new Sp(e),this._listContexts.push(n));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,n)}_addSelectable(e,t,n){let r=this;const i=e.element,s=e.classNames,o=e.attrs,a=new xp(e,t,n);if(i){0===o.length&&0===s.length?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(s)for(let l=0;l<s.length;l++){const e=0===o.length&&l===s.length-1,t=s[l];e?this._addTerminal(r._classMap,t,a):r=this._addPartial(r._classPartialMap,t)}if(o)for(let l=0;l<o.length;l+=2){const e=l===o.length-2,t=o[l],n=o[l+1];if(e){const e=r._attrValueMap;let i=e.get(t);i||(i=new Map,e.set(t,i)),this._addTerminal(i,n,a)}else{const e=r._attrValuePartialMap;let i=e.get(t);i||(i=new Map,e.set(t,i)),r=this._addPartial(i,n)}}}_addTerminal(e,t,n){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}_addPartial(e,t){let n=e.get(t);return n||(n=new Ep,e.set(t,n)),n}match(e,t){let n=!1;const r=e.element,i=e.classNames,s=e.attrs;for(let o=0;o<this._listContexts.length;o++)this._listContexts[o].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(let o=0;o<i.length;o++){const r=i[o];n=this._matchTerminal(this._classMap,r,e,t)||n,n=this._matchPartial(this._classPartialMap,r,e,t)||n}if(s)for(let o=0;o<s.length;o+=2){const r=s[o],i=s[o+1],a=this._attrValueMap.get(r);i&&(n=this._matchTerminal(a,"",e,t)||n),n=this._matchTerminal(a,i,e,t)||n;const l=this._attrValuePartialMap.get(r);i&&(n=this._matchPartial(l,"",e,t)||n),n=this._matchPartial(l,i,e,t)||n}return n}_matchTerminal(e,t,n,r){if(!e||"string"!=typeof t)return!1;let i=e.get(t)||[];const s=e.get("*");if(s&&(i=i.concat(s)),0===i.length)return!1;let o,a=!1;for(let l=0;l<i.length;l++)o=i[l],a=o.finalize(n,r)||a;return a}_matchPartial(e,t,n,r){if(!e||"string"!=typeof t)return!1;const i=e.get(t);return!!i&&i.match(n,r)}}class Sp{constructor(e){this.selectors=e,this.alreadyMatched=!1}}class xp{constructor(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}finalize(e,t){let n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!Ep.createNotMatcher(this.notSelectors).match(e,null)}return!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}const kp=Jp("Inject",e=>({token:e})),Tp=Jp("InjectionToken",e=>({_desc:e,ngInjectableDef:void 0})),Op=Jp("Attribute",e=>({attributeName:e})),Ap=Jp("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)),Ip=Jp("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),Dp=Jp("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)),Pp=Jp("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),Np=Jp("Directive",(e={})=>e);var Rp,Mp;!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Rp||(Rp={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Mp||(Mp={}));const Fp=Jp("Component",(e={})=>Object.assign({changeDetection:Mp.Default},e)),Lp=Jp("Pipe",e=>Object.assign({pure:!0},e)),jp=Jp("Input",e=>({bindingPropertyName:e})),$p=Jp("Output",e=>({bindingPropertyName:e})),Bp=Jp("HostBinding",e=>({hostPropertyName:e})),Vp=Jp("HostListener",(e,t)=>({eventName:e,args:t})),Up=Jp("NgModule",e=>e),zp=Jp("Injectable",(e={})=>e),Hp={name:"custom-elements"},qp={name:"no-errors-schema"},Wp=Jp("Optional"),Gp=Jp("Self"),Qp=Jp("SkipSelf"),Kp=Jp("Host"),Yp=Function;var Xp,Zp;function Jp(e,t){function n(...n){const r=t?t(...n):{};return Object.assign({ngMetadataName:e},r)}return n.isTypeOf=t=>t&&t.ngMetadataName===e,n.ngMetadataName=e,n}function em(e){const t=function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return[e.element&&"*"!==e.element?e.element:"",...e.attrs,...t]}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(e=>function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return e.element?[5,e.element,...e.attrs,...t]:e.attrs.length?[3,...e.attrs,...t]:e.classNames&&e.classNames.length?[9,...e.classNames]:[]}(e)):[];return t.concat(...n)}function tm(e){return e?Cp.parse(e).map(em):[]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(Xp||(Xp={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Zp||(Zp={}));var nm,rm;!function(e){e[e.Const=0]="Const"}(nm||(nm={}));class im{constructor(e=null){this.modifiers=e,e||(this.modifiers=[])}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(rm||(rm={}));class sm extends im{constructor(e,t=null){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}}class om extends im{constructor(e,t=null,n=null){super(t),this.value=e,this.typeParams=n}visitType(e,t){return e.visitExpressionType(this,t)}}class am extends im{constructor(e,t=null){super(t),this.of=e}visitType(e,t){return e.visitArrayType(this,t)}}class lm extends im{constructor(e,t=null){super(t),this.valueType=e||null}visitType(e,t){return e.visitMapType(this,t)}}const cm=new sm(rm.Dynamic),hm=new sm(rm.Inferred),um=new sm(rm.Bool),dm=(new sm(rm.Int),new sm(rm.Number)),pm=(new sm(rm.String),new sm(rm.Function),new sm(rm.None));var mm,fm,gm;function ym(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function vm(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(!e[r].isEquivalent(t[r]))return!1;return!0}!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals"}(mm||(mm={}));class _m{constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new jm(this,e,null,t)}key(e,t,n){return new $m(this,e,t,n)}callMethod(e,t,n){return new km(this,e,t,null,n)}callFn(e,t){return new Tm(this,e,null,t)}instantiate(e,t,n){return new Om(this,e,t,n)}conditional(e,t=null,n){return new Dm(this,e,t,null,n)}equals(e,t){return new Lm(mm.Equals,this,e,null,t)}notEquals(e,t){return new Lm(mm.NotEquals,this,e,null,t)}identical(e,t){return new Lm(mm.Identical,this,e,null,t)}notIdentical(e,t){return new Lm(mm.NotIdentical,this,e,null,t)}minus(e,t){return new Lm(mm.Minus,this,e,null,t)}plus(e,t){return new Lm(mm.Plus,this,e,null,t)}divide(e,t){return new Lm(mm.Divide,this,e,null,t)}multiply(e,t){return new Lm(mm.Multiply,this,e,null,t)}modulo(e,t){return new Lm(mm.Modulo,this,e,null,t)}and(e,t){return new Lm(mm.And,this,e,null,t)}bitwiseAnd(e,t,n=!0){return new Lm(mm.BitwiseAnd,this,e,null,t,n)}or(e,t){return new Lm(mm.Or,this,e,null,t)}lower(e,t){return new Lm(mm.Lower,this,e,null,t)}lowerEquals(e,t){return new Lm(mm.LowerEquals,this,e,null,t)}bigger(e,t){return new Lm(mm.Bigger,this,e,null,t)}biggerEquals(e,t){return new Lm(mm.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(qm,e)}cast(e,t){return new Rm(this,e,t)}toStmt(){return new Ym(this,null)}}!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(fm||(fm={}));class bm extends _m{constructor(e,t,n){super(t,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(e){return e instanceof bm&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}set(e){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new Em(this.name,e,null,this.sourceSpan)}}class wm extends _m{constructor(e,t,n){super(t,n),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof wm&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class Cm extends _m{constructor(e,t,n){super(t,n),this.node=e}isEquivalent(e){return e instanceof Cm&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}}class Em extends _m{constructor(e,t,n,r){super(n||t.type,r),this.name=e,this.value=t}isEquivalent(e){return e instanceof Em&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}toDeclStmt(e,t){return new Qm(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(hm,[Wm.Final])}}class Sm extends _m{constructor(e,t,n,r,i){super(r||n.type,i),this.receiver=e,this.index=t,this.value=n}isEquivalent(e){return e instanceof Sm&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}}class xm extends _m{constructor(e,t,n,r,i){super(r||n.type,i),this.receiver=e,this.name=t,this.value=n}isEquivalent(e){return e instanceof xm&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}}!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(gm||(gm={}));class km extends _m{constructor(e,t,n,r,i){super(r,i),this.receiver=e,this.args=n,"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}isEquivalent(e){return e instanceof km&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&vm(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeMethodExpr(this,t)}}class Tm extends _m{constructor(e,t,n,r,i=!1){super(n,r),this.fn=e,this.args=t,this.pure=i}isEquivalent(e){return e instanceof Tm&&this.fn.isEquivalent(e.fn)&&vm(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}}class Om extends _m{constructor(e,t,n,r){super(n,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof Om&&this.classExpr.isEquivalent(e.classExpr)&&vm(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}}class Am extends _m{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof Am&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}}class Im extends _m{constructor(e,t,n=null,r){super(t,r),this.value=e,this.typeParams=n}isEquivalent(e){return e instanceof Im&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}}class Dm extends _m{constructor(e,t,n=null,r,i){super(r||t.type,i),this.condition=e,this.falseCase=n,this.trueCase=t}isEquivalent(e){return e instanceof Dm&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&ym(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}}class Pm extends _m{constructor(e,t){super(um,t),this.condition=e}isEquivalent(e){return e instanceof Pm&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}}class Nm extends _m{constructor(e,t){super(e.type,t),this.condition=e}isEquivalent(e){return e instanceof Nm&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitAssertNotNullExpr(this,t)}}class Rm extends _m{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof Rm&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitCastExpr(this,t)}}class Mm{constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}}class Fm extends _m{constructor(e,t,n,r,i){super(n,r),this.params=e,this.statements=t,this.name=i}isEquivalent(e){return e instanceof Fm&&vm(this.params,e.params)&&vm(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t=null){return new Km(e,this.params,this.statements,this.type,t,this.sourceSpan)}}class Lm extends _m{constructor(e,t,n,r,i,s=!0){super(r||t.type,i),this.operator=e,this.rhs=n,this.parens=s,this.lhs=t}isEquivalent(e){return e instanceof Lm&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}}class jm extends _m{constructor(e,t,n,r){super(n,r),this.receiver=e,this.name=t}isEquivalent(e){return e instanceof jm&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new xm(this.receiver,this.name,e,null,this.sourceSpan)}}class $m extends _m{constructor(e,t,n,r){super(n,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof $m&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new Sm(this.receiver,this.index,e,null,this.sourceSpan)}}class Bm extends _m{constructor(e,t,n){super(t,n),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof Bm&&vm(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}}class Vm{constructor(e,t,n){this.key=e,this.value=t,this.quoted=n}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class Um extends _m{constructor(e,t,n){super(t,n),this.entries=e,this.valueType=null,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof Um&&vm(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}}class zm extends _m{constructor(e,t){super(e[e.length-1].type,t),this.parts=e}isEquivalent(e){return e instanceof zm&&vm(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,t){return e.visitCommaExpr(this,t)}}new bm(fm.This,null,null),new bm(fm.Super,null,null),new bm(fm.CatchError,null,null),new bm(fm.CatchStack,null,null);const Hm=new Am(null,null,null),qm=new Am(null,hm,null);var Wm;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(Wm||(Wm={}));class Gm{constructor(e,t){this.modifiers=e||[],this.sourceSpan=t||null}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class Qm extends Gm{constructor(e,t,n,r=null,i){super(r,i),this.name=e,this.value=t,this.type=n||t&&t.type||null}isEquivalent(e){return e instanceof Qm&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}}class Km extends Gm{constructor(e,t,n,r,i=null,s){super(i,s),this.name=e,this.params=t,this.statements=n,this.type=r||null}isEquivalent(e){return e instanceof Km&&vm(this.params,e.params)&&vm(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}}class Ym extends Gm{constructor(e,t){super(null,t),this.expr=e}isEquivalent(e){return e instanceof Ym&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}}class Xm extends Gm{constructor(e,t){super(null,t),this.value=e}isEquivalent(e){return e instanceof Xm&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}}class Zm{constructor(e,t){this.modifiers=t,t||(this.modifiers=[]),this.type=e||null}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class Jm extends Zm{constructor(e,t,n,r,i=null){super(r,i),this.name=e,this.params=t,this.body=n}isEquivalent(e){return this.name===e.name&&vm(this.body,e.body)}}class ef extends Zm{constructor(e,t,n,r=null){super(n,r),this.name=e,this.body=t}isEquivalent(e){return this.name===e.name&&vm(this.body,e.body)}}class tf extends Gm{constructor(e,t,n,r,i,s,o=null,a){super(o,a),this.name=e,this.parent=t,this.fields=n,this.getters=r,this.constructorMethod=i,this.methods=s}isEquivalent(e){return e instanceof tf&&this.name===e.name&&ym(this.parent,e.parent)&&vm(this.fields,e.fields)&&vm(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&vm(this.methods,e.methods)}visitStatement(e,t){return e.visitDeclareClassStmt(this,t)}}class nf extends Gm{constructor(e,t,n=[],r){super(null,r),this.condition=e,this.trueCase=t,this.falseCase=n}isEquivalent(e){return e instanceof nf&&this.condition.isEquivalent(e.condition)&&vm(this.trueCase,e.trueCase)&&vm(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}}class rf extends Gm{constructor(e=[],t){super(null,t),this.tags=e}isEquivalent(e){return e instanceof rf&&this.toString()===e.toString()}visitStatement(e,t){return e.visitJSDocCommentStmt(this,t)}toString(){return function(e){if(0===e.length)return"";let t="*\n";for(const n of e)t+=" *",t+=Cf(n).replace(/\n/g,"\n * "),t+="\n";return t+=" ",t}(this.tags)}}class sf extends Gm{constructor(e,t,n){super(null,n),this.bodyStmts=e,this.catchStmts=t}isEquivalent(e){return e instanceof sf&&vm(this.bodyStmts,e.bodyStmts)&&vm(this.catchStmts,e.catchStmts)}visitStatement(e,t){return e.visitTryCatchStmt(this,t)}}class of extends Gm{constructor(e,t){super(null,t),this.error=e}isEquivalent(e){return e instanceof sf&&this.error.isEquivalent(e.error)}visitStatement(e,t){return e.visitThrowStmt(this,t)}}class af{visitType(e,t){return e}visitExpression(e,t){return e.type&&e.type.visitType(this,t),e}visitBuiltinType(e,t){return this.visitType(e,t)}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(e=>this.visitType(e,t)),this.visitType(e,t)}visitArrayType(e,t){return this.visitType(e,t)}visitMapType(e,t){return this.visitType(e,t)}visitWrappedNodeExpr(e,t){return e}visitTypeofExpr(e,t){return this.visitExpression(e,t)}visitReadVarExpr(e,t){return this.visitExpression(e,t)}visitWriteVarExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWriteKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWritePropExpr(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitInvokeMethodExpr(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInstantiateExpr(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitLiteralExpr(e,t){return this.visitExpression(e,t)}visitExternalExpr(e,t){return e.typeParams&&e.typeParams.forEach(e=>e.visitType(this,t)),this.visitExpression(e,t)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}visitNotExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitFunctionExpr(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}visitBinaryOperatorExpr(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}visitLiteralMapExpr(e,t){return e.entries.forEach(e=>e.value.visitExpression(this,t)),this.visitExpression(e,t)}visitCommaExpr(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}visitAllExpressions(e,t){e.forEach(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}visitDeclareFunctionStmt(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),e}visitReturnStmt(e,t){return e.value.visitExpression(this,t),e}visitDeclareClassStmt(e,t){return e.parent.visitExpression(this,t),e.getters.forEach(e=>this.visitAllStatements(e.body,t)),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(e=>this.visitAllStatements(e.body,t)),e}visitIfStmt(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}visitTryCatchStmt(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}visitThrowStmt(e,t){return e.error.visitExpression(this,t),e}visitCommentStmt(e,t){return e}visitJSDocCommentStmt(e,t){return e}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function lf(e){const t=new cf;return t.visitAllStatements(e,null),t.varNames}class cf extends af{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(e,t){return e}visitDeclareClassStmt(e,t){return e}visitReadVarExpr(e,t){return e.name&&this.varNames.add(e.name),null}}function hf(e,t){if(!t)return e;const n=new df(t);return e.visitStatement(n,null)}function uf(e,t){if(!t)return e;const n=new df(t);return e.visitExpression(n,null)}class df extends class{transformExpr(e,t){return e}transformStmt(e,t){return e}visitReadVarExpr(e,t){return this.transformExpr(e,t)}visitWrappedNodeExpr(e,t){return this.transformExpr(e,t)}visitTypeofExpr(e,t){return this.transformExpr(new wm(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteVarExpr(e,t){return this.transformExpr(new Em(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteKeyExpr(e,t){return this.transformExpr(new Sm(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWritePropExpr(e,t){return this.transformExpr(new xm(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitInvokeMethodExpr(e,t){const n=e.builtin||e.name;return this.transformExpr(new km(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInvokeFunctionExpr(e,t){return this.transformExpr(new Tm(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInstantiateExpr(e,t){return this.transformExpr(new Om(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitLiteralExpr(e,t){return this.transformExpr(e,t)}visitExternalExpr(e,t){return this.transformExpr(e,t)}visitConditionalExpr(e,t){return this.transformExpr(new Dm(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}visitNotExpr(e,t){return this.transformExpr(new Pm(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitAssertNotNullExpr(e,t){return this.transformExpr(new Nm(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitCastExpr(e,t){return this.transformExpr(new Rm(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitFunctionExpr(e,t){return this.transformExpr(new Fm(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}visitBinaryOperatorExpr(e,t){return this.transformExpr(new Lm(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}visitReadPropExpr(e,t){return this.transformExpr(new jm(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}visitReadKeyExpr(e,t){return this.transformExpr(new $m(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}visitLiteralArrayExpr(e,t){return this.transformExpr(new Bm(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}visitLiteralMapExpr(e,t){const n=e.entries.map(e=>new Vm(e.key,e.value.visitExpression(this,t),e.quoted)),r=new lm(e.valueType,null);return this.transformExpr(new Um(n,r,e.sourceSpan),t)}visitCommaExpr(e,t){return this.transformExpr(new zm(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){const n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new Qm(e.name,n,e.type,e.modifiers,e.sourceSpan),t)}visitDeclareFunctionStmt(e,t){return this.transformStmt(new Km(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)}visitExpressionStmt(e,t){return this.transformStmt(new Ym(e.expr.visitExpression(this,t),e.sourceSpan),t)}visitReturnStmt(e,t){return this.transformStmt(new Xm(e.value.visitExpression(this,t),e.sourceSpan),t)}visitDeclareClassStmt(e,t){const n=e.parent.visitExpression(this,t),r=e.getters.map(e=>new ef(e.name,this.visitAllStatements(e.body,t),e.type,e.modifiers)),i=e.constructorMethod&&new Jm(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map(e=>new Jm(e.name,e.params,this.visitAllStatements(e.body,t),e.type,e.modifiers));return this.transformStmt(new tf(e.name,n,e.fields,r,i,s,e.modifiers,e.sourceSpan),t)}visitIfStmt(e,t){return this.transformStmt(new nf(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)}visitTryCatchStmt(e,t){return this.transformStmt(new sf(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)}visitThrowStmt(e,t){return this.transformStmt(new of(e.error.visitExpression(this,t),e.sourceSpan),t)}visitCommentStmt(e,t){return this.transformStmt(e,t)}visitJSDocCommentStmt(e,t){return this.transformStmt(e,t)}visitAllStatements(e,t){return e.map(e=>e.visitStatement(this,t))}}{constructor(e){super(),this.sourceSpan=e}_clone(e){const t=Object.create(e.constructor.prototype);for(let n of Object.keys(e))t[n]=e[n];return t}transformExpr(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}transformStmt(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}function pf(e,t,n){return new bm(e,t,n)}function mf(e,t=null,n){return new Im(e,null,t,n)}function ff(e,t=null,n=null){return null!=e?gf(mf(e,t,null),n):null}function gf(e,t=null,n=null){return new om(e,t,n)}function yf(e,t,n){return new Bm(e,t,n)}function vf(e,t=null){return new Um(e.map(e=>new Vm(e.key,e.value,e.quoted)),t,null)}function _f(e,t,n,r,i){return new Fm(e,t,n,r,i)}function bf(e,t,n){return new nf(e,t,n)}function wf(e,t,n){return new Am(e,t,n)}function Cf(e){let t="";if(e.tagName&&(t+=` @${e.tagName}`),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}const Ef=/-+([a-z0-9])/g;function Sf(e,t){return xf(e,":",t)}function xf(e,t,n){const r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function kf(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===jf?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function Tf(e){return null!=e}function Of(e){return void 0===e?null:e}class Af{visitArray(e,t){return e.map(e=>kf(e,this,t))}visitStringMap(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=kf(e[r],this,t)}),n}visitPrimitive(e,t){return e}visitOther(e,t){return e}}const If=e=>{if(Uf(e))throw new Error("Illegal state: value cannot be a promise");return e},Df=(e,t)=>Uf(e)?e.then(t):t(e),Pf=e=>e.some(Uf)?Promise.all(e):e;function Nf(e){throw new Error(`Internal Error: ${e}`)}function Rf(e,t){const n=Error(e);return n[Mf]=!0,t&&(n[Ff]=t),n}const Mf="ngSyntaxError",Ff="ngParseErrors";function Lf(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}const jf=Object.getPrototypeOf({});function $f(e){let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(n++,r=(r-55296<<10)+t-56320+65536)}r<=127?t+=String.fromCharCode(r):r<=2047?t+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?t+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(t+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return t}function Bf(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Bf).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;if(!e.toString)return"object";const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Vf(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function Uf(e){return!!e&&"function"==typeof e.then}const zf="undefined"!=typeof window&&window,Hf="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qf="undefined"!=typeof global&&global||zf||Hf,Wf={};class Gf extends _m{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===Wf?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof Gf&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class Qf{constructor(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(e,t){if(e instanceof Am||e instanceof Gf)return e;const n=this.keyOf(e);let r=this.literals.get(n),i=!1;if(r||(r=new Gf(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){const t=this.freshName();this.statements.push(pf(t).set(e).toDeclStmt(hm,[Wm.Final])),r.fixup(pf(t))}return r}getDefinition(e,t,n,r=!1){const i=this.definitionsOf(t);let s=i.get(e),o=!1;if(!s){const r=this.propertyNameOf(t);s=new Gf(n.importExpr(e).prop(r)),i.set(e,s),o=!0}if(!o&&!s.shared||o&&r){const e=this.freshName();this.statements.push(pf(e).set(s.resolved).toDeclStmt(hm,[Wm.Final])),s.fixup(pf(e))}return s}getLiteralFactory(e){if(e instanceof Bm){const t=e.entries.map(e=>e.isConstant()?e:wf(null)),n=this.keyOf(yf(t));return this._getLiteralFactory(n,e.entries,e=>yf(e))}{const t=vf(e.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:wf(null),quoted:e.quoted}))),n=this.keyOf(t);return this._getLiteralFactory(n,e.entries.map(e=>e.value),t=>vf(t.map((t,n)=>({key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}))))}}_getLiteralFactory(e,t,n){let r=this.literalFactories.get(e);const i=t.filter(e=>!e.isConstant());if(!r){const i=t.map((e,t)=>e.isConstant()?this.getConstLiteral(e,!0):pf(`a${t}`)),s=_f(i.filter(Xf).map(e=>new Mm(e.name,cm)),[new Xm(n(i))],hm),o=this.freshName();this.statements.push(pf(o).set(s).toDeclStmt(hm,[Wm.Final])),r=pf(o),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(e){return`${e}${this.nextNameIndex++}`}definitionsOf(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return Nf(`Unknown definition kind ${e}`),this.componentDefinitions}propertyNameOf(e){switch(e){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return Nf(`Unknown definition kind ${e}`),"<unknown>"}freshName(){return this.uniqueName("_c")}keyOf(e){return e.visitExpression(new Kf,Wf)}}class Kf{constructor(){this.visitWrappedNodeExpr=Yf,this.visitWriteVarExpr=Yf,this.visitWriteKeyExpr=Yf,this.visitWritePropExpr=Yf,this.visitInvokeMethodExpr=Yf,this.visitInvokeFunctionExpr=Yf,this.visitInstantiateExpr=Yf,this.visitConditionalExpr=Yf,this.visitNotExpr=Yf,this.visitAssertNotNullExpr=Yf,this.visitCastExpr=Yf,this.visitFunctionExpr=Yf,this.visitBinaryOperatorExpr=Yf,this.visitReadPropExpr=Yf,this.visitReadKeyExpr=Yf,this.visitCommaExpr=Yf}visitLiteralExpr(e){return`${"string"==typeof e.value?'"'+e.value+'"':e.value}`}visitLiteralArrayExpr(e,t){return`[${e.entries.map(e=>e.visitExpression(this,t)).join(",")}]`}visitLiteralMapExpr(e,t){return`{${e.entries.map(e=>`${(e=>{const t=e.quoted?'"':"";return`${t}${e.key}${t}`})(e)}:${e.value.visitExpression(this,t)}`).join(",")}`}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:`EX:${e.value.runtime.name}`}visitReadVarExpr(e){return`VAR:${e.name}`}visitTypeofExpr(e,t){return`TYPEOF:${e.expr.visitExpression(this,t)}`}}function Yf(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function Xf(e){return e instanceof bm}const Zf="@angular/core";class Jf{}function eg(e){return{identifier:{reference:e}}}function tg(e,t){return eg(e.resolveExternalReference(t))}Jf.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Zf},Jf.ElementRef={name:"ElementRef",moduleName:Zf},Jf.NgModuleRef={name:"NgModuleRef",moduleName:Zf},Jf.ViewContainerRef={name:"ViewContainerRef",moduleName:Zf},Jf.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Zf},Jf.QueryList={name:"QueryList",moduleName:Zf},Jf.TemplateRef={name:"TemplateRef",moduleName:Zf},Jf.Renderer2={name:"Renderer2",moduleName:Zf},Jf.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Zf},Jf.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Zf},Jf.ComponentFactory={name:"ComponentFactory",moduleName:Zf},Jf.ComponentRef={name:"ComponentRef",moduleName:Zf},Jf.NgModuleFactory={name:"NgModuleFactory",moduleName:Zf},Jf.createModuleFactory={name:"\u0275cmf",moduleName:Zf},Jf.moduleDef={name:"\u0275mod",moduleName:Zf},Jf.moduleProviderDef={name:"\u0275mpd",moduleName:Zf},Jf.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Zf},Jf.inject={name:"\u0275\u0275inject",moduleName:Zf},Jf.INJECTOR={name:"INJECTOR",moduleName:Zf},Jf.Injector={name:"Injector",moduleName:Zf},Jf.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:Zf},Jf.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:Zf},Jf.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Zf},Jf.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Zf},Jf.SecurityContext={name:"SecurityContext",moduleName:Zf},Jf.LOCALE_ID={name:"LOCALE_ID",moduleName:Zf},Jf.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Zf},Jf.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Zf},Jf.interpolate={name:"\u0275interpolate",moduleName:Zf},Jf.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Zf},Jf.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Zf},Jf.Renderer={name:"Renderer",moduleName:Zf},Jf.viewDef={name:"\u0275vid",moduleName:Zf},Jf.elementDef={name:"\u0275eld",moduleName:Zf},Jf.anchorDef={name:"\u0275and",moduleName:Zf},Jf.textDef={name:"\u0275ted",moduleName:Zf},Jf.directiveDef={name:"\u0275did",moduleName:Zf},Jf.providerDef={name:"\u0275prd",moduleName:Zf},Jf.queryDef={name:"\u0275qud",moduleName:Zf},Jf.pureArrayDef={name:"\u0275pad",moduleName:Zf},Jf.pureObjectDef={name:"\u0275pod",moduleName:Zf},Jf.purePipeDef={name:"\u0275ppd",moduleName:Zf},Jf.pipeDef={name:"\u0275pid",moduleName:Zf},Jf.nodeValue={name:"\u0275nov",moduleName:Zf},Jf.ngContentDef={name:"\u0275ncd",moduleName:Zf},Jf.unwrapValue={name:"\u0275unv",moduleName:Zf},Jf.createRendererType2={name:"\u0275crt",moduleName:Zf},Jf.RendererType2={name:"RendererType2",moduleName:Zf},Jf.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Zf},Jf.createComponentFactory={name:"\u0275ccf",moduleName:Zf},Jf.setClassMetadata={name:"\u0275setClassMetadata",moduleName:Zf};class ng{constructor(e,t,n){this.filePath=e,this.name=t,this.members=n}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class rg{constructor(){this.cache=new Map}get(e,t,n){const r=`"${e}".${t}${(n=n||[]).length?`.${n.join(".")}`:""}`;let i=this.cache.get(r);return i||(i=new ng(e,t,n),this.cache.set(r,i)),i}}const ig=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function sg(e){return e.replace(/\W/g,"_")}let og=0;function ag(e){if(!e||!e.reference)return null;const t=e.reference;if(t instanceof ng)return t.name;if(t.__anonymousType)return t.__anonymousType;let n=Bf(t);return n.indexOf("(")>=0?(n=`anonymous_${og++}`,t.__anonymousType=n):n=sg(n),n}function lg(e){const t=e.reference;return t instanceof ng?t.filePath:`./${Bf(t)}`}function cg(e,t){return`View_${ag({reference:e})}_${t}`}function hg(e){return`RenderType_${ag({reference:e})}`}function ug(e){return`${ag({reference:e})}NgFactory`}var dg;function pg(e){return null!=e.value?sg(e.value):ag(e.identifier)}function mg(e){return null!=e.identifier?e.identifier.reference:e.value}!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}(dg||(dg={}));class fg{constructor({moduleUrl:e,styles:t,styleUrls:n}={}){this.moduleUrl=e||null,this.styles=wg(t),this.styleUrls=wg(n)}}class gg{constructor({encapsulation:e,template:t,templateUrl:n,htmlAst:r,styles:i,styleUrls:s,externalStylesheets:o,animations:a,ngContentSelectors:l,interpolation:c,isInline:h,preserveWhitespaces:u}){if(this.encapsulation=e,this.template=t,this.templateUrl=n,this.htmlAst=r,this.styles=wg(i),this.styleUrls=wg(s),this.externalStylesheets=wg(o),this.animations=a?Eg(a):[],this.ngContentSelectors=l||[],c&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c,this.isInline=h,this.preserveWhitespaces=u}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class yg{static create({isHost:e,type:t,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,host:l,providers:c,viewProviders:h,queries:u,guards:d,viewQueries:p,entryComponents:m,template:f,componentViewType:g,rendererType:y,componentFactory:v}){const _={},b={},w={};null!=l&&Object.keys(l).forEach(e=>{const t=l[e],n=e.match(ig);null===n?w[e]=t:null!=n[1]?b[n[1]]=t:null!=n[2]&&(_[n[2]]=t)});const C={};null!=o&&o.forEach(e=>{const t=Sf(e,[e,e]);C[t[0]]=t[1]});const E={};return null!=a&&a.forEach(e=>{const t=Sf(e,[e,e]);E[t[0]]=t[1]}),new yg({isHost:e,type:t,isComponent:!!n,selector:r,exportAs:i,changeDetection:s,inputs:C,outputs:E,hostListeners:_,hostProperties:b,hostAttributes:w,providers:c,viewProviders:h,queries:u,guards:d,viewQueries:p,entryComponents:m,template:f,componentViewType:g,rendererType:y,componentFactory:v})}constructor({isHost:e,type:t,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,hostListeners:l,hostProperties:c,hostAttributes:h,providers:u,viewProviders:d,queries:p,guards:m,viewQueries:f,entryComponents:g,template:y,componentViewType:v,rendererType:_,componentFactory:b}){this.isHost=!!e,this.type=t,this.isComponent=n,this.selector=r,this.exportAs=i,this.changeDetection=s,this.inputs=o,this.outputs=a,this.hostListeners=l,this.hostProperties=c,this.hostAttributes=h,this.providers=wg(u),this.viewProviders=wg(d),this.queries=wg(p),this.guards=m,this.viewQueries=wg(f),this.entryComponents=wg(g),this.template=y,this.componentViewType=v,this.rendererType=_,this.componentFactory=b}toSummary(){return{summaryKind:dg.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class vg{constructor({type:e,name:t,pure:n}){this.type=e,this.name=t,this.pure=!!n}toSummary(){return{summaryKind:dg.Pipe,type:this.type,name:this.name,pure:this.pure}}}class _g{constructor({type:e,providers:t,declaredDirectives:n,exportedDirectives:r,declaredPipes:i,exportedPipes:s,entryComponents:o,bootstrapComponents:a,importedModules:l,exportedModules:c,schemas:h,transitiveModule:u,id:d}){this.type=e||null,this.declaredDirectives=wg(n),this.exportedDirectives=wg(r),this.declaredPipes=wg(i),this.exportedPipes=wg(s),this.providers=wg(t),this.entryComponents=wg(o),this.bootstrapComponents=wg(a),this.importedModules=wg(l),this.exportedModules=wg(c),this.schemas=wg(h),this.id=d||null,this.transitiveModule=u||null}toSummary(){const e=this.transitiveModule;return{summaryKind:dg.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}class bg{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(e,t){this.providers.push({provider:e,module:t})}addDirective(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}addExportedDirective(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}addPipe(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}addExportedPipe(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}addModule(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}addEntryComponent(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}function wg(e){return e||[]}class Cg{constructor(e,{useClass:t,useValue:n,useExisting:r,useFactory:i,deps:s,multi:o}){this.token=e,this.useClass=t||null,this.useValue=n,this.useExisting=r,this.useFactory=i||null,this.dependencies=s||null,this.multi=!!o}}function Eg(e){return e.reduce((e,t)=>{const n=Array.isArray(t)?Eg(t):t;return e.concat(n)},[])}function Sg(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function xg(e,t,n){let r;return r=n.isInline?t.type.reference instanceof ng?`${t.type.reference.filePath}.${t.type.reference.name}.html`:`${ag(e)}/${ag(t.type)}.html`:n.templateUrl,t.type.reference instanceof ng?r:Sg(r)}const kg="@angular/core";class Tg{}Tg.NEW_METHOD="factory",Tg.TRANSFORM_METHOD="transform",Tg.PATCH_DEPS="patchedDeps",Tg.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:kg},Tg.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:kg},Tg.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:kg},Tg.element={name:"\u0275\u0275element",moduleName:kg},Tg.elementStart={name:"\u0275\u0275elementStart",moduleName:kg},Tg.elementEnd={name:"\u0275\u0275elementEnd",moduleName:kg},Tg.select={name:"\u0275\u0275select",moduleName:kg},Tg.updateSyntheticHostBinding={name:"\u0275\u0275updateSyntheticHostBinding",moduleName:kg},Tg.componentHostSyntheticListener={name:"\u0275\u0275componentHostSyntheticListener",moduleName:kg},Tg.attribute={name:"\u0275\u0275attribute",moduleName:kg},Tg.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:kg},Tg.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:kg},Tg.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:kg},Tg.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:kg},Tg.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:kg},Tg.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:kg},Tg.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:kg},Tg.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:kg},Tg.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:kg},Tg.classProp={name:"\u0275\u0275classProp",moduleName:kg},Tg.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:kg},Tg.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:kg},Tg.elementContainer={name:"\u0275\u0275elementContainer",moduleName:kg},Tg.styling={name:"\u0275\u0275styling",moduleName:kg},Tg.styleMap={name:"\u0275\u0275styleMap",moduleName:kg},Tg.classMap={name:"\u0275\u0275classMap",moduleName:kg},Tg.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:kg},Tg.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:kg},Tg.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:kg},Tg.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:kg},Tg.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:kg},Tg.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:kg},Tg.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:kg},Tg.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:kg},Tg.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:kg},Tg.styleProp={name:"\u0275\u0275styleProp",moduleName:kg},Tg.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:kg},Tg.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:kg},Tg.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:kg},Tg.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:kg},Tg.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:kg},Tg.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:kg},Tg.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:kg},Tg.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:kg},Tg.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:kg},Tg.stylingApply={name:"\u0275\u0275stylingApply",moduleName:kg},Tg.styleSanitizer={name:"\u0275\u0275styleSanitizer",moduleName:kg},Tg.elementHostAttrs={name:"\u0275\u0275elementHostAttrs",moduleName:kg},Tg.containerCreate={name:"\u0275\u0275container",moduleName:kg},Tg.nextContext={name:"\u0275\u0275nextContext",moduleName:kg},Tg.templateCreate={name:"\u0275\u0275template",moduleName:kg},Tg.text={name:"\u0275\u0275text",moduleName:kg},Tg.textBinding={name:"\u0275\u0275textBinding",moduleName:kg},Tg.enableBindings={name:"\u0275\u0275enableBindings",moduleName:kg},Tg.disableBindings={name:"\u0275\u0275disableBindings",moduleName:kg},Tg.allocHostVars={name:"\u0275\u0275allocHostVars",moduleName:kg},Tg.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:kg},Tg.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:kg},Tg.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:kg},Tg.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:kg},Tg.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:kg},Tg.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:kg},Tg.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:kg},Tg.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:kg},Tg.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:kg},Tg.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:kg},Tg.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:kg},Tg.restoreView={name:"\u0275\u0275restoreView",moduleName:kg},Tg.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:kg},Tg.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:kg},Tg.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:kg},Tg.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:kg},Tg.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:kg},Tg.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:kg},Tg.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:kg},Tg.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:kg},Tg.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:kg},Tg.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:kg},Tg.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:kg},Tg.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:kg},Tg.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:kg},Tg.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:kg},Tg.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:kg},Tg.hostProperty={name:"\u0275\u0275hostProperty",moduleName:kg},Tg.property={name:"\u0275\u0275property",moduleName:kg},Tg.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:kg},Tg.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:kg},Tg.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:kg},Tg.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:kg},Tg.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:kg},Tg.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:kg},Tg.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:kg},Tg.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:kg},Tg.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:kg},Tg.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:kg},Tg.i18n={name:"\u0275\u0275i18n",moduleName:kg},Tg.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:kg},Tg.i18nExp={name:"\u0275\u0275i18nExp",moduleName:kg},Tg.i18nStart={name:"\u0275\u0275i18nStart",moduleName:kg},Tg.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:kg},Tg.i18nApply={name:"\u0275\u0275i18nApply",moduleName:kg},Tg.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:kg},Tg.i18nLocalize={name:"\u0275\u0275i18nLocalize",moduleName:kg},Tg.load={name:"\u0275\u0275load",moduleName:kg},Tg.pipe={name:"\u0275\u0275pipe",moduleName:kg},Tg.projection={name:"\u0275\u0275projection",moduleName:kg},Tg.projectionDef={name:"\u0275\u0275projectionDef",moduleName:kg},Tg.reference={name:"\u0275\u0275reference",moduleName:kg},Tg.inject={name:"\u0275\u0275inject",moduleName:kg},Tg.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:kg},Tg.injectPipeChangeDetectorRef={name:"\u0275\u0275injectPipeChangeDetectorRef",moduleName:kg},Tg.directiveInject={name:"\u0275\u0275directiveInject",moduleName:kg},Tg.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:kg},Tg.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:kg},Tg.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:kg},Tg.resolveBody={name:"\u0275\u0275resolveBody",moduleName:kg},Tg.defineBase={name:"\u0275\u0275defineBase",moduleName:kg},Tg.BaseDef={name:"\u0275\u0275BaseDef",moduleName:kg},Tg.defineComponent={name:"\u0275\u0275defineComponent",moduleName:kg},Tg.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:kg},Tg.ComponentDefWithMeta={name:"\u0275\u0275ComponentDefWithMeta",moduleName:kg},Tg.defineDirective={name:"\u0275\u0275defineDirective",moduleName:kg},Tg.DirectiveDefWithMeta={name:"\u0275\u0275DirectiveDefWithMeta",moduleName:kg},Tg.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:kg},Tg.defineInjector={name:"\u0275\u0275defineInjector",moduleName:kg},Tg.NgModuleDefWithMeta={name:"\u0275\u0275NgModuleDefWithMeta",moduleName:kg},Tg.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:kg},Tg.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:kg},Tg.PipeDefWithMeta={name:"\u0275\u0275PipeDefWithMeta",moduleName:kg},Tg.definePipe={name:"\u0275\u0275definePipe",moduleName:kg},Tg.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:kg},Tg.viewQuery={name:"\u0275\u0275viewQuery",moduleName:kg},Tg.staticViewQuery={name:"\u0275\u0275staticViewQuery",moduleName:kg},Tg.staticContentQuery={name:"\u0275\u0275staticContentQuery",moduleName:kg},Tg.loadViewQuery={name:"\u0275\u0275loadViewQuery",moduleName:kg},Tg.contentQuery={name:"\u0275\u0275contentQuery",moduleName:kg},Tg.loadContentQuery={name:"\u0275\u0275loadContentQuery",moduleName:kg},Tg.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:kg},Tg.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:kg},Tg.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:kg},Tg.listener={name:"\u0275\u0275listener",moduleName:kg},Tg.getFactoryOf={name:"\u0275\u0275getFactoryOf",moduleName:kg},Tg.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:kg},Tg.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:kg},Tg.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:kg},Tg.defaultStyleSanitizer={name:"\u0275\u0275defaultStyleSanitizer",moduleName:kg},Tg.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:kg},Tg.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:kg},Tg.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:kg},Tg.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:kg};function Og(e){return e>=9&&e<=32||160==e}function Ag(e){return 48<=e&&e<=57}function Ig(e){return e>=97&&e<=122||e>=65&&e<=90}function Dg(e){return 10===e||13===e}function Pg(e){return 48<=e&&e<=55}class Ng{constructor(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const t=this.file.content,n=t.length;let r=this.offset,i=this.line,s=this.col;for(;r>0&&e<0;){if(r--,e++,10==t.charCodeAt(r)){i--;const e=t.substr(0,r-1).lastIndexOf(String.fromCharCode(10));s=e>0?r-e:r}else s--}for(;r<n&&e>0;){const n=t.charCodeAt(r);r++,e--,10==n?(i++,s=0):s++}return new Ng(this.file,r,i,s)}getContext(e,t){const n=this.file.content;let r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);let i=r,s=0,o=0;for(;s<e&&r>0&&(r--,s++,"\n"!=n[r]||++o!=t););for(s=0,o=0;s<e&&i<n.length-1&&(i++,s++,"\n"!=n[i]||++o!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}class Rg{constructor(e,t){this.content=e,this.url=t}}class Mg{constructor(e,t,n=null){this.start=e,this.end=t,this.details=n}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}const Fg=new Ng(new Rg("",""),0,0,0);new Mg(Fg,Fg);var Lg;!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(Lg||(Lg={}));class jg{constructor(e,t,n=Lg.ERROR){this.span=e,this.msg=t,this.level=n}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Lg[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}class $g{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}}class Bg{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e){return e.visitBoundText(this)}}class Vg{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}visit(e){return e.visitTextAttribute(this)}}class Ug{constructor(e,t,n,r,i,s,o,a){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o,this.i18n=a}static fromBoundElementProperty(e,t){return new Ug(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}}class zg{constructor(e,t,n,r,i,s,o){this.name=e,this.type=t,this.handler=n,this.target=r,this.phase=i,this.sourceSpan=s,this.handlerSpan=o}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new zg(e.name,e.type,e.handler,t,n,e.sourceSpan,e.handlerSpan)}visit(e){return e.visitBoundEvent(this)}}class Hg{constructor(e,t,n,r,i,s,o,a,l,c){this.name=e,this.attributes=t,this.inputs=n,this.outputs=r,this.children=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c,0===i.length&&a&&l&&(this.sourceSpan=new Mg(o.start,l.end))}visit(e){return e.visitElement(this)}}class qg{constructor(e,t,n,r,i,s,o,a,l,c,h,u){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=r,this.templateAttrs=i,this.children=s,this.references=o,this.variables=a,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=h,this.i18n=u}visit(e){return e.visitTemplate(this)}}class Wg{constructor(e,t,n,r){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitContent(this)}}class Gg{constructor(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}visit(e){return e.visitVariable(this)}}class Qg{constructor(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}visit(e){return e.visitReference(this)}}class Kg{constructor(e,t,n,r){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitIcu(this)}}function Yg(e,t){const n=[];if(e.visit)for(const r of t){e.visit(r)||r.visit(e)}else for(const r of t){const t=r.visit(e);t&&n.push(t)}return n}class Xg{constructor(e,t,n,r,i,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=s,e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}class Zg{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}}class Jg{constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}}class ey{constructor(e,t,n,r){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=r}visit(e,t){return e.visitIcu(this,t)}}class ty{constructor(e,t,n,r,i,s,o){this.tag=e,this.attrs=t,this.startName=n,this.closeName=r,this.children=i,this.isVoid=s,this.sourceSpan=o}visit(e,t){return e.visitTagPlaceholder(this,t)}}class ny{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitPlaceholder(this,t)}}class ry{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitIcuPlaceholder(this,t)}}function iy(e){return e.id||function(e){const t=$f(e),n=function(e,t){const n=Array(e.length+3>>>2);for(let r=0;r<n.length;r++)n[r]=_y(e,4*r,t);return n}(t,py.Big),r=8*t.length,i=new Array(80);let[s,o,a,l,c]=[1732584193,4023233417,2562383102,271733878,3285377520];n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(let h=0;h<n.length;h+=16){const[e,t,r,u,d]=[s,o,a,l,c];for(let p=0;p<80;p++){i[p]=p<16?n[h+p]:yy(i[p-3]^i[p-8]^i[p-14]^i[p-16],1);const[e,t]=cy(p,o,a,l),r=[yy(s,5),e,c,t,i[p]].reduce(my);[c,l,a,o,s]=[l,a,yy(o,30),s,r]}[s,o,a,l,c]=[my(s,e),my(o,t),my(a,r),my(l,u),my(c,d)]}return function(e){let t="";for(let n=0;n<e.length;n++){const r=vy(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(by([s,o,a,l,c]))}((t=e.nodes,t.map(e=>e.visit(ay,null))).join("")+`[${e.meaning}]`);var t}function sy(e){if(e.id)return e.id;const t=new ly;return function(e,t){let[n,r]=hy(e);if(t){const[e,i]=hy(t);[n,r]=function([e,t],[n,r]){const[i,s]=fy(t,r);return[my(my(e,n),i),s]}(function([e,t],n){return[e<<n|t>>>32-n,t<<n|e>>>32-n]}([n,r],1),[e,i])}return function(e){let t="",n="1";for(let r=e.length-1;r>=0;r--)t=wy(t,Cy(vy(e,r),n)),n=Cy(256,n);return t.split("").reverse().join("")}(by([2147483647&n,r]))}(e.nodes.map(e=>e.visit(t,null)).join(""),e.meaning)}class oy{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(e=>e.visit(this)).join(", ")}]`}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expression}, ${e.type}, ${n.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(e=>e.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const ay=new oy;class ly extends oy{visitIcu(e,t){let n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}}function cy(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function hy(e){const t=$f(e);let[n,r]=[uy(t,0),uy(t,102072)];return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function uy(e,t){let n,[r,i]=[2654435769,2654435769];const s=e.length;for(n=0;n+12<=s;n+=12)r=my(r,_y(e,n,py.Little)),i=my(i,_y(e,n+4,py.Little)),t=my(t,_y(e,n+8,py.Little)),[r,i,t]=dy([r,i,t]);return r=my(r,_y(e,n,py.Little)),i=my(i,_y(e,n+4,py.Little)),t=my(t,s),dy([r,i,t=my(t,_y(e,n+8,py.Little)<<8)])[2]}function dy([e,t,n]){return e=gy(e,t),e=gy(e,n),e^=n>>>13,t=gy(t,n),t=gy(t,e),t^=e<<8,n=gy(n,e),n=gy(n,t),n^=t>>>13,e=gy(e,t),e=gy(e,n),e^=n>>>12,t=gy(t,n),t=gy(t,e),t^=e<<16,n=gy(n,e),n=gy(n,t),n^=t>>>5,e=gy(e,t),e=gy(e,n),e^=n>>>3,t=gy(t,n),t=gy(t,e),t^=e<<10,n=gy(n,e),n=gy(n,t),[e,t,n^=t>>>15]}var py;function my(e,t){return fy(e,t)[1]}function fy(e,t){const n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function gy(e,t){const n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function yy(e,t){return e<<t|e>>>32-t}function vy(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function _y(e,t,n){let r=0;if(n===py.Big)for(let i=0;i<4;i++)r+=vy(e,t+i)<<24-8*i;else for(let i=0;i<4;i++)r+=vy(e,t+i)<<8*i;return r}function by(e){return e.reduce((e,t)=>e+function(e){let t="";for(let n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t),"")}function wy(e,t){let n="";const r=Math.max(e.length,t.length);for(let i=0,s=0;i<r||s;i++){const r=s+ +(e[i]||0)+ +(t[i]||0);r>=10?(s=1,n+=r-10):(s=0,n+=r)}return n}function Cy(e,t){let n="",r=t;for(;0!==e;e>>>=1)1&e&&(n=wy(n,r)),r=wy(r,r);return n}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(py||(py={}));class Ey{createNameMapper(e){return null}}class Sy extends class{visitText(e,t){}visitContainer(e,t){e.children.forEach(e=>e.visit(this))}visitIcu(e,t){Object.keys(e.cases).forEach(t=>{e.cases[t].visit(this)})}visitTagPlaceholder(e,t){e.children.forEach(e=>e.visit(this))}visitPlaceholder(e,t){}visitIcuPlaceholder(e,t){}}{constructor(e,t){super(),this.mapName=t,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},e.nodes.forEach(e=>e.visit(this))}toPublicName(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}toInternalName(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}visitText(e,t){return null}visitTagPlaceholder(e,t){this.visitPlaceholderName(e.startName),super.visitTagPlaceholder(e,t),this.visitPlaceholderName(e.closeName)}visitPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitIcuPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitPlaceholderName(e){if(!e||this.internalToPublic.hasOwnProperty(e))return;let t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){const e=this.publicToNextId[t];this.publicToNextId[t]=e+1,t=`${t}_${e}`}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}const xy=new class{visitTag(e){const t=this._serializeAttributes(e.attrs);if(0==e.children.length)return`<${e.name}${t}/>`;const n=e.children.map(e=>e.visit(this));return`<${e.name}${t}>${n.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){const t=Object.keys(e).map(t=>`${t}="${e[t]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [\n${e.dtd}\n]>`}};function ky(e){return e.map(e=>e.visit(xy)).join("")}class Ty{constructor(e){this.attrs={},Object.keys(e).forEach(t=>{this.attrs[t]=Ny(e[t])})}visit(e){return e.visitDeclaration(this)}}class Oy{constructor(e,t){this.rootTag=e,this.dtd=t}visit(e){return e.visitDoctype(this)}}class Ay{constructor(e,t={},n=[]){this.name=e,this.children=n,this.attrs={},Object.keys(t).forEach(e=>{this.attrs[e]=Ny(t[e])})}visit(e){return e.visitTag(this)}}class Iy{constructor(e){this.value=Ny(e)}visit(e){return e.visitText(this)}}class Dy extends Iy{constructor(e=0){super(`\n${new Array(e+1).join(" ")}`)}}const Py=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function Ny(e){return Py.reduce((e,t)=>e.replace(t[0],t[1]),e)}class Ry extends Ey{write(e,t){const n=new Ly,r=new My;let i=new Ay("messagebundle");return e.forEach(e=>{const t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);let n=[];e.sources.forEach(e=>{n.push(new Ay("source",{},[new Iy(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),i.children.push(new Dy(2),new Ay("msg",t,[...n,...r.serialize(e.nodes)]))}),i.children.push(new Dy),ky([new Ty({version:"1.0",encoding:"UTF-8"}),new Dy,new Oy("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Dy,n.addDefaultExamples(i),new Dy])}load(e,t){throw new Error("Unsupported")}digest(e){return Fy(e)}createNameMapper(e){return new Sy(e,jy)}}class My{visitText(e,t){return[new Iy(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new Iy(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new Iy(`${t} {`),...e.cases[t].visit(this),new Iy("} "))}),n.push(new Iy("}")),n}visitTagPlaceholder(e,t){const n=new Iy(`<${e.tag}>`),r=new Ay("ex",{},[n]),i=new Ay("ph",{name:e.startName},[r,n]);if(e.isVoid)return[i];const s=new Iy(`</${e.tag}>`),o=new Ay("ex",{},[s]),a=new Ay("ph",{name:e.closeName},[o,s]);return[i,...this.serialize(e.children),a]}visitPlaceholder(e,t){const n=new Iy(`{{${e.value}}}`),r=new Ay("ex",{},[n]);return[new Ay("ph",{name:e.name},[r,n])]}visitIcuPlaceholder(e,t){const n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),s=new Iy(`{${n}, ${r}, ${i}}`),o=new Ay("ex",{},[s]);return[new Ay("ph",{name:e.name},[o,s])]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}function Fy(e){return sy(e)}class Ly{addDefaultExamples(e){return e.visit(this),e}visitTag(e){if("ph"===e.name){if(!e.children||0==e.children.length){const t=new Iy(e.attrs.name||"...");e.children=[new Ay("ex",{},[t])]}}else e.children&&e.children.forEach(e=>e.visit(this))}visitText(e){}visitDeclaration(e){}visitDoctype(e){}}function jy(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function $y(e,t=!1){return vf(Object.keys(e).map(n=>({key:n,quoted:t,value:e[n]})))}function By(e,t,n,r,i){const s=[];s.push(new Qm(e.name,void 0,hm,null,e.sourceSpan));const o=[wf(n)];i&&Object.keys(i).length&&o.push($y(i,!0));const a=function(e){const t=[];e.description&&t.push({tagName:"desc",text:e.description});e.meaning&&t.push({tagName:"meaning",text:e.meaning});return 0==t.length?null:new rf(t)}(r),l=a?[a]:[],c=pf("goog.getMsg").callFn(o);l.push(t.set(c).toConstDecl()),l.push(new Ym(e.set(t)));const h=mf(Tg.i18nLocalize).callFn(o),u=[new Ym(e.set(h))];return s.push(bf(pf("ngI18nClosureMode"),l,u)),s}function Vy(e){return"i18n"===e||e.startsWith("i18n-")}function Uy(e){return e instanceof Xg}function zy(e){return Uy(e)&&1===e.nodes.length&&e.nodes[0]instanceof ey}function Hy(e,t=null){return{id:"string"==typeof t?t:e.id||"",meaning:e.meaning||"",description:e.description||""}}function qy(e){return e.nodes[0]}function Wy(e,t=0){return`\ufffd${e}${t>0?`:${t}`:""}\ufffd`}function Gy(e=0){let t=e;return()=>t++}function Qy(e){const t={};return e.forEach((e,n)=>{t[n]=wf(e.length>1?`[${e.join("|")}]`:e[0])}),t}function Ky(e,t,...n){const r=e.get(t)||[];r.push(...n),e.set(t,r)}function Yy(e,t=0,n=0){const r=t,i=new Map,s=e instanceof Xg?e.nodes.find(e=>e instanceof Jg):e;return s&&s.children.filter(e=>e instanceof ny).forEach((e,t)=>{const s=Wy(r+t,n);Ky(i,e.name,s)}),i}function Xy(e,t=!0){const n=jy(e);if(!t)return n;const r=n.split("_");if(1===r.length)return e.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}function Zy(e){return`MSG_${e}`.toUpperCase()}const Jy=/[-.]/;function ev(e,t){let n=null;return()=>(n||(e.push(new Qm("_t",void 0,cm)),n=pf(t)),n)}function tv(e){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${e} yet`);throw new Error(`Feature ${e} is not supported yet`)}function nv(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function rv(e){return Array.isArray(e)?yf(e.map(rv)):wf(e,hm)}function iv(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return vf(Object.getOwnPropertyNames(e).map(n=>{const r=e[n];let i,s,o;return Array.isArray(r)?[s,i]=r:[i,s]=Sf(n,[n,r]),o=i,{key:o,quoted:Jy.test(o),value:t&&s!==i?yf([rv(s),rv(i)]):rv(s)}}))}(e,t):null}function sv(e){for(;(t=e[e.length-1])instanceof Am&&null===t.value;)e.pop();var t;return e}function ov(e,t){if(Array.isArray(e.predicate)){let n=[];return e.predicate.forEach(e=>{const t=e.split(",").map(e=>wf(e.trim()));n.push(...t)}),t.getConstLiteral(yf(n),!0)}return e.predicate}class av{constructor(){this.values=[]}set(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}toLiteralMap(){return vf(this.values)}}function lv(e){const t={};return e instanceof qg&&"ng-template"!==e.tagName?e.templateAttrs.forEach(e=>t[e.name]=""):(e.attributes.forEach(e=>{Vy(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(e=>{t[e.name]=""}),e.outputs.forEach(e=>{t[e.name]=""})),t}function cv(e,t,n){let r=mf(e,null,n);if(t.length>0)for(let i=0;i<t.length;i++)r=r.callFn(t[i],n);else r=r.callFn([],n);return r}function hv(e){const{expressions:t,strings:n}=e;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}var uv,dv;function pv(e,t=!1){const n=pf("t"),r=[],i=gv(e)?n:new Lm(mm.Or,n,e.type);let s=null;if(null!==e.deps)"invalid"!==e.deps&&(s=new Om(i,mv(e.deps,e.injectFn,t)));else{const t=pf(`\u0275${e.name}_BaseFactory`),n=mf(Tg.getInheritedFactory),o=t.set(n.callFn([e.type])).toDeclStmt(hm,[Wm.Exported,Wm.Final]);r.push(o),s=t.callFn([i])}const o=s,a=[];let l=null;function c(t){const r=pf("r");a.push(r.set(Hm).toDeclStmt());let i=null;return i=null!==o?r.set(o).toStmt():fv(e.name),a.push(bf(n,[i],[r.set(t).toStmt()])),r}if(gv(e)&&e.delegateType===uv.Factory){const t=pf(`\u0275${e.name}_BaseFactory`),n=mf(Tg.getFactoryOf);if(e.delegate.isEquivalent(e.type))throw new Error("Illegal state: compiling factory that delegates to itself");const i=t.set(n.callFn([e.delegate])).toDeclStmt(hm,[Wm.Exported,Wm.Final]);r.push(i),l=c(t.callFn([]))}else if(gv(e)){const n=mv(e.delegateDeps,e.injectFn,t);l=c(new(e.delegateType===uv.Class?Om:Tm)(e.delegate,n))}else l=function(e){return void 0!==e.expression}(e)?c(e.expression):s;return null!==l?a.push(new Xm(l)):a.push(fv(e.name)),{factory:_f([new Mm("t",cm)],a,hm,void 0,`${e.name}_Factory`),statements:r}}function mv(e,t,n){return e.map(e=>function(e,t,n){switch(e.resolved){case dv.Token:case dv.ChangeDetectorRef:const r=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0);let i=0!==r||e.optional?wf(r):null;if(n&&e.resolved===dv.ChangeDetectorRef)return mf(Tg.injectPipeChangeDetectorRef).callFn(i?[i]:[]);const s=[e.token];return i&&s.push(i),mf(t).callFn(s);case dv.Attribute:return mf(Tg.injectAttribute).callFn([e.token]);default:return tv(`Unknown R3ResolvedDependencyType: ${dv[e.resolved]}`)}}(e,t,n))}function fv(e){return new of(new Om(new bm("Error"),[wf(`${e} has a constructor which is not compatible with Dependency Injection. It should probably not be @Injectable().`)]))}function gv(e){return void 0!==e.delegateType}function yv(e){return vf(Object.keys(e).map(t=>({key:t,value:e[t],quoted:!1})))}function vv(e,t){let n=null;if(t>0){n=[];for(let e=0;e<t;e++)n.push(cm)}return gf(e,null,n)}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function",e[e.Factory=2]="Factory"}(uv||(uv={})),function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef"}(dv||(dv={}));function _v(e){return`@${e}`}function bv(e,t){return`animation_${e}_${t}`}function wv(e,t){if(null!=t){if(!Array.isArray(t))throw new Error(`Expected '${e}' to be an array of strings.`);for(let n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error(`Expected '${e}' to be an array of strings.`)}}const Cv=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Ev(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error(`Expected '${e}' to be an array, [start, end].`);if(null!=t){const e=t[0],n=t[1];Cv.forEach(t=>{if(t.test(e)||t.test(n))throw new Error(`['${e}', '${n}'] contains unusable interpolation symbol.`)})}}class Sv{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(Ev("interpolation",e),new Sv(e[0],e[1])):xv}}const xv=new Sv("{{","}}");class kv{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,t=[],n=[];Array.from(this.sourcesContent.keys()).forEach((r,i)=>{e.set(r,i),t.push(r),n.push(this.sourcesContent.get(r)||null)});let r="",i=0,s=0,o=0,a=0;return this.lines.forEach(t=>{i=0,r+=t.map(t=>{let n=Tv(t.col0-i);return i=t.col0,null!=t.sourceUrl&&(n+=Tv(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=Tv(t.sourceLine0-o),o=t.sourceLine0,n+=Tv(t.sourceCol0-a),a=t.sourceCol0),n}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:t,sourcesContent:n,mappings:r}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){let t="";e=$f(e);for(let n=0;n<e.length;){const r=e.charCodeAt(n++),i=e.charCodeAt(n++),s=e.charCodeAt(n++);t+=Ov(r>>2),t+=Ov((3&r)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":Ov((15&i)<<2|s>>6),t+=isNaN(i)||isNaN(s)?"=":Ov(63&s)}return t}(JSON.stringify(this,null,0)):""}}function Tv(e){e=e<0?1+(-e<<1):e<<1;let t="";do{let n=31&e;(e>>=5)>0&&(n|=32),t+=Ov(n)}while(e>0);return t}function Ov(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}const Av=/'|\\|\n|\r|\$/g,Iv=/^[$A-Z_][0-9A-Z_$]*$/i,Dv=pf("error",null,null),Pv=pf("stack",null,null);class Nv{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class Rv{constructor(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new Nv(e)]}static createRoot(){return new Rv(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}print(e,t,n=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new Nv(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(e){this._classes.push(e)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(e=>e.parts.length>0?Lv(e.indent)+e.parts.join(""):"").join("\n")}toSourceMapGenerator(e,t=0){const n=new kv(e);let r=!1;const i=()=>{r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let s=0;s<t;s++)n.addLine(),i();return this.sourceLines.forEach((e,t)=>{n.addLine();const s=e.srcSpans,o=e.parts;let a=e.indent*"  ".length,l=0;for(;l<s.length&&!s[l];)a+=o[l].length,l++;for(l<s.length&&0===t&&0===a?r=!0:i();l<s.length;){const e=s[l],t=e.start.file,r=e.start.line,i=e.start.col;for(n.addSource(t.url,t.content).addMapping(a,t.url,r,i),a+=o[l].length,l++;l<s.length&&(e===s[l]||!s[l]);)a+=o[l].length,l++}}),n}setPreambleLineCount(e){return this._preambleLineCount=e}spanOf(e,t){const n=this._lines[e-this._preambleLineCount];if(n){let e=t-Lv(n.indent).length;for(let t=0;t<n.parts.length;t++){const r=n.parts[t];if(r.length>e)return n.srcSpans[t];e-=r.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class Mv{constructor(e){this._escapeDollarInStrings=e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");const n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitThrowStmt(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}visitCommentStmt(e,t){return e.multiline?t.println(e,`/* ${e.comment} */`):e.comment.split("\n").forEach(n=>{t.println(e,`// ${n}`)}),null}visitJSDocCommentStmt(e,t){return t.println(e,`/*${e.toString()}*/`),null}visitWriteVarExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWriteKeyExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWritePropExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitInvokeMethodExpr(e,t){e.receiver.visitExpression(this,t);let n=e.name;return null!=e.builtin&&(n=this.getBuiltinMethodName(e.builtin),null==n)?null:(t.print(e,`.${n}(`),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case fm.Super:n="super";break;case fm.This:n="this";break;case fm.CatchError:n=Dv.name;break;case fm.CatchStack:n=Pv.name;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}return t.print(e,n),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){const n=e.value;return"string"==typeof n?t.print(e,Fv(n,this._escapeDollarInStrings)):t.print(e,`${n}`),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),null}visitBinaryOperatorExpr(e,t){let n;switch(e.operator){case mm.Equals:n="==";break;case mm.Identical:n="===";break;case mm.NotEquals:n="!=";break;case mm.NotIdentical:n="!==";break;case mm.And:n="&&";break;case mm.BitwiseAnd:n="&";break;case mm.Or:n="||";break;case mm.Plus:n="+";break;case mm.Minus:n="-";break;case mm.Divide:n="/";break;case mm.Multiply:n="*";break;case mm.Modulo:n="%";break;case mm.Lower:n="<";break;case mm.LowerEquals:n="<=";break;case mm.Bigger:n=">";break;case mm.BiggerEquals:n=">=";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${n} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(n=>{t.print(e,`${Fv(n.key,this._escapeDollarInStrings,n.quoted)}:`),n.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,n){this.visitAllObjects(e=>e.visitExpression(this,t),e,t,n)}visitAllObjects(e,t,n,r){let i=!1;for(let s=0;s<t.length;s++)s>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[s]);i&&(n.decIndent(),n.decIndent())}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function Fv(e,t,n=!0){if(null==e)return null;const r=e.replace(Av,(...e)=>"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":`\\${e[0]}`);return n||!Iv.test(r)?`'${r}'`:r}function Lv(e){let t="";for(let n=0;n<e;n++)t+="  ";return t}class jv extends Mv{constructor(){super(!1)}visitDeclareClassStmt(e,t){return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,`${e.name}.prototype = Object.create(`),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(n=>this._visitClassGetter(e,n,t)),e.methods.forEach(n=>this._visitClassMethod(e,n,t)),t.popClass(),null}_visitClassConstructor(e,t){t.print(e,`function ${e.name}(`),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}_visitClassGetter(e,t,n){n.println(e,`Object.defineProperty(${e.name}.prototype, '${t.name}', { get: function() {`),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}_visitClassMethod(e,t,n){n.print(e,`${e.name}.prototype.${t.name} = function(`),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(e,t){if(e.builtin===fm.This)t.print(e,"self");else{if(e.builtin===fm.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(e,t)}return null}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitCastExpr(e,t){return e.value.visitExpression(this,t),null}visitInvokeFunctionExpr(e,t){const n=e.fn;return n instanceof bm&&n.builtin===fm.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):super.visitInvokeFunctionExpr(e,t),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${Dv.name}) {`),t.incIndent();const n=[Pv.set(Dv.prop("stack")).toDeclStmt(null,[Wm.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}_visitParams(e,t){this.visitAllObjects(e=>t.print(null,e.name),e,t,",")}getBuiltinMethodName(e){let t;switch(e){case gm.ConcatArray:t="concat";break;case gm.SubscribeObservable:t="subscribe";break;case gm.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}}class $v{evaluateStatements(e,t,n,r){const i=new Bv(n),s=Rv.createRoot();return t.length>0&&!t[0].isEquivalent(wf("use strict").toStmt())&&(t=[wf("use strict").toStmt(),...t]),i.visitAllStatements(t,s),i.createReturnStmt(s),this.evaluateCode(e,s,i.getArgs(),r)}evaluateCode(e,t,n,r){let i=`"use strict";${t.toSource()}\n//# sourceURL=${e}`;const s=[],o=[];for(const l in n)o.push(n[l]),s.push(l);if(r){const n=new Function(...s.concat("return null;")).toString(),r=n.slice(0,n.indexOf("return null;")).split("\n").length-1;i+=`\n${t.toSourceMapGenerator(e,r).toJsComment()}`}const a=new Function(...s.concat(i));return this.executeFunction(a,o)}executeFunction(e,t){return e(...t)}}class Bv extends jv{constructor(e){super(),this.reflector=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new Xm(new Um(this._evalExportedVars.map(e=>new Vm(e,pf(e),!1)))).visitStatement(this,e)}getArgs(){const e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(Wm.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(Wm.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}visitDeclareClassStmt(e,t){return e.hasModifier(Wm.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareClassStmt(e,t)}_emitReferenceToExternal(e,t,n){let r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);const e=ag({reference:t})||"val";this._evalArgNames.push(`jit_${e}_${r}`)}n.print(e,this._evalArgNames[r])}}class Vv{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}parameters(e){throw new Error("Not implemented.")}annotations(e){throw new Error("Not implemented.")}shallowAnnotations(e){throw new Error("Not implemented.")}tryAnnotations(e){throw new Error("Not implemented.")}propMetadata(e){throw new Error("Not implemented.")}hasLifecycleHook(e,t){throw new Error("Not implemented.")}guards(e){throw new Error("Not implemented.")}componentModuleUrl(e,t){throw new Error("Not implemented.")}}function Uv(e){const{type:t,bootstrap:n,declarations:r,imports:i,exports:s,schemas:o,containsForwardDecls:a,emitInline:l,id:c}=e,h=[],u={type:t};if(n.length&&(u.bootstrap=Hv(n,a)),l)r.length&&(u.declarations=Hv(r,a)),i.length&&(u.imports=Hv(i,a)),s.length&&(u.exports=Hv(s,a));else{const t=function(e){const{type:t,declarations:n,imports:r,exports:i,containsForwardDecls:s}=e,o={};n.length&&(o.declarations=Hv(n,s));r.length&&(o.imports=Hv(r,s));i.length&&(o.exports=Hv(i,s));if(0===Object.keys(o).length)return null;return new Tm(mf(Tg.setNgModuleScope),[t,yv(o)],void 0,void 0,!0).toStmt()}(e);null!==t&&h.push(t)}return o&&o.length&&(u.schemas=yf(o.map(e=>e.value))),c&&(u.id=c),{expression:mf(Tg.defineNgModule).callFn([yv(u)]),type:new om(mf(Tg.NgModuleDefWithMeta,[new om(t),zv(r),zv(i),zv(s)])),additionalStatements:h}}function zv(e){const t=e.map(e=>{return t=e.type,new wm(t);var t});return e.length>0?gf(yf(t)):pm}function Hv(e,t){const n=yf(e.map(e=>e.value));return t?_f([],[new Xm(n)]):n}function qv(e){const t=[];t.push({key:"name",value:wf(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type,quoted:!1});const n=pv({name:e.name,type:e.type,deps:e.deps,injectFn:Tg.directiveInject},!0);return t.push({key:"factory",value:n.factory,quoted:!1}),t.push({key:"pure",value:wf(e.pure),quoted:!1}),{expression:mf(Tg.definePipe).callFn([vf(t)]),type:new om(mf(Tg.PipeDefWithMeta,[vv(e.type,e.typeArgumentCount),new om(new Am(e.pipeName))])),statements:n.statements}}class Wv{constructor(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message=`Parser Error: ${e} ${n} [${t}] in ${r}`}}class Gv{constructor(e,t){this.start=e,this.end=t}}class Qv{constructor(e){this.span=e}visit(e,t=null){return null}toString(){return"AST"}}class Kv extends Qv{constructor(e,t,n,r){super(e),this.prefix=t,this.uninterpretedExpression=n,this.location=r}visit(e,t=null){return e.visitQuote(this,t)}toString(){return"Quote"}}class Yv extends Qv{visit(e,t=null){}}class Xv extends Qv{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class Zv extends Qv{constructor(e,t){super(e),this.expressions=t}visit(e,t=null){return e.visitChain(this,t)}}class Jv extends Qv{constructor(e,t,n,r){super(e),this.condition=t,this.trueExp=n,this.falseExp=r}visit(e,t=null){return e.visitConditional(this,t)}}class e_ extends Qv{constructor(e,t,n){super(e),this.receiver=t,this.name=n}visit(e,t=null){return e.visitPropertyRead(this,t)}}class t_ extends Qv{constructor(e,t,n,r){super(e),this.receiver=t,this.name=n,this.value=r}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class n_ extends Qv{constructor(e,t,n){super(e),this.receiver=t,this.name=n}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class r_ extends Qv{constructor(e,t,n){super(e),this.obj=t,this.key=n}visit(e,t=null){return e.visitKeyedRead(this,t)}}class i_ extends Qv{constructor(e,t,n,r){super(e),this.obj=t,this.key=n,this.value=r}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class s_ extends Qv{constructor(e,t,n,r){super(e),this.exp=t,this.name=n,this.args=r}visit(e,t=null){return e.visitPipe(this,t)}}class o_ extends Qv{constructor(e,t){super(e),this.value=t}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class a_ extends Qv{constructor(e,t){super(e),this.expressions=t}visit(e,t=null){return e.visitLiteralArray(this,t)}}class l_ extends Qv{constructor(e,t,n){super(e),this.keys=t,this.values=n}visit(e,t=null){return e.visitLiteralMap(this,t)}}class c_ extends Qv{constructor(e,t,n){super(e),this.strings=t,this.expressions=n}visit(e,t=null){return e.visitInterpolation(this,t)}}class h_ extends Qv{constructor(e,t,n,r){super(e),this.operation=t,this.left=n,this.right=r}visit(e,t=null){return e.visitBinary(this,t)}}class u_ extends Qv{constructor(e,t){super(e),this.expression=t}visit(e,t=null){return e.visitPrefixNot(this,t)}}class d_ extends Qv{constructor(e,t){super(e),this.expression=t}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class p_ extends Qv{constructor(e,t,n,r){super(e),this.receiver=t,this.name=n,this.args=r}visit(e,t=null){return e.visitMethodCall(this,t)}}class m_ extends Qv{constructor(e,t,n,r){super(e),this.receiver=t,this.name=n,this.args=r}visit(e,t=null){return e.visitSafeMethodCall(this,t)}}class f_ extends Qv{constructor(e,t,n){super(e),this.target=t,this.args=n}visit(e,t=null){return e.visitFunctionCall(this,t)}}class g_{constructor(e,t){this.start=e,this.end=t}}class y_ extends Qv{constructor(e,t,n,r,i){super(new Gv(0,null==t?0:t.length)),this.ast=e,this.source=t,this.location=n,this.errors=i,this.sourceSpan=new g_(r,r+this.span.end)}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}}class v_{constructor(e,t,n,r,i){this.span=e,this.key=t,this.keyIsVar=n,this.name=r,this.expression=i}}class __{visitBinary(e,t){return e.left.visit(this,t),e.right.visit(this,t),null}visitChain(e,t){return this.visitAll(e.expressions,t)}visitConditional(e,t){return e.condition.visit(this,t),e.trueExp.visit(this,t),e.falseExp.visit(this,t),null}visitPipe(e,t){return e.exp.visit(this,t),this.visitAll(e.args,t),null}visitFunctionCall(e,t){return e.target.visit(this,t),this.visitAll(e.args,t),null}visitImplicitReceiver(e,t){return null}visitInterpolation(e,t){return this.visitAll(e.expressions,t)}visitKeyedRead(e,t){return e.obj.visit(this,t),e.key.visit(this,t),null}visitKeyedWrite(e,t){return e.obj.visit(this,t),e.key.visit(this,t),e.value.visit(this,t),null}visitLiteralArray(e,t){return this.visitAll(e.expressions,t)}visitLiteralMap(e,t){return this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){return null}visitMethodCall(e,t){return e.receiver.visit(this,t),this.visitAll(e.args,t)}visitPrefixNot(e,t){return e.expression.visit(this,t),null}visitNonNullAssert(e,t){return e.expression.visit(this,t),null}visitPropertyRead(e,t){return e.receiver.visit(this,t),null}visitPropertyWrite(e,t){return e.receiver.visit(this,t),e.value.visit(this,t),null}visitSafePropertyRead(e,t){return e.receiver.visit(this,t),null}visitSafeMethodCall(e,t){return e.receiver.visit(this,t),this.visitAll(e.args,t)}visitAll(e,t){return e.forEach(e=>e.visit(this,t)),null}visitQuote(e,t){return null}}class b_{constructor(e,t,n,r,i){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.valueSpan=i,this.isLiteral=this.type===w_.LITERAL_ATTR,this.isAnimation=this.type===w_.ANIMATION}}var w_,C_,E_;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(w_||(w_={}));class S_{constructor(e,t,n,r,i,s){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s}}class x_{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}}class k_{constructor(e,t,n,r,i,s,o){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o}}class T_{}T_.event=pf("$event");class O_{constructor(e,t){this.stmts=e,this.allowDefault=t,this.render3Stmts=e.map(e=>{if(e instanceof Qm&&e.name==t.name&&e.value instanceof Lm){const t=e.value.lhs;return new Xm(t.value)}return e})}}function A_(e,t,n,r,i,s){e||(e=new B_);const o=I_({createLiteralArrayConverter:e=>e=>yf(e),createLiteralMapConverter:e=>t=>vf(e.map((e,n)=>({key:e.key,value:t[n],quoted:e.quoted}))),createPipeConverter:e=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${e}`)}},n),a=new $_(e,t,r,i,s),l=[];!function e(t,n){Array.isArray(t)?t.forEach(t=>e(t,n)):n.push(t)}(o.visit(a,E_.Statement),l),function(e,t,n){for(let r=e-1;r>=0;r--)n.unshift(M_(t,r))}(a.temporaryCount,r,l),a.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const c=l.length-1;let h=null;if(c>=0){const e=function(e){if(e instanceof Ym)return e.expr;if(e instanceof Xm)return e.value;return null}(l[c]);e&&(h=function(e){return pf(`pd_${e}`)}(r),l[c]=h.set(e.cast(cm).notIdentical(wf(!1))).toDeclStmt(null,[Wm.Final]))}return new O_(l,h)}function I_(e,t){return function(e,t){const n=new j_(e);return t.visit(n)}(e,t)}class D_{constructor(e,t){this.stmts=e,this.currValExpr=t}}function P_(e,t,n,r,i,s){e||(e=new B_);const o=function(e){return pf(`currVal_${e}`)}(r),a=new $_(e,t,r,s),l=n.visit(a,E_.Expression),c=N_(a,r);return a.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===a.temporaryCount&&i==C_.TrySimple?new D_([],l):(c.push(o.set(l).toDeclStmt(cm,[Wm.Final])),new D_(c,o))}function N_(e,t){const n=[];for(let r=0;r<e.temporaryCount;r++)n.push(M_(t,r));return n}function R_(e,t){return`tmp_${e}_${t}`}function M_(e,t){return new Qm(R_(e,t),Hm)}function F_(e,t){if(e!==E_.Expression)throw new Error(`Expected an expression, but saw ${t}`)}function L_(e,t){return e===E_.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple"}(C_||(C_={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(E_||(E_={}));class j_ extends class{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){return new c_(e.span,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new o_(e.span,e.value)}visitPropertyRead(e,t){return new e_(e.span,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new t_(e.span,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new n_(e.span,e.receiver.visit(this),e.name)}visitMethodCall(e,t){return new p_(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitSafeMethodCall(e,t){return new m_(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitFunctionCall(e,t){return new f_(e.span,e.target.visit(this),this.visitAll(e.args))}visitLiteralArray(e,t){return new a_(e.span,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new l_(e.span,e.keys,this.visitAll(e.values))}visitBinary(e,t){return new h_(e.span,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new u_(e.span,e.expression.visit(this))}visitNonNullAssert(e,t){return new d_(e.span,e.expression.visit(this))}visitConditional(e,t){return new Jv(e.span,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new s_(e.span,e.exp.visit(this),e.name,this.visitAll(e.args))}visitKeyedRead(e,t){return new r_(e.span,e.obj.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new i_(e.span,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}visitAll(e){const t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}visitChain(e,t){return new Zv(e.span,this.visitAll(e.expressions))}visitQuote(e,t){return new Kv(e.span,e.prefix,e.uninterpretedExpression,e.location)}}{constructor(e){super(),this._converterFactory=e}visitPipe(e,t){const n=[e.exp,...e.args].map(e=>e.visit(this,t));return new V_(e.span,n,this._converterFactory.createPipeConverter(e.name,n.length))}visitLiteralArray(e,t){const n=e.expressions.map(e=>e.visit(this,t));return new V_(e.span,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,t){const n=e.values.map(e=>e.visit(this,t));return new V_(e.span,n,this._converterFactory.createLiteralMapConverter(e.keys))}}class $_{constructor(e,t,n,r,i){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=r,this.baseSourceSpan=i,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitBinary(e,t){let n;switch(e.operation){case"+":n=mm.Plus;break;case"-":n=mm.Minus;break;case"*":n=mm.Multiply;break;case"/":n=mm.Divide;break;case"%":n=mm.Modulo;break;case"&&":n=mm.And;break;case"||":n=mm.Or;break;case"==":n=mm.Equals;break;case"!=":n=mm.NotEquals;break;case"===":n=mm.Identical;break;case"!==":n=mm.NotIdentical;break;case"<":n=mm.Lower;break;case">":n=mm.Bigger;break;case"<=":n=mm.LowerEquals;break;case">=":n=mm.BiggerEquals;break;default:throw new Error(`Unsupported operation ${e.operation}`)}return L_(t,new Lm(n,this._visit(e.left,E_.Expression),this._visit(e.right,E_.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,t){return function(e,t){if(e!==E_.Statement)throw new Error(`Expected a statement, but saw ${t}`)}(t,e),this.visitAll(e.expressions,t)}visitConditional(e,t){return L_(t,this._visit(e.condition,E_.Expression).conditional(this._visit(e.trueExp,E_.Expression),this._visit(e.falseExp,E_.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,t){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitFunctionCall(e,t){const n=this.visitAll(e.args,E_.Expression);let r;return r=e instanceof V_?e.converter(n):this._visit(e.target,E_.Expression).callFn(n,this.convertSourceSpan(e.span)),L_(t,r)}visitImplicitReceiver(e,t){return F_(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitInterpolation(e,t){F_(t,e);const n=[wf(e.expressions.length)];for(let r=0;r<e.strings.length-1;r++)n.push(wf(e.strings[r])),n.push(this._visit(e.expressions[r],E_.Expression));return n.push(wf(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?mf(Jf.inlineInterpolate).callFn(n):mf(Jf.interpolate).callFn([n[0],yf(n.slice(1),void 0,this.convertSourceSpan(e.span))])}visitKeyedRead(e,t){const n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):L_(t,this._visit(e.obj,E_.Expression).key(this._visit(e.key,E_.Expression)))}visitKeyedWrite(e,t){const n=this._visit(e.obj,E_.Expression),r=this._visit(e.key,E_.Expression),i=this._visit(e.value,E_.Expression);return L_(t,n.key(r).set(i))}visitLiteralArray(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,t){const n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?hm:void 0;return L_(t,wf(e.value,n,this.convertSourceSpan(e.span)))}_getLocal(e){return this._localResolver.getLocal(e)}visitMethodCall(e,t){if(e.receiver instanceof Xv&&"$any"==e.name){const t=this.visitAll(e.args,E_.Expression);if(1!=t.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${t.length||"none"}`);return t[0].cast(cm,this.convertSourceSpan(e.span))}const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{const n=this.visitAll(e.args,E_.Expression),r=this.usesImplicitReceiver;let i=null;const s=this._visit(e.receiver,E_.Expression);if(s===this._implicitReceiver){const t=this._getLocal(e.name);t&&(this.usesImplicitReceiver=r,i=t.callFn(n))}return null==i&&(i=s.callMethod(e.name,n,this.convertSourceSpan(e.span))),L_(t,i)}}visitPrefixNot(e,t){return L_(t,(n=this._visit(e.expression,E_.Expression),new Pm(n,r)));var n,r}visitNonNullAssert(e,t){return L_(t,(n=this._visit(e.expression,E_.Expression),new Nm(n,r)));var n,r}visitPropertyRead(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{let n=null;const r=this.usesImplicitReceiver,i=this._visit(e.receiver,E_.Expression);return i===this._implicitReceiver&&(n=this._getLocal(e.name),n&&(this.usesImplicitReceiver=r)),null==n&&(n=i.prop(e.name)),L_(t,n)}}visitPropertyWrite(e,t){const n=this._visit(e.receiver,E_.Expression),r=this.usesImplicitReceiver;let i=null;if(n===this._implicitReceiver){const t=this._getLocal(e.name);if(t){if(!(t instanceof jm))throw new Error("Cannot assign to a reference or variable!");i=t,this.usesImplicitReceiver=r}}return null===i&&(i=n.prop(e.name)),L_(t,i.set(this._visit(e.value,E_.Expression)))}visitSafePropertyRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitSafeMethodCall(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitAll(e,t){return e.map(e=>this._visit(e,t))}visitQuote(e,t){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${e.uninterpretedExpression} located at ${e.location}`)}_visit(e,t){const n=this._resultMap.get(e);return n||(this._nodeMap.get(e)||e).visit(this,t)}convertSafeAccess(e,t,n){let r=this._visit(t.receiver,E_.Expression),i=void 0;this.needsTemporary(t.receiver)&&(i=this.allocateTemporary(),r=i.set(r),this._resultMap.set(t.receiver,i));const s=r.isBlank();t instanceof m_?this._nodeMap.set(t,new p_(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new e_(t.span,t.receiver,t.name));const o=this._visit(e,E_.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),L_(n,s.conditional(wf(null),o))}leftMostSafeNode(e){const t=(e,t)=>(this._nodeMap.get(t)||t).visit(e);return e.visit({visitBinary:e=>null,visitChain:e=>null,visitConditional:e=>null,visitFunctionCall:e=>null,visitImplicitReceiver:e=>null,visitInterpolation:e=>null,visitKeyedRead(e){return t(this,e.obj)},visitKeyedWrite:e=>null,visitLiteralArray:e=>null,visitLiteralMap:e=>null,visitLiteralPrimitive:e=>null,visitMethodCall(e){return t(this,e.receiver)},visitPipe:e=>null,visitPrefixNot:e=>null,visitNonNullAssert:e=>null,visitPropertyRead(e){return t(this,e.receiver)},visitPropertyWrite:e=>null,visitQuote:e=>null,visitSafeMethodCall(e){return t(this,e.receiver)||e},visitSafePropertyRead(e){return t(this,e.receiver)||e}})}needsTemporary(e){const t=(e,t)=>t&&(this._nodeMap.get(t)||t).visit(e);return e.visit({visitBinary(e){return t(this,e.left)||t(this,e.right)},visitChain:e=>!1,visitConditional(e){return t(this,e.condition)||t(this,e.trueExp)||t(this,e.falseExp)},visitFunctionCall:e=>!0,visitImplicitReceiver:e=>!1,visitInterpolation(e){return((e,n)=>n.some(n=>t(e,n)))(this,e.expressions)},visitKeyedRead:e=>!1,visitKeyedWrite:e=>!1,visitLiteralArray:e=>!0,visitLiteralMap:e=>!0,visitLiteralPrimitive:e=>!1,visitMethodCall:e=>!0,visitPipe:e=>!0,visitPrefixNot(e){return t(this,e.expression)},visitNonNullAssert(e){return t(this,e.expression)},visitPropertyRead:e=>!1,visitPropertyWrite:e=>!1,visitQuote:e=>!1,visitSafeMethodCall:e=>!0,visitSafePropertyRead:e=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new bm(R_(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=R_(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){const t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end);return new Mg(t,n)}return null}}class B_{notifyImplicitReceiverUse(){}getLocal(e){return e===T_.event.name?T_.event:null}}class V_ extends f_{constructor(e,t,n){super(e,null,t),this.args=t,this.converter=n}}class U_{constructor(){this.strictStyling=!0}shimCssText(e,t,n=""){const r=e.match(ab)||[];return e=function(e){return e.replace(ob,"")}(e),e=this._insertDirectives(e),[this._scopeCssText(e,t,n),...r].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_insertPolyfillDirectivesInCssText(e){return e.replace(H_,(function(...e){return e[2]+"{"}))}_insertPolyfillRulesInCssText(e){return e.replace(q_,(...e)=>{const t=e[0].replace(e[1],"").replace(e[2],"");return e[4]+t})}_scopeCssText(e,t,n){const r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}_extractUnscopedRulesFromCssText(e){let t,n="";for(W_.lastIndex=0;null!==(t=W_.exec(e));){n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return n}_convertColonHost(e){return this._convertColonRule(e,Y_,this._colonHostPartReplacer)}_convertColonHostContext(e){return this._convertColonRule(e,X_,this._colonHostContextPartReplacer)}_convertColonRule(e,t,n){return e.replace(t,(function(...e){if(e[2]){const t=e[2].split(","),r=[];for(let i=0;i<t.length;i++){const s=t[i].trim();if(!s)break;r.push(n(Z_,s,e[3]))}return r.join(",")}return Z_+e[3]}))}_colonHostContextPartReplacer(e,t,n){return t.indexOf(G_)>-1?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n}_colonHostPartReplacer(e,t,n){return e+t.replace(G_,"")+n}_convertShadowDOMSelectors(e){return eb.reduce((e,t)=>e.replace(t," "),e)}_scopeSelectors(e,t,n){return function(e,t){const n=function(e){const t=e.split(cb),n=[],r=[];let i=0,s=[];for(let o=0;o<t.length;o++){const e=t[o];"}"==e&&i--,i>0?s.push(e):(s.length>0&&(r.push(s.join("")),n.push("%BLOCK%"),s=[]),n.push(e)),"{"==e&&i++}s.length>0&&(r.push(s.join("")),n.push("%BLOCK%"));return new ub(n.join(""),r)}(e);let r=0;return n.escapedString.replace(lb,(function(...e){const i=e[2];let s="",o=e[4],a="";o&&o.startsWith("{%BLOCK%")&&(s=n.blocks[r++],o=o.substring("%BLOCK%".length+1),a="{");const l=t(new hb(i,s));return`${e[1]}${l.selector}${e[3]}${a}${l.content}${o}`}))}(e,e=>{let r=e.selector,i=e.content;return"@"!=e.selector[0]?r=this._scopeSelector(e.selector,t,n,this.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(i=this._scopeSelectors(e.content,t,n)),new hb(r,i)})}_scopeSelector(e,t,n,r){return e.split(",").map(e=>e.trim().split(tb)).map(e=>{const[i,...s]=e;return[(e=>this._selectorNeedsScoping(e,t)?r?this._applyStrictSelectorScope(e,t,n):this._applySelectorScope(e,t,n):e)(i),...s].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+nb,"m")}_applySelectorScope(e,t,n){return this._applySimpleSelectorScope(e,t,n)}_applySimpleSelectorScope(e,t,n){if(rb.lastIndex=0,rb.test(e)){const r=this.strictStyling?`[${n}]`:t;return e.replace(J_,(e,t)=>t.replace(/([^:]*)(:*)(.*)/,(e,t,n,i)=>t+r+n+i)).replace(rb,r+" ")}return t+" "+e}_applyStrictSelectorScope(e,t,n){const r="["+(t=t.replace(/\[is=([^\]]*)\]/g,(e,...t)=>t[0]))+"]",i=e=>{let i=e.trim();if(!i)return"";if(e.indexOf(Z_)>-1)i=this._applySimpleSelectorScope(e,t,n);else{const t=e.replace(rb,"");if(t.length>0){const e=t.match(/([^:]*)(:*)(.*)/);e&&(i=e[1]+r+e[2]+e[3])}}return i},s=new z_(e);let o,a="",l=0;const c=/( |>|\+|~(?!=))\s*/g;let h=!((e=s.content()).indexOf(Z_)>-1);for(;null!==(o=c.exec(e));){const t=o[1],n=e.slice(l,o.index).trim();h=h||n.indexOf(Z_)>-1,a+=`${h?i(n):n} ${t} `,l=c.lastIndex}const u=e.substring(l);return h=h||u.indexOf(Z_)>-1,a+=h?i(u):u,s.restore(a)}_insertPolyfillHostInCssText(e){return e.replace(sb,Q_).replace(ib,G_)}}class z_{constructor(e){this.placeholders=[],this.index=0,e=e.replace(/(\[[^\]]*\])/g,(e,t)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(t),this.index++,n}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(e,t,n)=>{const r=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,t+r})}restore(e){return e.replace(/__ph-(\d+)__/g,(e,t)=>this.placeholders[+t])}content(){return this._content}}const H_=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,q_=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,W_=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,G_="-shadowcsshost",Q_="-shadowcsscontext",K_=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Y_=new RegExp("("+G_+K_,"gim"),X_=new RegExp("("+Q_+K_,"gim"),Z_=G_+"-no-combinator",J_=/-shadowcsshost-no-combinator([^\s]*)/,eb=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],tb=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,nb="([>\\s~+[.,{:][\\s\\S]*)?$",rb=/-shadowcsshost/gim,ib=/:host/gim,sb=/:host-context/gim,ob=/\/\*\s*[\s\S]*?\*\//g;const ab=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const lb=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,cb=/([{}])/g;class hb{constructor(e,t){this.selector=e,this.content=t}}class ub{constructor(e,t){this.escapedString=e,this.blocks=t}}class db{constructor(e,t,n){this.name=e,this.moduleUrl=t,this.setValue=n}}class pb{constructor(e,t,n,r,i){this.outputCtx=e,this.stylesVar=t,this.dependencies=n,this.isShimmed=r,this.meta=i}}class mb{constructor(e){this._urlResolver=e,this._shadowCss=new U_}compileComponent(e,t){const n=t.template;return this._compileStyles(e,t,new fg({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:lg(t.type)}),this.needsStyleShim(t),!0)}compileStyles(e,t,n,r=this.needsStyleShim(t)){return this._compileStyles(e,t,n,r,!1)}needsStyleShim(e){return e.template.encapsulation===Rp.Emulated}_compileStyles(e,t,n,r,i){const s=n.styles.map(e=>wf(this._shimIfNeeded(e,r))),o=[];n.styleUrls.forEach(t=>{const n=s.length;s.push(null),o.push(new db(fb(null),t,t=>s[n]=e.importExpr(t)))});const a=fb(i?t:null),l=pf(a).set(yf(s,new am(cm,[nm.Const]))).toDeclStmt(null,i?[Wm.Final]:[Wm.Final,Wm.Exported]);return e.statements.push(l),new pb(e,a,o,r,n)}_shimIfNeeded(e,t){return t?this._shadowCss.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%"):e}}function fb(e){let t="styles";return e&&(t+=`_${ag(e.type)}`),t}class gb{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e,t){return e.visitText(this,t)}}class yb{constructor(e,t,n,r,i,s){this.switchValue=e,this.type=t,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i,this.i18n=s}visit(e,t){return e.visitExpansion(this,t)}}class vb{constructor(e,t,n,r,i){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}visit(e,t){return e.visitExpansionCase(this,t)}}class _b{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}visit(e,t){return e.visitAttribute(this,t)}}class bb{constructor(e,t,n,r,i=null,s=null,o){this.name=e,this.attrs=t,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=s,this.i18n=o}visit(e,t){return e.visitElement(this,t)}}class wb{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}}function Cb(e,t,n=null){const r=[],i=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=i(e);t&&r.push(t)}),r}var Eb;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_QUOTE=12]="ATTR_QUOTE",e[e.ATTR_VALUE=13]="ATTR_VALUE",e[e.DOC_TYPE=14]="DOC_TYPE",e[e.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",e[e.EOF=20]="EOF"}(Eb||(Eb={}));class Sb{constructor(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}}class xb extends jg{constructor(e,t,n){super(n,e),this.tokenType=t}}class kb{constructor(e,t){this.tokens=e,this.errors=t}}const Tb=/\r\n?/g;function Ob(e){return`Unexpected character "${0===e?"EOF":String.fromCharCode(e)}"`}function Ab(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}class Ib{constructor(e){this.error=e}}class Db{constructor(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||xv,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(e=>e.codePointAt(0)||0);const r=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new jb(e,r):new Lb(e,r);try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return e.replace(Tb,"\n")}tokenize(){for(;0!==this._cursor.peek();){const t=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(t):this._attemptCharCode(45)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(47)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(Eb.EOF),this._endToken([]),new kb(function(e){const t=[];let n=void 0;for(let r=0;r<e.length;r++){const i=e[r];n&&n.type==Eb.TEXT&&i.type==Eb.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,t.push(n))}return t}(this.tokens),this.errors)}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if((61===(e=this._cursor.peek())||Ig(e)||Ag(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t=this._cursor.clone()){if(null===this._currentTokenStart)throw new xb("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new xb("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const n=new Sb(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new xb(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Ib(n)}handleError(e){if(e instanceof $b&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof Ib))throw e;this.errors.push(e.error)}_attemptCharCode(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(e){return t=this._cursor.peek(),n=e,Fb(t)==Fb(n)&&(this._cursor.advance(),!0);var t,n}_requireCharCode(e){const t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Ob(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){const t=e.length;if(this._cursor.charsLeft()<t)return!1;const n=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){const t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Ob(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.clone().diff(n)<t)throw this._createError(Ob(this._cursor.peek()),this._cursor.getSpan(n))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(e){if(e&&38===this._cursor.peek())return this._decodeEntity();{const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}}_decodeEntity(){const e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){const t=this._cursor.clone();if(this._attemptCharCodeUntilFn(Mb),59!=this._cursor.peek())return this._cursor=t,"&";const n=this._cursor.getChars(t);this._cursor.advance();const r=gp[n];if(!r)throw this._createError(Ab(n),this._cursor.getSpan(e));return r}{const n=this._attemptCharCode(120)||this._attemptCharCode(88),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Rb),59!=this._cursor.peek())throw this._createError(Ob(this._cursor.peek()),this._cursor.getSpan());const i=this._cursor.getChars(r);this._cursor.advance();try{const e=parseInt(i,n?16:10);return String.fromCharCode(e)}catch(t){throw this._createError(Ab(this._cursor.getChars(e)),this._cursor.getSpan())}}}_consumeRawText(e,t){this._beginToken(e?Eb.ESCAPABLE_RAW_TEXT:Eb.RAW_TEXT);const n=[];for(;;){const r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}_consumeComment(e){this._beginToken(Eb.COMMENT_START,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(Eb.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(e){this._beginToken(Eb.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(Eb.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(Eb.DOC_TYPE,e);const t=this._cursor.clone();this._attemptUntilChar(62);const n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}_consumePrefixAndName(){const e=this._cursor.clone();let t="";for(;58!==this._cursor.peek()&&!(((n=this._cursor.peek())<97||122<n)&&(n<65||90<n)&&(n<48||n>57));)this._cursor.advance();var n;let r;return 58===this._cursor.peek()?(t=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(Nb,""===t?0:1),[t,this._cursor.getChars(r)]}_consumeTagOpen(e){let t,n,r,i=this.tokens.length;const s=this._cursor.clone();try{if(!Ig(this._cursor.peek()))throw this._createError(Ob(this._cursor.peek()),this._cursor.getSpan(e));for(r=this._consumeTagOpenStart(e),n=r.parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(Pb);47!==this._cursor.peek()&&62!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Pb),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(Pb),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Pb);this._consumeTagOpenEnd()}catch(a){if(a instanceof Ib)return this._cursor=s,r&&(this.tokens.length=i),this._beginToken(Eb.TEXT,e),void this._endToken(["<"]);throw a}const o=this._getTagDefinition(t).contentType;o===cp.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):o===cp.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}_consumeRawTextWithTagClose(e,t,n){this._consumeRawText(n,()=>!!this._attemptCharCode(60)&&(!!this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(Pb),!!this._attemptStrCaseInsensitive(t)&&(this._attemptCharCodeUntilFn(Pb),this._attemptCharCode(62)))));this._beginToken(Eb.TAG_CLOSE),this._requireCharCodeUntilFn(e=>62===e,3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken(Eb.TAG_OPEN_START,e);const t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){const e=this._cursor.peek();if(39===e||34===e)throw this._createError(Ob(e),this._cursor.getSpan());this._beginToken(Eb.ATTR_NAME);const t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){let e;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(Eb.ATTR_QUOTE);const t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(Eb.ATTR_VALUE);const n=[];for(;this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(Eb.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(Eb.ATTR_VALUE);const t=this._cursor.clone();this._requireCharCodeUntilFn(Nb,1),e=this._cursor.getChars(t),this._endToken([this._processCarriageReturns(e)])}}_consumeTagOpenEnd(){const e=this._attemptCharCode(47)?Eb.TAG_OPEN_END_VOID:Eb.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])}_consumeTagClose(e){this._beginToken(Eb.TAG_CLOSE,e),this._attemptCharCodeUntilFn(Pb);const t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Pb),this._requireCharCode(62),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(Eb.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(Eb.EXPANSION_FORM_START),this._beginToken(Eb.RAW_TEXT);const e=this._readUntil(44);this._endToken([e]),this._requireCharCode(44),this._attemptCharCodeUntilFn(Pb),this._beginToken(Eb.RAW_TEXT);const t=this._readUntil(44);this._endToken([t]),this._requireCharCode(44),this._attemptCharCodeUntilFn(Pb)}_consumeExpansionCaseStart(){this._beginToken(Eb.EXPANSION_CASE_VALUE);const e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Pb),this._beginToken(Eb.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(Pb),this._expansionCaseStack.push(Eb.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(Eb.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(Pb),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(Eb.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const e=this._cursor.clone();this._beginToken(Eb.TEXT,e);const t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}_isTextEnd(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}_readUntil(e){const t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Eb.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Eb.EXPANSION_FORM_START}isExpansionFormStart(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){const e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}function Pb(e){return!Og(e)||0===e}function Nb(e){return Og(e)||62===e||47===e||39===e||34===e||61===e}function Rb(e){return 59==e||0==e||!function(e){return e>=97&&e<=102||e>=65&&e<=70||Ag(e)}(e)}function Mb(e){return 59==e||0==e||!Ig(e)}function Fb(e){return e>=97&&e<=122?e-97+65:e}class Lb{constructor(e,t){if(e instanceof Lb)this.file=e.file,this.input=e.input,this.end=e.end,this.state=Object.assign({},e.state);else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new Lb(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){if(e=e||this,t)for(e=e.clone();this.diff(e)>0&&-1!==t.indexOf(e.peek());)e.advance();return new Mg(new Ng(e.file,e.state.offset,e.state.line,e.state.column),new Ng(this.file,this.state.offset,this.state.line,this.state.column))}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new $b('Unexpected character "EOF"',this);const t=this.charAt(e.offset);10===t?(e.line++,e.column=0):Dg(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}}class jb extends Lb{constructor(e,t){e instanceof jb?(super(e),this.internalState=Object.assign({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new jb(this)}getChars(e){const t=e.clone();let n="";for(;t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}processEscapeSequence(){const e=()=>this.internalState.peek;if(92===e())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===e())this.state.peek=10;else if(114===e())this.state.peek=13;else if(118===e())this.state.peek=11;else if(116===e())this.state.peek=9;else if(98===e())this.state.peek=8;else if(102===e())this.state.peek=12;else if(117===e())if(this.advanceState(this.internalState),123===e()){this.advanceState(this.internalState);const t=this.clone();let n=0;for(;125!==e();)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(t,n)}else{const e=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,4)}else if(120===e()){this.advanceState(this.internalState);const e=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,2)}else if(Pg(e())){let t="",n=0,r=this.clone();for(;Pg(e())&&n<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else Dg(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){const n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new $b("Invalid hexadecimal escape sequence",e);return r}}class $b{constructor(e,t){this.msg=e,this.cursor=t}}class Bb extends jg{constructor(e,t,n){super(t,n),this.elementName=e}static create(e,t,n){return new Bb(e,t,n)}}class Vb{constructor(e,t){this.rootNodes=e,this.errors=t}}class Ub{constructor(e){this.getTagDefinition=e}parse(e,t,n){const r=function(e,t,n,r={}){return new Db(new Rg(e,t),n,r).tokenize()}(e,t,this.getTagDefinition,n),i=new zb(r.tokens,this.getTagDefinition).build();return new Vb(i.rootNodes,r.errors.concat(i.errors))}}class zb{constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}build(){for(;this._peek.type!==Eb.EOF;)this._peek.type===Eb.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Eb.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Eb.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Eb.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Eb.TEXT||this._peek.type===Eb.RAW_TEXT||this._peek.type===Eb.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Eb.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Vb(this._rootNodes,this._errors)}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(Eb.CDATA_END)}_consumeComment(e){const t=this._advanceIf(Eb.RAW_TEXT);this._advanceIf(Eb.COMMENT_END);const n=null!=t?t.parts[0].trim():null;this._addToParent(new wb(n,e.sourceSpan))}_consumeExpansion(e){const t=this._advance(),n=this._advance(),r=[];for(;this._peek.type===Eb.EXPANSION_CASE_VALUE;){const e=this._parseExpansionCase();if(!e)return;r.push(e)}if(this._peek.type!==Eb.EXPANSION_FORM_END)return void this._errors.push(Bb.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const i=new Mg(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new yb(t.parts[0],n.parts[0],r,i,t.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(this._peek.type!==Eb.EXPANSION_CASE_EXP_START)return this._errors.push(Bb.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;const r=this._advance();n.push(new Sb(Eb.EOF,[],r.sourceSpan));const i=new zb(n,this.getTagDefinition).build();if(i.errors.length>0)return this._errors=this._errors.concat(i.errors),null;const s=new Mg(e.sourceSpan.start,r.sourceSpan.end),o=new Mg(t.sourceSpan.start,r.sourceSpan.end);return new vb(e.parts[0],i.rootNodes,s,e.sourceSpan,o)}_collectExpansionExpTokens(e){const t=[],n=[Eb.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==Eb.EXPANSION_FORM_START&&this._peek.type!==Eb.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===Eb.EXPANSION_CASE_EXP_END){if(!Hb(n,Eb.EXPANSION_CASE_EXP_START))return this._errors.push(Bb.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===Eb.EXPANSION_FORM_END){if(!Hb(n,Eb.EXPANSION_FORM_START))return this._errors.push(Bb.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===Eb.EOF)return this._errors.push(Bb.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=e.parts[0];if(t.length>0&&"\n"==t[0]){const e=this._getParentElement();null!=e&&0==e.children.length&&this.getTagDefinition(e.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new gb(t,e.sourceSpan))}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const t=e.parts[0],n=e.parts[1],r=[];for(;this._peek.type===Eb.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));const i=this._getElementFullName(t,n,this._getParentElement());let s=!1;if(this._peek.type===Eb.TAG_OPEN_END_VOID){this._advance(),s=!0;const t=this.getTagDefinition(i);t.canSelfClose||null!==mp(i)||t.isVoid||this._errors.push(Bb.create(i,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===Eb.TAG_OPEN_END&&(this._advance(),s=!1);const o=this._peek.sourceSpan.start,a=new Mg(e.sourceSpan.start,o),l=new bb(i,r,[],a,a,void 0);this._pushElement(l),s&&(this._popElement(i),l.endSourceSpan=a)}_pushElement(e){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid)this._errors.push(Bb.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popElement(t)){const n=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this._errors.push(Bb.create(t,e.sourceSpan,n))}}_popElement(e){for(let t=this._elementStack.length-1;t>=0;t--){const n=this._elementStack[t];if(n.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1}_consumeAttr(e){const t=fp(e.parts[0],e.parts[1]);let n=e.sourceSpan.end,r="",i=void 0;if(this._peek.type===Eb.ATTR_QUOTE&&this._advance(),this._peek.type===Eb.ATTR_VALUE){const e=this._advance();r=e.parts[0],n=e.sourceSpan.end,i=e.sourceSpan}if(this._peek.type===Eb.ATTR_QUOTE){n=this._advance().sourceSpan.end}return new _b(t,r,new Mg(e.sourceSpan.start,n),i)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_getParentElementSkippingContainers(){let e=null;for(let t=this._elementStack.length-1;t>=0;t--){if(!up(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}}_addToParent(e){const t=this._getParentElement();null!=t?t.children.push(e):this._rootNodes.push(e)}_insertBeforeContainer(e,t,n){if(t){if(e){const r=e.children.indexOf(t);e.children[r]=n}else this._rootNodes.push(n);n.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,n)}else this._addToParent(n),this._elementStack.push(n)}_getElementFullName(e,t,n){return""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n&&(e=mp(n.name)),fp(e,t)}}function Hb(e,t){return e.length>0&&e[e.length-1]===t}class qb extends Ub{constructor(){super(bp)}parse(e,t,n){return super.parse(e,t,n)}}const Wb=new Set(["pre","template","textarea","script","style"]),Gb=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",Qb=new RegExp(`[^${Gb}]`),Kb=new RegExp(`[${Gb}]{2,}`,"g");function Yb(e){return e.replace(new RegExp("\ue500","g")," ")}class Xb{visitElement(e,t){return Wb.has(e.name)||e.attrs.some(e=>"ngPreserveWhitespaces"===e.name)?new bb(e.name,Cb(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new bb(e.name,e.attrs,Cb(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,t){return"ngPreserveWhitespaces"!==e.name?e:null}visitText(e,t){return e.value.match(Qb)?new gb(Yb(e.value).replace(Kb," "),e.sourceSpan,e.i18n):null}visitComment(e,t){return e}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}}function Zb(e){return new Vb(Cb(new Xb,e.rootNodes),e.errors)}const Jb=["zero","one","two","few","many","other"];function ew(e){const t=new rw;return new tw(Cb(t,e),t.isExpanded,t.errors)}class tw{constructor(e,t,n){this.nodes=e,this.expanded=t,this.errors=n}}class nw extends jg{constructor(e,t){super(e,t)}}class rw{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(e,t){return new bb(e.name,e.attrs,Cb(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitAttribute(e,t){return e}visitText(e,t){return e}visitComment(e,t){return e}visitExpansion(e,t){return this.isExpanded=!0,"plural"==e.type?function(e,t){const n=e.cases.map(e=>{-1!=Jb.indexOf(e.value)||e.value.match(/^=\d+$/)||t.push(new nw(e.valueSourceSpan,`Plural cases should be "=<number>" or one of ${Jb.join(", ")}`));const n=ew(e.expression);return t.push(...n.errors),new bb("ng-template",[new _b("ngPluralCase",`${e.value}`,e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new _b("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new bb("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors):function(e,t){const n=e.cases.map(e=>{const n=ew(e.expression);return t.push(...n.errors),"other"===e.value?new bb("ng-template",[new _b("ngSwitchDefault","",e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new bb("ng-template",[new _b("ngSwitchCase",`${e.value}`,e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new _b("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new bb("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors)}visitExpansionCase(e,t){throw new Error("Should not be reached")}}class iw{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitText(this,t)}}class sw{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitBoundText(this,t)}}class ow{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}visit(e,t){return e.visitAttr(this,t)}}const aw={4:4,1:1,2:2,0:0,3:3};class lw{constructor(e,t,n,r,i,s){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.isAnimation=4===this.type}static fromBoundProperty(e){const t=aw[e.type];return new lw(e.name,t,e.securityContext,e.value,e.unit,e.sourceSpan)}visit(e,t){return e.visitElementProperty(this,t)}}class cw{constructor(e,t,n,r,i,s){this.name=e,this.target=t,this.phase=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s,this.fullName=cw.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(e,t,n){return t?`${t}:${e}`:n?`@${e}.${n}`:e}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new cw(e.name,t,n,e.handler,e.sourceSpan,e.handlerSpan)}visit(e,t){return e.visitEvent(this,t)}}class hw{constructor(e,t,n,r){this.name=e,this.value=t,this.originalValue=n,this.sourceSpan=r}visit(e,t){return e.visitReference(this,t)}}class uw{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}static fromParsedVariable(e){return new uw(e.name,e.value,e.sourceSpan)}visit(e,t){return e.visitVariable(this,t)}}class dw{constructor(e,t,n,r,i,s,o,a,l,c,h,u,d){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.references=i,this.directives=s,this.providers=o,this.hasViewContainer=a,this.queryMatches=l,this.children=c,this.ngContentIndex=h,this.sourceSpan=u,this.endSourceSpan=d}visit(e,t){return e.visitElement(this,t)}}class pw{constructor(e,t,n,r,i,s,o,a,l,c,h){this.attrs=e,this.outputs=t,this.references=n,this.variables=r,this.directives=i,this.providers=s,this.hasViewContainer=o,this.queryMatches=a,this.children=l,this.ngContentIndex=c,this.sourceSpan=h}visit(e,t){return e.visitEmbeddedTemplate(this,t)}}class mw{constructor(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}visit(e,t){return e.visitDirectiveProperty(this,t)}}class fw{constructor(e,t,n,r,i,s){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=s}visit(e,t){return e.visitDirective(this,t)}}class gw{constructor(e,t,n,r,i,s,o,a){this.token=e,this.multiProvider=t,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=a}visit(e,t){return null}}var yw;!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(yw||(yw={}));class vw{constructor(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitNgContent(this,t)}}function _w(e,t,n=null){const r=[],i=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=i(e);t&&r.push(t)}),r}class bw extends jg{constructor(e,t){super(t,e)}}class ww{constructor(e,t){this.reflector=e,this.component=t,this.errors=[],this.viewQueries=function(e){let t=1;const n=new Map;e.viewQueries&&e.viewQueries.forEach(e=>Tw(n,{meta:e,queryId:t++}));return n}(t),this.viewProviders=new Map,t.viewProviders.forEach(e=>{null==this.viewProviders.get(mg(e.token))&&this.viewProviders.set(mg(e.token),!0)})}}class Cw{constructor(e,t,n,r,i,s,o,a,l){this.viewContext=e,this._parent=t,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=l,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(e=>this._attrs[e.name]=e.value);const c=r.map(e=>e.directive);if(this._allProviders=function(e,t,n){const r=new Map;return e.forEach(e=>{kw([{token:{identifier:e.type},useClass:e.type}],e.isComponent?yw.Component:yw.Directive,!0,t,n,r,!1)}),e.filter(e=>e.isComponent).concat(e.filter(e=>!e.isComponent)).forEach(e=>{kw(e.providers,yw.PublicService,!1,t,n,r,!1),kw(e.viewProviders,yw.PrivateService,!1,t,n,r,!1)}),r}(c,l,e.errors),this._contentQueries=function(e,t){let n=e;const r=new Map;return t.forEach((e,t)=>{e.queries&&e.queries.forEach(e=>Tw(r,{meta:e,queryId:n++}))}),r}(a,c),Array.from(this._allProviders.values()).forEach(e=>{this._addQueryReadsTo(e.token,e.token,this._queriedTokens)}),o){const e=tg(this.viewContext.reflector,Jf.TemplateRef);this._addQueryReadsTo(e,e,this._queriedTokens)}s.forEach(e=>{let t=e.value||tg(this.viewContext.reflector,Jf.ElementRef);this._addQueryReadsTo({value:e.name},t,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Jf.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(e=>{(e.eager||this._queriedTokens.get(mg(e.token)))&&this._getOrCreateLocalProvider(e.providerType,e.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.providerType,e.token,!1)})}get transformProviders(){const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}get transformedDirectiveAsts(){const e=this.transformProviders.map(e=>e.token.identifier),t=this._directiveAsts.slice();return t.sort((t,n)=>e.indexOf(t.directive.type)-e.indexOf(n.directive.type)),t}get queryMatches(){const e=[];return this._queriedTokens.forEach(t=>{e.push(...t)}),e}_addQueryReadsTo(e,t,n){this._getQueriesFor(e).forEach(e=>{const r=e.meta.read||t,i=mg(r);let s=n.get(i);s||(s=[],n.set(i,s)),s.push({queryId:e.queryId,value:r})})}_getQueriesFor(e){const t=[];let n,r=this,i=0;for(;null!==r;)n=r._contentQueries.get(mg(e)),n&&t.push(...n.filter(e=>e.meta.descendants||i<=1)),r._directiveAsts.length>0&&i++,r=r._parent;return n=this.viewContext.viewQueries.get(mg(e)),n&&t.push(...n),t}_getOrCreateLocalProvider(e,t,n){const r=this._allProviders.get(mg(t));if(!r||(e===yw.Directive||e===yw.PublicService)&&r.providerType===yw.PrivateService||(e===yw.PrivateService||e===yw.PublicService)&&r.providerType===yw.Builtin)return null;let i=this._transformedProviders.get(mg(t));if(i)return i;if(null!=this._seenProviders.get(mg(t)))return this.viewContext.errors.push(new bw(`Cannot instantiate cyclic dependency! ${pg(t)}`,this._sourceSpan)),null;this._seenProviders.set(mg(t),!0);const s=r.providers.map(e=>{let t=e.useValue,i=e.useExisting,s=void 0;if(null!=e.useExisting){const s=this._getDependency(r.providerType,{token:e.useExisting},n);null!=s.token?i=s.token:(i=null,t=s.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(r.providerType,e,n))}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(r.providerType,e,n))}return Sw(e,{useExisting:i,useValue:t,deps:s})});return i=xw(r,{eager:n,providers:s}),this._transformedProviders.set(mg(t),i),i}_getLocalDependency(e,t,n=!1){if(t.isAttribute){const e=this._attrs[t.token.value];return{isValue:!0,value:null==e?null:e}}if(null!=t.token){if(e===yw.Directive||e===yw.Component){if(mg(t.token)===this.viewContext.reflector.resolveExternalReference(Jf.Renderer)||mg(t.token)===this.viewContext.reflector.resolveExternalReference(Jf.ElementRef)||mg(t.token)===this.viewContext.reflector.resolveExternalReference(Jf.ChangeDetectorRef)||mg(t.token)===this.viewContext.reflector.resolveExternalReference(Jf.TemplateRef))return t;mg(t.token)===this.viewContext.reflector.resolveExternalReference(Jf.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(mg(t.token)===this.viewContext.reflector.resolveExternalReference(Jf.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}_getDependency(e,t,n=!1){let r=this,i=n,s=null;if(t.isSkipSelf||(s=this._getLocalDependency(e,t,n)),t.isSelf)!s&&t.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&r._parent;){const e=r;r=r._parent,e._isViewRoot&&(i=!1),s=r._getLocalDependency(yw.PublicService,t,i)}s||(s=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===mg(t.token)||null!=this.viewContext.viewProviders.get(mg(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new bw(`No provider for ${pg(t.token)}`,this._sourceSpan)),s}}class Ew{constructor(e,t,n,r){this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(e=>{kw([{token:{identifier:e},useClass:e}],yw.PublicService,!0,r,this._errors,this._allProviders,!0)}),kw(t.transitiveModule.providers.map(e=>e.provider).concat(n),yw.PublicService,!1,r,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){const e=this._errors.join("\n");throw new Error(`Provider parse errors:\n${e}`)}const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}_getOrCreateLocalProvider(e,t){const n=this._allProviders.get(mg(e));if(!n)return null;let r=this._transformedProviders.get(mg(e));if(r)return r;if(null!=this._seenProviders.get(mg(e)))return this._errors.push(new bw(`Cannot instantiate cyclic dependency! ${pg(e)}`,n.sourceSpan)),null;this._seenProviders.set(mg(e),!0);const i=n.providers.map(e=>{let r=e.useValue,i=e.useExisting,s=void 0;if(null!=e.useExisting){const s=this._getDependency({token:e.useExisting},t,n.sourceSpan);null!=s.token?i=s.token:(i=null,r=s.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}return Sw(e,{useExisting:i,useValue:r,deps:s})});return r=xw(n,{eager:t,providers:i}),this._transformedProviders.set(mg(e),r),r}_getDependency(e,t=!1,n){let r=!1;return e.isSkipSelf||null==e.token||(mg(e.token)===this.reflector.resolveExternalReference(Jf.Injector)||mg(e.token)===this.reflector.resolveExternalReference(Jf.ComponentFactoryResolver)?r=!0:null!=this._getOrCreateLocalProvider(e.token,t)&&(r=!0)),e}}function Sw(e,{useExisting:t,useValue:n,deps:r}){return{token:e.token,useClass:e.useClass,useExisting:t,useFactory:e.useFactory,useValue:n,deps:r,multi:e.multi}}function xw(e,{eager:t,providers:n}){return new gw(e.token,e.multiProvider,e.eager||t,n,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function kw(e,t,n,r,i,s,o){e.forEach(e=>{let a=s.get(mg(e.token));if(null!=a&&!!a.multiProvider!=!!e.multi&&i.push(new bw(`Mixing multi and non multi provider is not possible for token ${pg(a.token)}`,r)),a)e.multi||(a.providers.length=0),a.providers.push(e);else{const i=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],l=!(e.useClass||e.useExisting||e.useFactory);a=new gw(e.token,!!e.multi,n||l,[e],t,i,r,o),s.set(mg(e.token),a)}})}function Tw(e,t){t.meta.selectors.forEach(n=>{let r=e.get(mg(n));r||(r=[],e.set(mg(n),r)),r.push(t)})}class Ow{constructor(e,t){this.style=e,this.styleUrls=t}}function Aw(e){if(null==e||0===e.length||"/"==e[0])return!1;const t=e.match(Pw);return null===t||"package"==t[1]||"asset"==t[1]}const Iw=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,Dw=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,Pw=/^([^:/?#]+):/;class Nw{constructor(e,t,n,r,i){if(this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r){const e=new Map;r.forEach(t=>e.set(t.name,t)),this.pipesByName=e}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(e,t){if(e.hostProperties){const n=[];return Object.keys(e.hostProperties).forEach(r=>{const i=e.hostProperties[r];"string"==typeof i?this.parsePropertyBinding(r,i,!0,t,t.start.offset,void 0,[],n):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}),n}return null}createDirectiveHostPropertyAsts(e,t,n){const r=this.createBoundHostProperties(e,n);return r&&r.map(e=>this.createBoundElementProperty(t,e))}createDirectiveHostEventAsts(e,t){if(e.hostListeners){const n=[];return Object.keys(e.hostListeners).forEach(r=>{const i=e.hostListeners[r];"string"==typeof i?this.parseEvent(r,i,t,t,[],n):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}),n}return null}parseInterpolation(e,t){const n=t.start.toString();try{const r=this._exprParser.parseInterpolation(e,n,t.start.offset,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,t.start.offset)}}parseInlineTemplateBinding(e,t,n,r,i,s,o){const a=this._parseTemplateBindings(e,t,n);for(let l=0;l<a.length;l++){const e=a[l];e.keyIsVar?o.push(new x_(e.key,e.name,n)):e.expression?this._parsePropertyAst(e.key,e.expression,n,void 0,i,s):(i.push([e.key,""]),this.parseLiteralAttr(e.key,null,n,r,void 0,i,s))}}_parseTemplateBindings(e,t,n){const r=n.start.toString();try{const i=this._exprParser.parseTemplateBindings(e,t,r,n.start.offset);return this._reportExpressionParserErrors(i.errors,n),i.templateBindings.forEach(e=>{e.expression&&this._checkPipes(e.expression,n)}),i.warnings.forEach(e=>{this._reportError(e,n,Lg.WARNING)}),i.templateBindings}catch(i){return this._reportError(`${i}`,n),[]}}parseLiteralAttr(e,t,n,r,i,s,o){Mw(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Lg.ERROR),this._parseAnimation(e,t,n,r,i,s,o)):o.push(new b_(e,this._exprParser.wrapLiteralPrimitive(t,"",r),w_.LITERAL_ATTR,n,i))}parsePropertyBinding(e,t,n,r,i,s,o,a){let l=!1;e.startsWith("animate-")?(l=!0,e=e.substring("animate-".length)):Mw(e)&&(l=!0,e=e.substring(1)),l?this._parseAnimation(e,t,r,i,s,o,a):this._parsePropertyAst(e,this._parseBinding(t,n,s||r,i),r,s,o,a)}parsePropertyInterpolation(e,t,n,r,i,s){const o=this.parseInterpolation(t,r||n);return!!o&&(this._parsePropertyAst(e,o,n,r,i,s),!0)}_parsePropertyAst(e,t,n,r,i,s){i.push([e,t.source]),s.push(new b_(e,t,w_.DEFAULT,n,r))}_parseAnimation(e,t,n,r,i,s,o){const a=this._parseBinding(t||"undefined",!1,i||n,r);s.push([e,a.source]),o.push(new b_(e,a,w_.ANIMATION,n,i))}_parseBinding(e,t,n,r){const i=(n&&n.start||"(unknown)").toString();try{const s=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,n),this._checkPipes(s,n),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,t,n=!1,r=!0){if(t.isAnimation)return new k_(t.name,4,Xp.NONE,t.expression,null,t.sourceSpan,t.valueSpan);let i=null,s=void 0,o=null;const a=t.name.split(".");let l=void 0;if(a.length>1)if("attr"==a[0]){o=a[1],n||this._validatePropertyOrAttributeName(o,t.sourceSpan,!0),l=Fw(this._schemaRegistry,e,o,!0);const r=o.indexOf(":");if(r>-1){const e=o.substring(0,r),t=o.substring(r+1);o=fp(e,t)}s=1}else"class"==a[0]?(o=a[1],s=2,l=[Xp.NONE]):"style"==a[0]&&(i=a.length>2?a[2]:null,o=a[1],s=3,l=[Xp.STYLE]);if(null===o){const i=this._schemaRegistry.getMappedPropName(t.name);o=r?i:t.name,l=Fw(this._schemaRegistry,e,i,!1),s=0,n||this._validatePropertyOrAttributeName(i,t.sourceSpan,!1)}return new k_(o,s,l[0],t.expression,i,t.sourceSpan,t.valueSpan)}parseEvent(e,t,n,r,i,s){Mw(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r,s)):this._parseRegularEvent(e,t,n,r,i,s)}calcPossibleSecurityContexts(e,t,n){const r=this._schemaRegistry.getMappedPropName(t);return Fw(this._schemaRegistry,e,r,n)}_parseAnimationEvent(e,t,n,r,i){const s=xf(e,".",[e,""]);const o=s[0],a=s[1].toLowerCase();if(a)switch(a){case"start":case"done":const e=this._parseAction(t,r);i.push(new S_(o,a,1,e,n,r));break;default:this._reportError(`The provided animation output phase value "${a}" for "@${o}" is not supported (use start or done)`,n)}else this._reportError(`The animation trigger output event (@${o}) is missing its phase value name (start or done are currently supported)`,n)}_parseRegularEvent(e,t,n,r,i,s){const[o,a]=Sf(e,[null,e]),l=this._parseAction(t,r);i.push([e,l.source]),s.push(new S_(a,o,0,l,n,r))}_parseAction(e,t){const n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{const i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof Yv?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(i){return this._reportError(`${i}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,t,n=Lg.ERROR){this.errors.push(new jg(t,e,n))}_reportExpressionParserErrors(e,t){for(const n of e)this._reportError(n.message,t)}_checkPipes(e,t){if(e&&this.pipesByName){const n=new Rw;e.visit(n),n.pipes.forEach((e,n)=>{const r=this.pipesByName.get(n);r?this._usedPipes.set(n,r):this._reportError(`The pipe '${n}' could not be found`,new Mg(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}}_validatePropertyOrAttributeName(e,t,n){const r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,Lg.ERROR)}}class Rw extends __{constructor(){super(...arguments),this.pipes=new Map}visitPipe(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}function Mw(e){return"@"==e[0]}function Fw(e,t,n,r){const i=[];return Cp.parse(t).forEach(t=>{const s=t.element?[t.element]:e.allKnownElementNames(),o=new Set(t.notSelectors.filter(e=>e.isElementSelector()).map(e=>e.element)),a=s.filter(e=>!o.has(e));i.push(...a.map(t=>e.securityContext(t,n,r)))}),0===i.length?[Xp.NONE]:Array.from(new Set(i)).sort()}function Lw(e){let t=null,n=null,r=null,i=!1,s="";e.attrs.forEach(e=>{const o=e.name.toLowerCase();"select"==o?t=e.value:"href"==o?n=e.value:"rel"==o?r=e.value:"ngNonBindable"==e.name?i=!0:"ngProjectAs"==e.name&&e.value.length>0&&(s=e.value)}),t=function(e){if(null===e||0===e.length)return"*";return e}(t);const o=e.name.toLowerCase();let a=jw.OTHER;return dp(o)?a=jw.NG_CONTENT:"style"==o?a=jw.STYLE:"script"==o?a=jw.SCRIPT:"link"==o&&"stylesheet"==r&&(a=jw.STYLESHEET),new $w(a,t,n,i,s)}var jw;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(jw||(jw={}));class $w{constructor(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}}const Bw=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;let Vw;function Uw(){return Vw||(Vw=Cp.parse("*")[0]),Vw}class zw extends jg{constructor(e,t,n){super(t,e,n)}}class Hw{constructor(e,t,n){this.templateAst=e,this.usedPipes=t,this.errors=n}}class qw{constructor(e,t,n,r,i,s,o){this._config=e,this._reflector=t,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=s,this.transforms=o}get expressionParser(){return this._exprParser}parse(e,t,n,r,i,s,o){const a=this.tryParse(e,t,n,r,i,s,o),l=a.errors.filter(e=>e.level===Lg.WARNING),c=a.errors.filter(e=>e.level===Lg.ERROR);if(l.length>0&&this._console.warn(`Template parse warnings:\n${l.join("\n")}`),c.length>0){throw Rf(`Template parse errors:\n${c.join("\n")}`,c)}return{template:a.templateAst,pipes:a.usedPipes}}tryParse(e,t,n,r,i,s,o){let a="string"==typeof t?this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return o||(a=Zb(a)),this.tryParseHtml(this.expandHtml(a),e,n,r,i)}tryParseHtml(e,t,n,r,i){let s;const o=e.errors,a=[];if(e.rootNodes.length>0){const l=Jw(n),c=Jw(r),h=new ww(this._reflector,t);let u=void 0;t.template&&t.template.interpolation&&(u={start:t.template.interpolation[0],end:t.template.interpolation[1]});const d=new Nw(this._exprParser,u,this._schemaRegistry,c,o),p=new Ww(this._reflector,this._config,h,l,d,this._schemaRegistry,i,o);s=Cb(p,e.rootNodes,Yw),o.push(...h.errors),a.push(...d.getUsedPipes())}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,o),o.length>0?new Hw(s,a,o):(this.transforms&&this.transforms.forEach(e=>{s=_w(e,s)}),new Hw(s,a,o))}expandHtml(e,t=!1){const n=e.errors;if(0==n.length||t){const t=ew(e.rootNodes);n.push(...t.errors),e=new Vb(t.nodes,n)}return e}getInterpolationConfig(e){if(e.template)return Sv.fromArray(e.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(e,t){const n=[];e.filter(e=>!!e.references).forEach(e=>e.references.forEach(e=>{const r=e.name;if(n.indexOf(r)<0)n.push(r);else{const n=new zw(`Reference "#${r}" is defined several times`,e.sourceSpan,Lg.ERROR);t.push(n)}}))}}class Ww{constructor(e,t,n,r,i,s,o,a){this.reflector=e,this.config=t,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=s,this._schemas=o,this._targetErrors=a,this.selectorMatcher=new Ep,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach((e,t)=>{const n=Cp.parse(e.selector);this.selectorMatcher.addSelectables(n,e),this.directivesIndex.set(e,t)})}visitExpansion(e,t){return null}visitExpansionCase(e,t){return null}visitText(e,t){const n=t.findNgContentIndex(Uw()),r=Yb(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new sw(i,n,e.sourceSpan):new iw(r,n,e.sourceSpan)}visitAttribute(e,t){return new ow(e.name,e.value,e.sourceSpan)}visitComment(e,t){return null}visitElement(e,t){const n=this.contentQueryStartId,r=e.name,i=Lw(e);if(i.type===jw.SCRIPT||i.type===jw.STYLE)return null;if(i.type===jw.STYLESHEET&&Aw(i.hrefAttr))return null;const s=[],o=[],a=[],l=[],c=[],h=[],u=[],d=[];let p=!1;const m=[],f=pp(e.name);e.attrs.forEach(e=>{const t=this._parseAttr(f,e,s,o,c,a,l);let n,r;l.push(...[].map(e=>uw.fromParsedVariable(e)));const i=this._normalizeAttributeName(e.name);i.startsWith("*")&&(n=e.value,r=i.substring("*".length));const g=null!=n;if(g){p&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),p=!0;const t=[];this._bindingParser.parseInlineTemplateBinding(r,n,e.sourceSpan,e.sourceSpan.start.offset,u,h,t),d.push(...t.map(e=>uw.fromParsedVariable(e)))}t||g||(m.push(this.visitAttribute(e,null)),s.push([e.name,e.value]))});const g=Kw(r,s),{directives:y,matchElement:v}=this._parseDirectives(this.selectorMatcher,g),_=[],b=new Set,w=this._createDirectiveAsts(f,e.name,y,o,a,e.sourceSpan,_,b),C=this._createElementPropertyAsts(e.name,o,b),E=t.isTemplateElement||p,S=new Cw(this.providerViewContext,t.providerContext,E,w,m,_,f,n,e.sourceSpan),x=Cb(i.nonBindable?Xw:this,e.children,Qw.create(f,w,f?t.providerContext:S));S.afterElement();const k=""!=i.projectAs?Cp.parse(i.projectAs)[0]:g,T=t.findNgContentIndex(k);let O;if(i.type===jw.NG_CONTENT)e.children&&!e.children.every(Zw)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),O=new vw(this.ngContentCount++,p?null:T,e.sourceSpan);else if(f)this._assertAllEventsPublishedByDirectives(w,c),this._assertNoComponentsNorElementBindingsOnTemplate(w,C,e.sourceSpan),O=new pw(m,c,_,l,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,x,p?null:T,e.sourceSpan);else{this._assertElementExists(v,e),this._assertOnlyOneComponent(w,e.sourceSpan);const n=p?null:t.findNgContentIndex(k);O=new dw(r,m,C,c,_,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,x,p?null:n,e.sourceSpan,e.endSourceSpan||null)}if(p){const n=this.contentQueryStartId,i=Kw("ng-template",u),{directives:s}=this._parseDirectives(this.selectorMatcher,i),o=new Set,a=this._createDirectiveAsts(!0,r,s,h,[],e.sourceSpan,[],o),l=this._createElementPropertyAsts(r,h,o);this._assertNoComponentsNorElementBindingsOnTemplate(a,l,e.sourceSpan);const c=new Cw(this.providerViewContext,t.providerContext,t.isTemplateElement,a,[],[],!0,n,e.sourceSpan);c.afterElement(),O=new pw([],[],[],d,c.transformedDirectiveAsts,c.transformProviders,c.transformedHasViewContainer,c.queryMatches,[O],T,e.sourceSpan)}return O}_parseAttr(e,t,n,r,i,s,o){const a=this._normalizeAttributeName(t.name),l=t.value,c=t.sourceSpan,h=t.valueSpan?t.valueSpan.start.offset:c.start.offset,u=[],d=a.match(Bw);let p=!1;if(null!==d)if(p=!0,null!=d[1])this._bindingParser.parsePropertyBinding(d[7],l,!1,c,h,t.valueSpan,n,r);else if(d[2])if(e){const e=d[7];this._parseVariable(e,l,c,o)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(d[3]){const e=d[7];this._parseReference(e,l,c,s)}else d[4]?this._bindingParser.parseEvent(d[7],l,c,t.valueSpan||c,n,u):d[5]?(this._bindingParser.parsePropertyBinding(d[7],l,!1,c,h,t.valueSpan,n,r),this._parseAssignmentEvent(d[7],l,c,t.valueSpan||c,n,u)):d[6]?this._bindingParser.parseLiteralAttr(a,l,c,h,t.valueSpan,n,r):d[8]?(this._bindingParser.parsePropertyBinding(d[8],l,!1,c,h,t.valueSpan,n,r),this._parseAssignmentEvent(d[8],l,c,t.valueSpan||c,n,u)):d[9]?this._bindingParser.parsePropertyBinding(d[9],l,!1,c,h,t.valueSpan,n,r):d[10]&&this._bindingParser.parseEvent(d[10],l,c,t.valueSpan||c,n,u);else p=this._bindingParser.parsePropertyInterpolation(a,l,c,t.valueSpan,n,r);return p||this._bindingParser.parseLiteralAttr(a,l,c,h,t.valueSpan,n,r),i.push(...u.map(e=>cw.fromParsedEvent(e))),p}_normalizeAttributeName(e){return/^data-/i.test(e)?e.substring(5):e}_parseVariable(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new uw(e,t,n))}_parseReference(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new Gw(e,t,n))}_parseAssignmentEvent(e,t,n,r,i,s){this._bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,r,i,s)}_parseDirectives(e,t){const n=new Array(this.directivesIndex.size);let r=!1;return e.match(t,(e,t)=>{n[this.directivesIndex.get(t)]=t,r=r||e.hasElementSelector()}),{directives:n.filter(e=>!!e),matchElement:r}}_createDirectiveAsts(e,t,n,r,i,s,o,a){const l=new Set;let c=null;const h=n.map(e=>{const n=new Mg(s.start,s.end,`Directive ${ag(e.type)}`);e.isComponent&&(c=e);const h=[];let u=this._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map(e=>lw.fromBoundProperty(e));u=this._checkPropertiesInSchema(t,u);const d=this._bindingParser.createDirectiveHostEventAsts(e,n);this._createDirectivePropertyAsts(e.inputs,r,h,a),i.forEach(t=>{(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(o.push(new hw(t.name,eg(e.type.reference),t.value,t.sourceSpan)),l.add(t.name))});const p=d.map(e=>cw.fromParsedEvent(e)),m=this.contentQueryStartId;return this.contentQueryStartId+=e.queries.length,new fw(e,h,u,p,m,n)});return i.forEach(t=>{if(t.value.length>0)l.has(t.name)||this._reportError(`There is no directive with "exportAs" set to "${t.value}"`,t.sourceSpan);else if(!c){let n=null;e&&(n=tg(this.reflector,Jf.TemplateRef)),o.push(new hw(t.name,n,t.value,t.sourceSpan))}}),h}_createDirectivePropertyAsts(e,t,n,r){if(e){const i=new Map;t.forEach(e=>{const t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)}),Object.keys(e).forEach(t=>{const s=e[t],o=i.get(s);o&&(r.add(o.name),eC(o.expression)||n.push(new mw(t,o.name,o.expression,o.sourceSpan)))})}}_createElementPropertyAsts(e,t,n){const r=[];return t.forEach(t=>{if(!t.isLiteral&&!n.has(t.name)){const n=this._bindingParser.createBoundElementProperty(e,t);r.push(lw.fromBoundProperty(n))}}),this._checkPropertiesInSchema(e,r)}_findComponentDirectives(e){return e.filter(e=>e.directive.isComponent)}_findComponentDirectiveNames(e){return this._findComponentDirectives(e).map(e=>ag(e.directive.type))}_assertOnlyOneComponent(e,t){const n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+`Conflicting components: ${n.join(",")}`,t)}_assertElementExists(e,t){const n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){let e=`'${n}' is not a known element:\n`;e+=`1. If '${n}' is an Angular component, then verify that it is part of this module.\n`,n.indexOf("-")>-1?e+=`2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(e,t.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(e,t,n){const r=this._findComponentDirectiveNames(e);r.length>0&&this._reportError(`Components on an embedded template: ${r.join(",")}`,n),t.forEach(e=>{this._reportError(`Property binding ${e.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,n)})}_assertAllEventsPublishedByDirectives(e,t){const n=new Set;e.forEach(e=>{Object.keys(e.directive.outputs).forEach(t=>{const r=e.directive.outputs[t];n.add(r)})}),t.forEach(e=>{null==e.target&&n.has(e.name)||this._reportError(`Event binding ${e.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,e.sourceSpan)})}_checkPropertiesInSchema(e,t){return t.filter(t=>{if(0===t.type&&!this._schemaRegistry.hasProperty(e,t.name,this._schemas)){let n=`Can't bind to '${t.name}' since it isn't a known property of '${e}'.`;e.startsWith("ng-")?n+=`\n1. If '${t.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.`+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(n+=`\n1. If '${e}' is an Angular component and it has '${t.name}' input, then verify that it is part of this module.`+`\n2. If '${e}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),this._reportError(n,t.sourceSpan)}return!eC(t.value)})}_reportError(e,t,n=Lg.ERROR){this._targetErrors.push(new jg(t,e,n))}}class Gw{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}isReferenceToDirective(e){return-1!==(t=e.exportAs,t?t.split(",").map(e=>e.trim()):[]).indexOf(this.value);var t}}class Qw{constructor(e,t,n,r){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=n,this.providerContext=r}static create(e,t,n){const r=new Ep;let i=null;const s=t.find(e=>e.directive.isComponent);if(s){const e=s.directive.template.ngContentSelectors;for(let t=0;t<e.length;t++){"*"===e[t]?i=t:r.addSelectables(Cp.parse(e[t]),t)}}return new Qw(e,r,i,n)}findNgContentIndex(e){const t=[];return this._ngContentIndexMatcher.match(e,(e,n)=>{t.push(n)}),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}function Kw(e,t){const n=new Cp,r=hp(e)[1];n.setElement(r);for(let i=0;i<t.length;i++){const e=t[i][0],r=hp(e)[1],s=t[i][1];if(n.addAttribute(r,s),"class"==e.toLowerCase()){s.trim().split(/\s+/g).forEach(e=>n.addClassName(e))}}return n}const Yw=new Qw(!0,new Ep,null,null),Xw=new class{visitElement(e,t){const n=Lw(e);if(n.type===jw.SCRIPT||n.type===jw.STYLE||n.type===jw.STYLESHEET)return null;const r=e.attrs.map(e=>[e.name,e.value]),i=Kw(e.name,r),s=t.findNgContentIndex(i),o=Cb(this,e.children,Yw);return new dw(e.name,Cb(this,e.attrs),[],[],[],[],[],!1,[],o,s,e.sourceSpan,e.endSourceSpan)}visitComment(e,t){return null}visitAttribute(e,t){return new ow(e.name,e.value,e.sourceSpan)}visitText(e,t){const n=t.findNgContentIndex(Uw());return new iw(e.value,n,e.sourceSpan)}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}};function Zw(e){return e instanceof gb&&0==e.value.trim().length}function Jw(e){const t=new Map;return e.forEach(e=>{t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function eC(e){return e instanceof y_&&(e=e.ast),e instanceof Yv}function tC(e){const t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){const t=e.substring(1,e.length-1);-1==t.indexOf("'")&&-1==t.indexOf('"')&&(e=t)}return e}function nC(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}class rC{constructor(e,t){this._elementIndexExpr=e,this._directiveExpr=t,this._hasInitialValues=!1,this.hasBindings=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[],this._useDefaultSanitizer=!1}registerBoundInput(e){let t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}registerInputBasedOnName(e,t,n){let r=null;const i=e.substring(0,5),s="style"===i;if(s||!s&&"class"===i){const i="."!==e.charAt(5),o=e.substr(i?5:6);r=s?this.registerStyleInput(o,i,t,n):this.registerClassInput(o,i,t,n)}return r}registerStyleInput(e,t,n,r,i){if(eC(n))return null;e=nC(e);const{property:s,hasOverrideFlag:o,unit:a}=sC(e),l={name:s,unit:i||a,value:n,sourceSpan:r,hasOverrideFlag:o};return t?(this._useDefaultSanitizer=!0,this._styleMapInput=l):((this._singleStyleInputs=this._singleStyleInputs||[]).push(l),this._useDefaultSanitizer=this._useDefaultSanitizer||function(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}(e),iC(this._stylesIndex,s)),this._lastStylingInput=l,this._firstStylingInput=this._firstStylingInput||l,this.hasBindings=!0,l}registerClassInput(e,t,n,r){if(eC(n))return null;const{property:i,hasOverrideFlag:s}=sC(e),o={name:i,value:n,sourceSpan:r,hasOverrideFlag:s,unit:null};return t?this._classMapInput=o:((this._singleClassInputs=this._singleClassInputs||[]).push(o),iC(this._classesIndex,i)),this._lastStylingInput=o,this._firstStylingInput=this._firstStylingInput||o,this.hasBindings=!0,o}registerStyleAttr(e){this._initialStyleValues=function(e){const t=[];let n=0,r=0,i=0,s=0,o=0,a=null,l=!1;for(;n<e.length;){switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:l=l||s>0,0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:l=l||s>0,0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:a||0!==r||0!==i||(a=nC(e.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&0===r&&0===i){const r=e.substring(s,n-1).trim();t.push(a,l?tC(r):r),o=n,s=0,a=null,l=!1}}}if(a&&s){const n=e.substr(s).trim();t.push(a,l?tC(n):n)}return t}(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(wf(1));for(let t=0;t<this._initialClassValues.length;t++)e.push(wf(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(wf(2));for(let t=0;t<this._initialStyleValues.length;t+=2)e.push(wf(this._initialStyleValues[t]),wf(this._initialStyleValues[t+1]))}}buildHostAttrsInstruction(e,t,n){return this._directiveExpr&&(t.length||this._hasInitialValues)?{sourceSpan:e,reference:Tg.elementHostAttrs,allocateBindingSlots:0,params:()=>(this.populateInitialStylingAttrs(t),[t.some(e=>e instanceof Cm)?yf(t):function(e,t){return t.length?e.getConstLiteral(yf(t),!0):Hm}(n,t)])}:null}buildStylingInstruction(e,t){return this.hasBindings?{sourceSpan:e,allocateBindingSlots:0,reference:Tg.styling,params:()=>[]}:null}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,t,n){let r=1;const i=n.value.visit(e);let s;return i instanceof c_&&t?(r+=i.expressions.length,s=function(e){switch(hv(e)){case 1:return Tg.classMap;case 3:return Tg.classMapInterpolate1;case 5:return Tg.classMapInterpolate2;case 7:return Tg.classMapInterpolate3;case 9:return Tg.classMapInterpolate4;case 11:return Tg.classMapInterpolate5;case 13:return Tg.classMapInterpolate6;case 15:return Tg.classMapInterpolate7;case 17:return Tg.classMapInterpolate8;default:return Tg.classMapInterpolateV}}(i)):s=t?Tg.classMap:Tg.styleMap,{sourceSpan:n.sourceSpan,reference:s,allocateBindingSlots:r,supportsInterpolation:t,params:e=>{const t=e(i);return Array.isArray(t)?t:[t]}}}_buildSingleInputs(e,t,n,r,i,s){return t.map(t=>{const n=t.value.visit(i);let o=1;return n instanceof c_&&(o+=n.expressions.length,s&&(e=s(n))),{sourceSpan:t.sourceSpan,supportsInterpolation:!!s,allocateBindingSlots:o,reference:e,params:e=>{const i=[];i.push(wf(t.name));const s=e(n);return Array.isArray(s)?i.push(...s):i.push(s),r&&t.unit&&i.push(wf(t.unit)),i}}})}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(Tg.classProp,this._singleClassInputs,this._classesIndex,!1,e):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(Tg.styleProp,this._singleStyleInputs,this._stylesIndex,!0,e,oC):[]}_buildApplyFn(){return{sourceSpan:this._lastStylingInput?this._lastStylingInput.sourceSpan:null,reference:Tg.stylingApply,allocateBindingSlots:0,params:()=>[]}}_buildSanitizerFn(){return{sourceSpan:this._firstStylingInput?this._firstStylingInput.sourceSpan:null,reference:Tg.styleSanitizer,allocateBindingSlots:0,params:()=>[mf(Tg.defaultStyleSanitizer)]}}buildUpdateLevelInstructions(e){const t=[];if(this.hasBindings){this._useDefaultSanitizer&&t.push(this._buildSanitizerFn());const n=this.buildStyleMapInstruction(e);n&&t.push(n);const r=this.buildClassMapInstruction(e);r&&t.push(r),t.push(...this._buildStyleInputs(e)),t.push(...this._buildClassInputs(e)),t.push(this._buildApplyFn())}return t}}function iC(e,t){e.has(t)||e.set(t,e.size)}function sC(e){let t=!1;const n=e.indexOf("!important");-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);let r="",i=e;const s=e.lastIndexOf(".");return s>0&&(r=e.substr(s+1),i=e.substring(0,s)),{property:i,unit:r,hasOverrideFlag:t}}function oC(e){switch(hv(e)){case 1:return Tg.styleProp;case 3:return Tg.stylePropInterpolate1;case 5:return Tg.stylePropInterpolate2;case 7:return Tg.stylePropInterpolate3;case 9:return Tg.stylePropInterpolate4;case 11:return Tg.stylePropInterpolate5;case 13:return Tg.stylePropInterpolate6;case 15:return Tg.stylePropInterpolate7;case 17:return Tg.stylePropInterpolate8;default:return Tg.stylePropInterpolateV}}var aC;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(aC||(aC={}));const lC=["var","let","as","null","undefined","true","false","if","else","this"];class cC{tokenize(e){const t=new mC(e),n=[];let r=t.scanToken();for(;null!=r;)n.push(r),r=t.scanToken();return n}}class hC{constructor(e,t,n,r){this.index=e,this.type=t,this.numValue=n,this.strValue=r}isCharacter(e){return this.type==aC.Character&&this.numValue==e}isNumber(){return this.type==aC.Number}isString(){return this.type==aC.String}isOperator(e){return this.type==aC.Operator&&this.strValue==e}isIdentifier(){return this.type==aC.Identifier}isKeyword(){return this.type==aC.Keyword}isKeywordLet(){return this.type==aC.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==aC.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==aC.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==aC.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==aC.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==aC.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==aC.Keyword&&"this"==this.strValue}isError(){return this.type==aC.Error}toNumber(){return this.type==aC.Number?this.numValue:-1}toString(){switch(this.type){case aC.Character:case aC.Identifier:case aC.Keyword:case aC.Operator:case aC.String:case aC.Error:return this.strValue;case aC.Number:return this.numValue.toString();default:return null}}}function uC(e,t){return new hC(e,aC.Character,t,String.fromCharCode(t))}function dC(e,t){return new hC(e,aC.Operator,0,t)}const pC=new hC(-1,aC.Character,0,"");class mC{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,r=this.index;for(;n<=32;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(fC(n))return this.scanIdentifier();if(Ag(n))return this.scanNumber(r);const i=r;switch(n){case 46:return this.advance(),Ag(this.peek)?this.scanNumber(i):uC(i,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;Og(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(e,t){return this.advance(),uC(e,t)}scanOperator(e,t){return this.advance(),dC(e,t)}scanComplexOperator(e,t,n,r,i,s){this.advance();let o=t;return this.peek==n&&(this.advance(),o+=r),null!=i&&this.peek==i&&(this.advance(),o+=s),dC(e,o)}scanIdentifier(){const e=this.index;for(this.advance();gC(this.peek);)this.advance();const t=this.input.substring(e,this.index);return lC.indexOf(t)>-1?(n=t,new hC(e,aC.Keyword,0,n)):function(e,t){return new hC(e,aC.Identifier,0,t)}(e,t);var n}scanNumber(e){let t=this.index===e;for(this.advance();;){if(Ag(this.peek));else if(46==this.peek)t=!1;else{if(101!=(n=this.peek)&&69!=n)break;if(this.advance(),yC(this.peek)&&this.advance(),!Ag(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var n;const r=this.input.substring(e,this.index),i=t?function(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(r):parseFloat(r);return s=i,new hC(e,aC.Number,s,"");var s}scanString(){const e=this.index,t=this.peek;this.advance();let n="",r=this.index;const i=this.input;for(;this.peek!=t;)if(92==this.peek){let e;if(n+=i.substring(r,this.index),this.advance(),this.peek=this.peek,117==this.peek){const t=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error(`Invalid unicode escape [\\u${t}]`,0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=vC(this.peek),this.advance();n+=String.fromCharCode(e),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const s=i.substring(r,this.index);return this.advance(),o=n+s,new hC(e,aC.String,0,o);var o}error(e,t){const n=this.index+t;return function(e,t){return new hC(e,aC.Error,0,t)}(n,`Lexer Error: ${e} at column ${n} in expression [${this.input}]`)}}function fC(e){return 97<=e&&e<=122||65<=e&&e<=90||95==e||36==e}function gC(e){return Ig(e)||Ag(e)||95==e||36==e}function yC(e){return 45==e||43==e}function vC(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}class _C{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class bC{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}function wC(e){const t=Lf(e.start)+"([\\s\\S]*?)"+Lf(e.end);return new RegExp(t,"g")}class CC{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,t,n,r=xv){this._checkNoInterpolation(e,t,r);const i=this._stripComments(e),s=this._lexer.tokenize(this._stripComments(e)),o=new EC(e,t,n,s,i.length,!0,this.errors,e.length-i.length).parseChain();return new y_(o,e,t,n,this.errors)}parseBinding(e,t,n,r=xv){const i=this._parseBindingAst(e,t,n,r);return new y_(i,e,t,n,this.errors)}parseSimpleBinding(e,t,n,r=xv){const i=this._parseBindingAst(e,t,n,r),s=SC.check(i);return s.length>0&&this._reportError(`Host binding expression cannot contain ${s.join(" ")}`,e,t),new y_(i,e,t,n,this.errors)}_reportError(e,t,n,r){this.errors.push(new Wv(e,t,n,r))}_parseBindingAst(e,t,n,r){const i=this._parseQuote(e,t);if(null!=i)return i;this._checkNoInterpolation(e,t,r);const s=this._stripComments(e),o=this._lexer.tokenize(s);return new EC(e,t,n,o,s.length,!1,this.errors,e.length-s.length).parseChain()}_parseQuote(e,t){if(null==e)return null;const n=e.indexOf(":");if(-1==n)return null;const r=e.substring(0,n).trim();if(!function(e){if(0==e.length)return!1;const t=new mC(e);if(!fC(t.peek))return!1;for(t.advance();0!==t.peek;){if(!gC(t.peek))return!1;t.advance()}return!0}(r))return null;const i=e.substring(n+1);return new Kv(new Gv(0,e.length),r,i,t)}parseTemplateBindings(e,t,n,r){const i=this._lexer.tokenize(t);return new EC(t,n,r,i,t.length,!1,this.errors,0).parseTemplateBindings(e)}parseInterpolation(e,t,n,r=xv){const i=this.splitInterpolation(e,t,r);if(null==i)return null;const s=[];for(let o=0;o<i.expressions.length;++o){const r=i.expressions[o],a=this._stripComments(r),l=this._lexer.tokenize(a),c=new EC(e,t,n,l,a.length,!1,this.errors,i.offsets[o]+(r.length-a.length)).parseChain();s.push(c)}return new y_(new c_(new Gv(0,null==e?0:e.length),i.strings,s),e,t,n,this.errors)}splitInterpolation(e,t,n=xv){const r=wC(n),i=e.split(r);if(i.length<=1)return null;const s=[],o=[],a=[];let l=0;for(let c=0;c<i.length;c++){const r=i[c];c%2==0?(s.push(r),l+=r.length):r.trim().length>0?(l+=n.start.length,o.push(r),a.push(l),l+=r.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${this._findInterpolationErrorColumn(i,c,n)} in`,t),o.push("$implict"),a.push(l))}return new _C(s,o,a)}wrapLiteralPrimitive(e,t,n){return new y_(new o_(new Gv(0,null==e?0:e.length),e),e,t,n,this.errors)}_stripComments(e){const t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}_commentStart(e){let t=null;for(let r=0;r<e.length-1;r++){const i=e.charCodeAt(r),s=e.charCodeAt(r+1);if(47===i&&47==s&&null==t)return r;t===i?t=null:null==t&&(39===(n=i)||34===n||96===n)&&(t=i)}var n;return null}_checkNoInterpolation(e,t,n){const r=wC(n),i=e.split(r);i.length>1&&this._reportError(`Got interpolation (${n.start}${n.end}) where expression was expected`,e,`at column ${this._findInterpolationErrorColumn(i,1,n)} in`,t)}_findInterpolationErrorColumn(e,t,n){let r="";for(let i=0;i<t;i++)r+=i%2==0?e[i]:`${n.start}${e[i]}${n.end}`;return r.length}}class EC{constructor(e,t,n,r,i,s,o,a){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=r,this.inputLength=i,this.parseAction=s,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}peek(e){const t=this.index+e;return t<this.tokens.length?this.tokens[t]:pC}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(e){return new Gv(e,this.inputIndex)}advance(){this.index++}optionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.optionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}optionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.optionalOperator(e)||this.error(`Missing expected operator ${e}`)}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error(`Unexpected token ${e}, expected identifier or keyword`),"")}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error(`Unexpected token ${e}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}return 0==e.length?new Yv(this.span(t)):1==e.length?e[0]:new Zv(this.span(t),e)}parsePipe(){let e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const t=this.expectIdentifierOrKeyword(),n=[];for(;this.optionalCharacter(58);)n.push(this.parseExpression());e=new s_(this.span(e.span.start),e,t,n)}while(this.optionalOperator("|"))}return e}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){const n=this.parsePipe();let r;if(this.optionalCharacter(58))r=this.parsePipe();else{const t=this.inputIndex,n=this.input.substring(e,t);this.error(`Conditional expression ${n} requires all 3 expressions`),r=new Yv(this.span(e))}return new Jv(this.span(e),t,n,r)}return t}parseLogicalOr(){let e=this.parseLogicalAnd();for(;this.optionalOperator("||");){const t=this.parseLogicalAnd();e=new h_(this.span(e.span.start),"||",e,t)}return e}parseLogicalAnd(){let e=this.parseEquality();for(;this.optionalOperator("&&");){const t=this.parseEquality();e=new h_(this.span(e.span.start),"&&",e,t)}return e}parseEquality(){let e=this.parseRelational();for(;this.next.type==aC.Operator;){const t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();const n=this.parseRelational();e=new h_(this.span(e.span.start),t,e,n);continue}break}return e}parseRelational(){let e=this.parseAdditive();for(;this.next.type==aC.Operator;){const t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();const n=this.parseAdditive();e=new h_(this.span(e.span.start),t,e,n);continue}break}return e}parseAdditive(){let e=this.parseMultiplicative();for(;this.next.type==aC.Operator;){const t=this.next.strValue;switch(t){case"+":case"-":this.advance();let n=this.parseMultiplicative();e=new h_(this.span(e.span.start),t,e,n);continue}break}return e}parseMultiplicative(){let e=this.parsePrefix();for(;this.next.type==aC.Operator;){const t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();let n=this.parsePrefix();e=new h_(this.span(e.span.start),t,e,n);continue}break}return e}parsePrefix(){if(this.next.type==aC.Operator){const e=this.inputIndex,t=this.next.strValue;let n;switch(t){case"+":return this.advance(),n=this.parsePrefix(),new h_(this.span(e),"-",n,new o_(new Gv(e,e),0));case"-":return this.advance(),n=this.parsePrefix(),new h_(this.span(e),t,new o_(new Gv(e,e),0),n);case"!":return this.advance(),n=this.parsePrefix(),new u_(this.span(e),n)}}return this.parseCallChain()}parseCallChain(){let e=this.parsePrimary();for(;;)if(this.optionalCharacter(46))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;const t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){const n=this.parseConditional();e=new i_(this.span(e.span.start),e,t,n)}else e=new r_(this.span(e.span.start),e,t)}else if(this.optionalCharacter(40)){this.rparensExpected++;const t=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),e=new f_(this.span(e.span.start),e,t)}else{if(!this.optionalOperator("!"))return e;e=new d_(this.span(e.span.start),e)}}parsePrimary(){const e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new o_(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new o_(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new o_(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new o_(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new Xv(this.span(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;const t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new a_(this.span(e),t)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Xv(this.span(e)),!1);if(this.next.isNumber()){const t=this.next.toNumber();return this.advance(),new o_(this.span(e),t)}if(this.next.isString()){const t=this.next.toString();return this.advance(),new o_(this.span(e),t)}return this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Yv(this.span(e))):(this.error(`Unexpected token ${this.next}`),new Yv(this.span(e)))}parseExpressionList(e){const t=[];if(!this.next.isCharacter(e))do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{const n=this.next.isString(),r=this.expectIdentifierOrKeywordOrString();e.push({key:r,quoted:n}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new l_(this.span(n),e,t)}parseAccessMemberOrMethodCall(e,t=!1){const n=e.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;const i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;const s=this.span(n);return t?new m_(s,e,r,i):new p_(s,e,r,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Yv(this.span(n))):new n_(this.span(n),e,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Yv(this.span(n));const t=this.parseConditional();return new t_(this.span(n),e,r,t)}return new e_(this.span(n),e,r)}parseCallArguments(){if(this.next.isCharacter(41))return[];const e=[];do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e}expectTemplateBindingKey(){let e="",t=!1;do{e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-")}while(t);return e.toString()}parseTemplateBindings(e){let t=!0;const n=[];do{const r=this.inputIndex;let i,s,o=!1;t?(i=s=e,t=!1):(o=this.peekKeywordLet(),o&&this.advance(),i=this.expectTemplateBindingKey(),s=o?i:e+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(58));let a=null,l=null;if(o)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),a=i,s=this.expectTemplateBindingKey(),o=!0;else if(this.next!==pC&&!this.peekKeywordLet()){const e=this.inputIndex,t=this.parsePipe(),n=this.input.substring(e-this.offset,this.inputIndex-this.offset);l=new y_(t,n,this.location,this.absoluteOffset,this.errors)}if(n.push(new v_(this.span(r),s,o,a,l)),this.peekKeywordAs()&&!o){const e=this.inputIndex;this.advance();const t=this.expectTemplateBindingKey();n.push(new v_(this.span(e),t,!0,s,null))}this.optionalCharacter(59)||this.optionalCharacter(44)}while(this.index<this.tokens.length);return new bC(n,[],this.errors)}error(e,t=null){this.errors.push(new Wv(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(59)&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new Wv(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class SC{constructor(){this.errors=[]}static check(e){const t=new SC;return e.visit(t),t.errors}visitImplicitReceiver(e,t){}visitInterpolation(e,t){}visitLiteralPrimitive(e,t){}visitPropertyRead(e,t){}visitPropertyWrite(e,t){}visitSafePropertyRead(e,t){}visitMethodCall(e,t){}visitSafeMethodCall(e,t){}visitFunctionCall(e,t){}visitLiteralArray(e,t){this.visitAll(e.expressions)}visitLiteralMap(e,t){this.visitAll(e.values)}visitBinary(e,t){}visitPrefixNot(e,t){}visitNonNullAssert(e,t){}visitConditional(e,t){}visitPipe(e,t){this.errors.push("pipes")}visitKeyedRead(e,t){}visitKeyedWrite(e,t){}visitAll(e){return e.map(e=>e.visit(this))}visitChain(e,t){}visitQuote(e,t){}}let xC;function kC(){return xC||(xC={},TC(Xp.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),TC(Xp.STYLE,["*|style"]),TC(Xp.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),TC(Xp.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),xC}function TC(e,t){for(const n of t)xC[n.toLowerCase()]=e}class OC{}const AC=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],IC={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};class DC extends OC{constructor(){super(),this._schema={},AC.forEach(e=>{const t={},[n,r]=e.split("|"),i=r.split(","),[s,o]=n.split("^");s.split(",").forEach(e=>this._schema[e.toLowerCase()]=t);const a=o&&this._schema[o.toLowerCase()];a&&Object.keys(a).forEach(e=>{t[e]=a[e]}),i.forEach(e=>{if(e.length>0)switch(e[0]){case"*":break;case"!":t[e.substring(1)]="boolean";break;case"#":t[e.substring(1)]="number";break;case"%":t[e.substring(1)]="object";break;default:t[e]="string"}})})}hasProperty(e,t,n){if(n.some(e=>e.name===qp.name))return!0;if(e.indexOf("-")>-1){if(up(e)||dp(e))return!1;if(n.some(e=>e.name===Hp.name))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}hasElement(e,t){if(t.some(e=>e.name===qp.name))return!0;if(e.indexOf("-")>-1){if(up(e)||dp(e))return!0;if(t.some(e=>e.name===Hp.name))return!0}return!!this._schema[e.toLowerCase()]}securityContext(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=kC()[e+"|"+t];return r||(r=kC()["*|"+t],r||Xp.NONE)}getMappedPropName(e){return IC[e]||e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, `+`please use (${e.slice(2)})=...`+`\nIf '${e}' is a directive input, make sure the directive is imported by the`+" current module."}}return{error:!1}}validateAttribute(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, `+`please use (${e.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}normalizeAnimationStyleProperty(e){return e.replace(Ef,(...e)=>e[1].toUpperCase())}normalizeAnimationStyleValue(e,t,n){let r="";const i=n.toString().trim();let s=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&(s=`Please provide a CSS unit value for ${t}:${n}`)}return{error:s,value:i+r}}}const PC=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function NC(e,t){const n=new RC(t),r=Cb(n,e),i=t.errors.concat(n.errors),s=i.filter(e=>e.level===Lg.ERROR);if(s.length>0){throw Rf(`Template parse errors:\n${s.join("\n")}`,s)}return{nodes:r,errors:i,styleUrls:n.styleUrls,styles:n.styles}}class RC{constructor(e){this.bindingParser=e,this.errors=[],this.styles=[],this.styleUrls=[]}visitElement(e){const t=Lw(e);if(t.type===jw.SCRIPT)return null;if(t.type===jw.STYLE){const t=1===(n=e).children.length&&n.children[0]instanceof gb?n.children[0].value:null;return null!==t&&this.styles.push(t),null}if(t.type===jw.STYLESHEET&&Aw(t.hrefAttr))return this.styleUrls.push(t.hrefAttr),null;var n;const r=pp(e.name),i=[],s=[],o=[],a=[],l=[],c={},h=[],u=[];let d=!1;for(const f of e.attrs){let e=!1;const t=FC(f.name);let n=!1;if(f.i18n&&(c[f.name]=f.i18n),t.startsWith("*")){d&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",f.sourceSpan),n=!0,d=!0;const e=f.value,r=t.substring("*".length),i=[],s=f.valueSpan?f.valueSpan.start.offset:f.sourceSpan.start.offset;this.bindingParser.parseInlineTemplateBinding(r,e,f.sourceSpan,s,[],h,i),u.push(...i.map(e=>new Gg(e.name,e.value,e.sourceSpan)))}else e=this.parseAttribute(r,f,[],i,s,o,a);e||n||l.push(this.visitAttribute(f))}const p=Cb(t.nonBindable?MC:this,e.children);let m;if(t.type===jw.NG_CONTENT){e.children&&!e.children.every(e=>function(e){return e instanceof gb&&0==e.value.trim().length}(e)||function(e){return e instanceof wb}(e))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const n=t.selectAttr,r=e.attrs.map(e=>this.visitAttribute(e));m=new Wg(n,r,e.sourceSpan,e.i18n)}else if(r){const t=this.extractAttributes(e.name,i,c);m=new qg(e.name,l,t.bound,s,[],p,a,o,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const t=this.extractAttributes(e.name,i,c);m=new Hg(e.name,l,t.bound,s,p,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(d){const t=this.extractAttributes("ng-template",h,c),n=[];t.literal.forEach(e=>n.push(e)),t.bound.forEach(e=>n.push(e));const r=m instanceof Hg?{attributes:m.attributes,inputs:m.inputs,outputs:m.outputs}:{attributes:[],inputs:[],outputs:[]};m=new qg(m.name,r.attributes,r.inputs,r.outputs,n,[m],[],u,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}return m}visitAttribute(e){return new Vg(e.name,e.value,e.sourceSpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}visitExpansion(e){const t=e.i18n;if(!t)return null;const n={},r={};return Object.keys(t.placeholders).forEach(i=>{const s=t.placeholders[i];if(i.startsWith("VAR_")){const t=this.bindingParser.interpolationConfig,r=`${t.start}${s}${t.end}`;n[i]=this._visitTextWithInterpolation(r,e.sourceSpan)}else r[i]=this._visitTextWithInterpolation(s,e.sourceSpan)}),new Kg(n,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return null}extractAttributes(e,t,n){const r=[],i=[];return t.forEach(t=>{const s=n[t.name];if(t.isLiteral)i.push(new Vg(t.name,t.expression.source||"",t.sourceSpan,void 0,s));else{const n=this.bindingParser.createBoundElementProperty(e,t,!0,!1);r.push(Ug.fromBoundElementProperty(n,s))}}),{bound:r,literal:i}}parseAttribute(e,t,n,r,i,s,o){const a=FC(t.name),l=t.value,c=t.sourceSpan,h=t.valueSpan?t.valueSpan.start.offset:c.start.offset,u=a.match(PC);let d=!1;if(u){if(d=!0,null!=u[1])this.bindingParser.parsePropertyBinding(u[7],l,!1,c,h,t.valueSpan,n,r);else if(u[2])if(e){const e=u[7];this.parseVariable(e,l,c,t.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(u[3]){const e=u[7];this.parseReference(e,l,c,t.valueSpan,o)}else if(u[4]){const e=[];this.bindingParser.parseEvent(u[7],l,c,t.valueSpan||c,n,e),LC(e,i)}else if(u[5])this.bindingParser.parsePropertyBinding(u[7],l,!1,c,h,t.valueSpan,n,r),this.parseAssignmentEvent(u[7],l,c,t.valueSpan,n,i);else if(u[6])this.bindingParser.parseLiteralAttr(a,l,c,h,t.valueSpan,n,r);else if(u[8])this.bindingParser.parsePropertyBinding(u[8],l,!1,c,h,t.valueSpan,n,r),this.parseAssignmentEvent(u[8],l,c,t.valueSpan,n,i);else if(u[9])this.bindingParser.parsePropertyBinding(u[9],l,!1,c,h,t.valueSpan,n,r);else if(u[10]){const e=[];this.bindingParser.parseEvent(u[10],l,c,t.valueSpan||c,n,e),LC(e,i)}}else d=this.bindingParser.parsePropertyInterpolation(a,l,c,t.valueSpan,n,r);return d}_visitTextWithInterpolation(e,t,n){const r=Yb(e),i=this.bindingParser.parseInterpolation(r,t);return i?new Bg(i,t,n):new $g(r,t)}parseVariable(e,t,n,r,i){e.indexOf("-")>-1&&this.reportError('"-" is not allowed in variable names',n),i.push(new Gg(e,t,n,r))}parseReference(e,t,n,r,i){e.indexOf("-")>-1&&this.reportError('"-" is not allowed in reference names',n),i.push(new Qg(e,t,n,r))}parseAssignmentEvent(e,t,n,r,i,s){const o=[];this.bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,r||n,i,o),LC(o,s)}reportError(e,t,n=Lg.ERROR){this.errors.push(new jg(t,e,n))}}const MC=new class{visitElement(e){const t=Lw(e);if(t.type===jw.SCRIPT||t.type===jw.STYLE||t.type===jw.STYLESHEET)return null;const n=Cb(this,e.children,null);return new Hg(e.name,Cb(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Vg(e.name,e.value,e.sourceSpan,void 0,e.i18n)}visitText(e){return new $g(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function FC(e){return/^data-/i.test(e)?e.substring(5):e}function LC(e,t){t.push(...e.map(e=>zg.fromParsedEvent(e)))}var jC;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE",e[e.PROJECTION=2]="PROJECTION"}(jC||(jC={}));class $C{constructor(e,t,n=0,r=null,i,s){this.index=e,this.ref=t,this.level=n,this.templateIndex=r,this.meta=i,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||{getUniqueId:Gy(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,t,n,r){if(t.isVoid&&r)return;const i=t.isVoid||!r?t.startName:t.closeName,s={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r};Ky(this.placeholders,i,s)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach((t,n)=>e.set(n,t.map(zC))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,t){Ky(this._registry.icus,e,t)}appendBoundText(e){Yy(e,this.bindings.size,this.id).forEach((e,t)=>Ky(this.placeholders,t,...e))}appendTemplate(e,t){this.appendTag(jC.TEMPLATE,e,t,!1),this.appendTag(jC.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}appendElement(e,t,n){this.appendTag(jC.ELEMENT,e,t,n)}appendProjection(e,t){this.appendTag(jC.PROJECTION,e,t,!1),this.appendTag(jC.PROJECTION,e,t,!0)}forkChildContext(e,t,n){return new $C(e,this.ref,this.level+1,t,n,this._registry)}reconcileChildContext(e){["start","close"].forEach(t=>{const n=e.meta[`${t}Name`],r=(this.placeholders.get(n)||[]).find(UC(this.id,e.templateIndex));r&&(r.ctx=e.id)}),e.placeholders.forEach((t,n)=>{const r=this.placeholders.get(n);if(!r)return void this.placeholders.set(n,t);const i=function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(r,UC(e.id,e.templateIndex));if(i>=0){const e=n.startsWith("CLOSE");if(n.endsWith("NG-TEMPLATE"))r.splice(i+(e?0:1),0,...t);else{t[e?t.length-1:0].tmpl=r[i],r.splice(i,1,...t)}}else r.push(...t);this.placeholders.set(n,r)}),this._unresolvedCtxCount--}}function BC(e,t,n,r){return Wy(`${r?"/":""}${e}${t}`,n)}function VC(e,{index:t,ctx:n,isVoid:r},i){return r?BC(e,t,n)+BC(e,t,n,!0):BC(e,t,n,i)}function UC(e,t){return n=>"object"==typeof n&&n.type===jC.TEMPLATE&&n.index===t&&n.ctx===e}function zC(e){const t=(e,t)=>VC("#",e,t),n=(e,t)=>VC("*",e,t);switch(e.type){case jC.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case jC.TEMPLATE:return n(e,e.closed);case jC.PROJECTION:return r=e,i=e.closed,VC("!",r,i);default:return e}var r,i}const HC={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class qC{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,t,n){const r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];const i=e.toUpperCase(),s=HC[i]||`TAG_${i}`,o=this._generateUniqueName(n?s:`START_${s}`);return this._signatureToName[r]=o,o}getCloseTagPlaceholderName(e){const t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];const n=e.toUpperCase(),r=HC[n]||`TAG_${n}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=i,i}getPlaceholderName(e,t){const n=e.toUpperCase(),r=`PH: ${n}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];const i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,t,n){return`<${e}`+Object.keys(t).sort().map(e=>` ${e}=${t[e]}`).join("")+(n?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,`${e}_${t}`}}const WC=new CC(new cC);function GC(e){const t=new QC(WC,e);return(e,n,r,i,s)=>t.toI18nMessage(e,n,r,i,s)}class QC{constructor(e,t){this._expressionParser=e,this._interpolationConfig=t}toI18nMessage(e,t,n,r,i){this._isIcu=1==e.length&&e[0]instanceof yb,this._icuDepth=0,this._placeholderRegistry=new qC,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=i;const s=Cb(this,e,{});return new Xg(s,this._placeholderToContent,this._placeholderToMessage,t,n,r)}_visitNode(e,t){return this._visitNodeFn&&this._visitNodeFn(e,t),t}visitElement(e,t){const n=Cb(this,e.children),r={};e.attrs.forEach(e=>{r[e.name]=e.value});const i=bp(e.name).isVoid,s=this._placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);this._placeholderToContent[s]=e.sourceSpan.toString();let o="";i||(o=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[o]=`</${e.name}>`);const a=new ty(e.name,r,s,o,n,i,e.sourceSpan);return this._visitNode(e,a)}visitAttribute(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}visitText(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}visitComment(e,t){return null}visitExpansion(e,t){this._icuDepth++;const n={},r=new ey(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach(e=>{n[e.value]=new Jg(e.expression.map(e=>e.visit(this,{})),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){const t=this._placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=t,this._placeholderToContent[t]=e.switchValue,this._visitNode(e,r)}const i=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),s=new QC(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[i]=s.toI18nMessage([e],"","","");const o=new ry(r,i,e.sourceSpan);return this._visitNode(e,o)}visitExpansionCase(e,t){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,t){const n=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!n)return new Zg(e,t);const r=[],i=new Jg(r,t),{start:s,end:o}=this._interpolationConfig;for(let l=0;l<n.strings.length-1;l++){const e=n.expressions[l],i=e.split(KC)[2]||"INTERPOLATION",a=this._placeholderRegistry.getPlaceholderName(i,e);n.strings[l].length&&r.push(new Zg(n.strings[l],t)),r.push(new ny(e,a,t)),this._placeholderToContent[a]=s+e+o}const a=n.strings.length-1;return n.strings[a].length&&r.push(new Zg(n.strings[a],t)),i}}const KC=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function YC(e,t){e.i18n=t}class XC{constructor(e=xv,t=!1){this.interpolationConfig=e,this.keepI18nAttrs=t,this._createI18nMessage=GC(e)}_generateI18nMessage(e,t="",n){const r="string"==typeof t?function(e){let t,n,r;if(e){const i=e.indexOf("@@"),s=e.indexOf("|");let o;[o,t]=i>-1?[e.slice(0,i),e.slice(i+2)]:[e,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{id:t,meaning:n,description:r}}(t):Hy(t),i=this._createI18nMessage(e,r.meaning||"",r.description||"",r.id||"",n);return i.id||(i.id="string"!=typeof t&&t.id||sy(i)),i}visitElement(e,t){if(function(e){return e.attrs.some(e=>Vy(e.name))}(e)){const t=[],n={};for(const r of e.attrs)if("i18n"===r.name){const t=e.i18n||r.value,n=this._generateI18nMessage(e.children,t,YC);n.nodes.length&&(e.i18n=n)}else if(r.name.startsWith("i18n-")){n[r.name.slice("i18n-".length)]=r.value}else t.push(r);if(Object.keys(n).length)for(const e of t){const t=n[e.name];void 0!==t&&e.value&&(e.i18n=this._generateI18nMessage([e],e.i18n||t))}this.keepI18nAttrs||(e.attrs=t)}return Cb(this,e.children),e}visitExpansion(e,t){let n;const r=e.i18n;if(r instanceof ry){const t=r.name;n=this._generateI18nMessage([e],r),qy(n).name=t}else n=this._generateI18nMessage([e],r);return e.i18n=n,e}visitText(e,t){return e}visitAttribute(e,t){return e}visitComment(e,t){return e}visitExpansionCase(e,t){return e}}const ZC=new class{constructor(){this.icuNestingLevel=0}formatPh(e){const t=this.icuNestingLevel>0,n=Xy(e,!t);return t?`{${n}}`:`{$${n}}`}visitText(e,t){return e.value}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){this.icuNestingLevel++;const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`),r=`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`;return this.icuNestingLevel--,r}visitTagPlaceholder(e,t){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e,t){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}};const JC=new Map([["window",Tg.resolveWindow],["document",Tg.resolveDocument],["body",Tg.resolveBody]]),eE=[" ","\n","\r","\t"];function tE(e,t){return bf(pf("rf").bitwiseAnd(wf(e),null,!1),t)}function nE(e,t=null,n=null){const{type:r,name:i,target:s,phase:o,handler:a}=e;if(s&&!JC.has(s))throw new Error(`Unexpected global target '${s}' defined for '${i}' event.\n        Supported list of global targets: ${Array.from(JC.keys())}.`);const l=null===n||0===n.bindingLevel?pf("ctx"):n.getOrCreateSharedContextVar(0),c=A_(n,l,a,"b",()=>Nf("Unexpected interpolation"),e.handlerSpan),h=[];n&&(h.push(...n.restoreViewStatement()),h.push(...n.variableDeclarations())),h.push(...c.render3Stmts);const u=1===r?function(e,t){return`@${e}.${t}`}(i,o):i,d=t&&sg(t),p=_f([new Mm("$event",cm)],h,hm,null,d),m=[wf(u),p];return s&&m.push(wf(!1),mf(JC.get(s))),m}class rE{constructor(e,t,n=0,r,i,s,o,a,l,c,h,u,d,p){this.constantPool=e,this.level=n,this.contextName=r,this.i18nContext=i,this.templateIndex=s,this.templateName=o,this.directiveMatcher=a,this.directives=l,this.pipeTypeByName=c,this.pipes=h,this._namespace=u,this.relativeContextFilePath=d,this.i18nUseExternalIds=p,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._lastNodeIndexWithFlush=-1,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=tv,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=nv,this.visitVariable=nv,this.visitTextAttribute=nv,this.visitBoundAttribute=nv,this.visitBoundEvent=nv,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=d.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new iE(e,()=>this.allocateDataSlot(),e=>this.allocatePureFunctionSlots(e),(e,t,n,r)=>{const i=c.get(e);i&&this.pipes.add(i),this._bindingScope.set(this.level,t,r),this.creationInstruction(null,Tg.pipe,[wf(n),wf(e)])})}registerContextVariables(e){const t=this._bindingScope.freshReferenceName(),n=this.level,r=pf(e.name+t);this._bindingScope.set(n,e.name,r,1,(t,i)=>{let s;if(t.bindingLevel===n)s=pf("ctx");else{const e=t.getSharedContextName(n);s=e||lE(i)}return[r.set(s.prop(e.value||"$implicit")).toConstDecl()]})}buildTemplateFunction(e,t,n=0,r){this._ngContentSelectorsOffset=n,this._namespace!==Tg.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(e=>this.registerContextVariables(e));const i=this.i18nContext||Uy(r)&&!zy(r)&&!(1===(s=e).length&&s[0]instanceof Hg&&e[0].i18n===r);var s;const o=gE(e);if(i&&this.i18nStart(null,r,o),Yg(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(e=>e()),0===this.level&&this._ngContentReservedSlots.length){const e=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const t=this._ngContentReservedSlots.map(e=>"*"!==e?tm(e):e);e.push(this.constantPool.getConstLiteral(rv(t),!0))}this.creationInstruction(null,Tg.projectionDef,e,!0)}i&&this.i18nEnd(null,o);const a=this._creationCodeFns.map(e=>e()),l=this._updateCodeFns.map(e=>e()),c=this._bindingScope.viewSnapshotStatements(),h=this._bindingScope.variableDeclarations().concat(this._tempVariables),u=a.length>0?[tE(1,c.concat(a))]:[],d=l.length>0?[tE(2,h.concat(l))]:[];return _f([new Mm("rf",dm),new Mm("ctx",null)],[...this._prefixCode,...u,...d],hm,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(e,t={},n,r){const i=n||pf(this.constantPool.uniqueName("I18N_")),s=this.i18nGenerateClosureVar(e.id),o=this.i18nFormatPlaceholderNames(t,!0),a=Hy(e),l=function(e,t,n,r,i={},s){const o=[];return o.push(...By(e,t,n,r,i)),s&&o.push(new Ym(e.set(s(e)))),o}(i,s,function(e){return e.nodes.map(e=>e.visit(ZC,null)).join("")}(e),a,o,r);return this.constantPool.statements.push(...l),i}i18nFormatPlaceholderNames(e={},t){const n={};return e&&Object.keys(e).length&&Object.keys(e).forEach(r=>n[Xy(r,t)]=e[r]),n}i18nAppendBindings(e){e.length>0&&e.forEach(e=>this.i18n.appendBinding(e))}i18nBindProps(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(r instanceof $g)t[n]=wf(r.value);else{const e=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(e),e instanceof c_){const{strings:r,expressions:i}=e,{id:s,bindings:o}=this.i18n,a=function(e,t=0,n=0){if(!e.length)return"";let r="";const i=e.length-1;for(let s=0;s<i;s++)r+=`${e[s]}${Wy(t+s,n)}`;return r+=e[i],r}(r,o.size,s);this.i18nAppendBindings(i),t[n]=wf(a)}}}),t}i18nGenerateClosureVar(e){let t;const n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const r=Zy("EXTERNAL_"),i=this.constantPool.uniqueName(n);t=`${r}${sg(e)}$$${i}`}else{const e=Zy(n);t=this.constantPool.uniqueName(e)}return pf(t)}i18nUpdateRef(e){const{icus:t,meta:n,isRoot:r,isResolved:i,isEmitted:s}=e;if(r&&i&&!s&&!zy(n)){e.isEmitted=!0;const r=e.getSerializedPlaceholders();let i={},s=r.size?Qy(r):{};let o;t.size&&t.forEach((e,t)=>{if(1===e.length)s[t]=e[0];else{const n=Wy(`I18N_EXP_${t}`);s[t]=wf(n),i[t]=yf(e)}}),(Array.from(r.values()).some(e=>e.length>1)||Object.keys(i).length)&&(o=e=>{const t=[e];return Object.keys(i).length&&t.push($y(i,!0)),aE(null,Tg.i18nPostprocess,t)}),this.i18nTranslate(n,s,e.ref,o)}}i18nStart(e=null,t,n){const r=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(r,this.templateIndex,t);else{const e=pf(this.constantPool.uniqueName("I18N_"));this.i18n=new $C(r,e,0,this.templateIndex,t)}const{id:i,ref:s}=this.i18n,o=[wf(r),s];i>0&&o.push(wf(i)),this.creationInstruction(e,n?Tg.i18n:Tg.i18nStart,o)}i18nEnd(e=null,t){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:r}=this.i18n;if(r.size){const t=[];r.forEach(n=>{t.push({sourceSpan:e,value:()=>this.convertPropertyBinding(n)})}),this.updateInstructionChain(n,Tg.i18nExp,t),this.updateInstruction(n,e,Tg.i18nApply,[wf(n)])}t||this.creationInstruction(e,Tg.i18nEnd),this.i18n=null}visitContent(e){const t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[wf(t)],i=[];this._ngContentReservedSlots.push(e.selector),e.attributes.forEach(e=>{const{name:t,value:n}=e;"ngProjectAs"===t?i.push(...dE(e)):"select"!==t.toLowerCase()&&i.push(wf(t),wf(n))}),i.length>0?r.push(wf(n),yf(i)):0!==n&&r.push(wf(n)),this.creationInstruction(e.sourceSpan,Tg.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)}getNamespaceInstruction(e){switch(e){case"math":return Tg.namespaceMathML;case"svg":return Tg.namespaceSVG;default:return Tg.namespaceHTML}}addNamespaceInstruction(e,t){this._namespace=e,this.creationInstruction(t.sourceSpan,e)}visitElement(e){const t=this.allocateDataSlot(),n=new rC(wf(t),null);let r=!1;const i=Uy(e.i18n)&&!zy(e.i18n);if(i&&this.i18n)throw new Error("Could not mark an element as translatable inside of a translatable section");const s=[],o=[],[a,l]=hp(e.name),c=up(e.name);for(const E of e.attributes){const{name:e,value:t}=E;"ngNonBindable"===e?r=!0:"style"===e?n.registerStyleAttr(t):"class"===e?n.registerClassAttr(t):E.i18n?s.push(E):o.push(E)}this.matchDirectives(e.name,e);const h=[wf(t)];c||h.push(wf(l));const u=[],d=[];e.inputs.forEach(e=>{n.registerBoundInput(e)||(0===e.type&&e.i18n?s.push(e):d.push(e))}),o.forEach(e=>{"ngProjectAs"===e.name?u.push(...dE(e)):u.push(...hE(e.name),wf(e.value))}),u.push(...this.prepareNonRenderAttrs(d,e.outputs,n,[],s)),h.push(this.toAttrsParam(u)),h.push(this.prepareRefsParameter(e.references));const p=this._namespace,m=this.getNamespaceInstruction(a);m!==p&&this.addNamespaceInstruction(m,e),this.i18n&&this.i18n.appendElement(e.i18n,t);const f=!i&&this.i18n?!gE(e.children):e.children.length>0,g=!n.hasBindings&&0===e.outputs.length&&0===s.length&&!f,y=!g&&!n.hasBindings&&gE(e.children);if(g)this.creationInstruction(e.sourceSpan,c?Tg.elementContainer:Tg.element,sv(h));else{if(this.creationInstruction(e.sourceSpan,c?Tg.elementContainerStart:Tg.elementStart,sv(h)),r&&this.creationInstruction(e.sourceSpan,Tg.disableBindings),s.length){let n=!1;const r=[],i=[];if(s.forEach(t=>{const s=t.i18n;if(t instanceof Vg)r.push(wf(t.name),this.i18nTranslate(s));else{const o=t.value.visit(this._valueConverter);if(this.allocateBindingSlots(o),o instanceof c_){const a=Qy(Yy(s));r.push(wf(t.name),this.i18nTranslate(s,a)),o.expressions.forEach(t=>{n=!0,i.push({sourceSpan:e.sourceSpan,value:()=>this.convertExpressionBinding(t)})})}}}),i.length&&this.updateInstructionChain(t,Tg.i18nExp,i),r.length){const i=wf(this.allocateDataSlot()),s=this.constantPool.getConstLiteral(yf(r),!0);this.creationInstruction(e.sourceSpan,Tg.i18nAttributes,[i,s]),n&&this.updateInstruction(t,e.sourceSpan,Tg.i18nApply,[i])}}this.processStylingInstruction(t,n.buildStylingInstruction(e.sourceSpan,this.constantPool),!0),e.outputs.forEach(n=>{this.creationInstruction(n.sourceSpan,Tg.listener,this.prepareListenerParameter(e.name,n,t))}),i&&this.i18nStart(e.sourceSpan,e.i18n,y)}const v=n.buildUpdateLevelInstructions(this._valueConverter),_=v.length-1;for(let E=0;E<=_;E++){const e=v[E];this._bindingSlots+=e.allocateBindingSlots,this.processStylingInstruction(t,e,!1)}const b=wf(void 0),w=[],C=[];if(d.forEach(e=>{const n=e.type;if(4===n){const t=e.value.visit(this._valueConverter),n=!(t instanceof o_)||!!t.value;this.allocateBindingSlots(t),w.push({name:_v(e.name),sourceSpan:e.sourceSpan,value:()=>n?this.convertPropertyBinding(t):b})}else{if(e.i18n)return;const r=e.value.visit(this._valueConverter);if(void 0!==r){const i=[],[s,o]=hp(e.name),a=1===n,l=mE(e.securityContext,a);if(l&&i.push(l),s){const e=wf(s);l?i.push(e):i.push(wf(null),e)}if(this.allocateBindingSlots(r),0===n)r instanceof c_?this.interpolatedUpdateInstruction(function(e){switch(hv(e)){case 1:return Tg.propertyInterpolate;case 3:return Tg.propertyInterpolate1;case 5:return Tg.propertyInterpolate2;case 7:return Tg.propertyInterpolate3;case 9:return Tg.propertyInterpolate4;case 11:return Tg.propertyInterpolate5;case 13:return Tg.propertyInterpolate6;case 15:return Tg.propertyInterpolate7;case 17:return Tg.propertyInterpolate8;default:return Tg.propertyInterpolateV}}(r),t,o,e,r,i):w.push({name:o,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(r),params:i});else if(1===n)if(r instanceof c_&&hv(r)>1)this.interpolatedUpdateInstruction(function(e){switch(hv(e)){case 3:return Tg.attributeInterpolate1;case 5:return Tg.attributeInterpolate2;case 7:return Tg.attributeInterpolate3;case 9:return Tg.attributeInterpolate4;case 11:return Tg.attributeInterpolate5;case 13:return Tg.attributeInterpolate6;case 15:return Tg.attributeInterpolate7;case 17:return Tg.attributeInterpolate8;default:return Tg.attributeInterpolateV}}(r),t,o,e,r,i);else{const t=r instanceof c_?r.expressions[0]:r;C.push({name:o,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(t),params:i})}else this.updateInstruction(t,e.sourceSpan,Tg.classProp,()=>[wf(t),wf(o),this.convertPropertyBinding(r),...i])}}}),w.length>0&&this.updateInstructionChain(t,Tg.property,w),C.length>0&&this.updateInstructionChain(t,Tg.attribute,C),Yg(this,e.children),!i&&this.i18n&&this.i18n.appendElement(e.i18n,t,!0),!g){const t=e.endSourceSpan||e.sourceSpan;i&&this.i18nEnd(t,y),r&&this.creationInstruction(t,Tg.enableBindings),this.creationInstruction(t,c?Tg.elementContainerEnd:Tg.elementEnd)}}interpolatedUpdateInstruction(e,t,n,r,i,s){this.updateInstruction(t,r.sourceSpan,e,()=>[wf(n),...this.getUpdateInstructionArguments(i),...s])}visitTemplate(e){const t=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,t);const n=sg(e.tagName||""),r=`${this.contextName}${n?"_"+n:""}_${t}`,i=`${r}_Template`,s=[wf(t),pf(i),wf(e.tagName?hp(e.tagName)[1]:e.tagName)];this.matchDirectives("ng-template",e);const o=[];e.attributes.forEach(e=>{o.push(rv(e.name),rv(e.value))}),o.push(...this.prepareNonRenderAttrs(e.inputs,e.outputs,void 0,e.templateAttrs)),s.push(this.toAttrsParam(o)),e.references&&e.references.length&&(s.push(this.prepareRefsParameter(e.references)),s.push(mf(Tg.templateRefExtractor)));const a=new rE(this.constantPool,this._bindingScope,this.level+1,r,this.i18n,t,i,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds);this._nestedTemplateFns.push(()=>{const t=a.buildTemplateFunction(e.children,e.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,e.i18n);this.constantPool.statements.push(t.toDeclStmt(i,null)),a._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...a._ngContentReservedSlots)}),this.creationInstruction(e.sourceSpan,Tg.templateCreate,()=>(s.splice(2,0,wf(a.getConstCount()),wf(a.getVarCount())),sv(s))),this.templatePropertyBindings(t,e.templateAttrs),"ng-template"===e.tagName&&(this.templatePropertyBindings(t,e.inputs),e.outputs.forEach(e=>{this.creationInstruction(e.sourceSpan,Tg.listener,this.prepareListenerParameter("ng_template",e,t))}))}visitBoundText(e){if(this.i18n){const t=e.value.visit(this._valueConverter);return this.allocateBindingSlots(t),void(t instanceof c_&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(t.expressions)))}const t=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,Tg.text,[wf(t)]);const n=e.value.visit(this._valueConverter);this.allocateBindingSlots(n),n instanceof c_?this.updateInstruction(t,e.sourceSpan,function(e){switch(hv(e)){case 1:return Tg.textInterpolate;case 3:return Tg.textInterpolate1;case 5:return Tg.textInterpolate2;case 7:return Tg.textInterpolate3;case 9:return Tg.textInterpolate4;case 11:return Tg.textInterpolate5;case 13:return Tg.textInterpolate6;case 15:return Tg.textInterpolate7;case 17:return Tg.textInterpolate8;default:return Tg.textInterpolateV}}(n),()=>this.getUpdateInstructionArguments(n)):this.updateInstruction(t,e.sourceSpan,Tg.textBinding,()=>[this.convertPropertyBinding(n)])}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,Tg.text,[wf(this.allocateDataSlot()),wf(e.value)])}visitIcu(e){let t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));const n=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),s=e.i18n,o=e=>{const t=Object.assign({},r,i),n=this.i18nFormatPlaceholderNames(t,!1);return aE(null,Tg.i18nPostprocess,[e,$y(n,!0)])};if(zy(n.meta))this.i18nTranslate(s,{},n.ref,o);else{const e=this.i18nTranslate(s,{},void 0,o);n.appendIcu(qy(s).name,e)}return t&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(rv(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(e,t){const n=[];t.forEach(e=>{if(e instanceof Ug){const t=e.value.visit(this._valueConverter);void 0!==t&&(this.allocateBindingSlots(t),n.push({name:e.name,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(t)}))}}),n.length>0&&this.updateInstructionChain(e,Tg.property,n)}instructionFn(e,t,n,r,i=!1){e[i?"unshift":"push"](()=>{const e=Array.isArray(r)?r:r();return aE(t,n,e).toStmt()})}processStylingInstruction(e,t,n){t&&(n?this.creationInstruction(t.sourceSpan,t.reference,()=>t.params(e=>this.convertPropertyBinding(e))):this.updateInstruction(e,t.sourceSpan,t.reference,()=>t.params(e=>t.supportsInterpolation&&e instanceof c_?this.getUpdateInstructionArguments(e):this.convertPropertyBinding(e))))}creationInstruction(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)}updateInstruction(e,t,n,r){this.addSelectInstructionIfNecessary(e,t),this.instructionFn(this._updateCodeFns,t,n,r||[])}updateInstructionChain(e,t,n){const r=n.length?n[0].sourceSpan:null;this.addSelectInstructionIfNecessary(e,r),this._updateCodeFns.push(()=>{const e=n.map(e=>{const t=[e.value(),...e.params||[]];return e.name&&t.unshift(wf(e.name)),t});return cv(t,e,r).toStmt()})}addSelectInstructionIfNecessary(e,t){this._lastNodeIndexWithFlush<e&&(e>0&&this.instructionFn(this._updateCodeFns,t,Tg.select,[wf(e)]),this._lastNodeIndexWithFlush=e)}allocatePureFunctionSlots(e){const t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}allocateBindingSlots(e){this._bindingSlots+=e instanceof c_?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?pf("ctx"):this._bindingScope.getOrCreateSharedContextVar(0)}convertExpressionBinding(e){return P_(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),C_.TrySimple).currValExpr}convertPropertyBinding(e){const t=P_(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),C_.TrySimple,()=>Nf("Unexpected interpolation")),n=t.currValExpr;return this._tempVariables.push(...t.stmts),n}getUpdateInstructionArguments(e){const{args:t,stmts:n}=function(e,t,n,r){const i=new $_(e,t,r,void 0),s=n.visit(i,E_.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const o=N_(i,r);let a=s.args.slice(1);if(n instanceof c_){const e=n.strings;3===a.length&&""===e[0]&&""===e[1]?a=[a[1]]:a.length>=19&&(a=[yf(a)])}return{stmts:o,args:a}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...n),t}matchDirectives(e,t){if(this.directiveMatcher){const n=function(e,t){const n=new Cp;return n.setElement(e),Object.getOwnPropertyNames(t).forEach(e=>{const r=t[e];if(n.addAttribute(e,r),"class"===e.toLowerCase()){r.trim().split(/\s+/).forEach(e=>n.addClassName(e))}}),n}(e,lv(t));this.directiveMatcher.match(n,(e,t)=>{this.directives.add(t)})}}prepareNonRenderAttrs(e,t,n,r=[],i=[]){const s=new Set,o=[];function a(e,t){"string"==typeof e?s.has(e)||(o.push(...hE(e)),void 0!==t&&o.push(t),s.add(e)):o.push(wf(e))}if(n&&n.populateInitialStylingAttrs(o),e.length||t.length){const n=o.length;for(let t=0;t<e.length;t++){const n=e[t];4!==n.type&&1!==n.type&&a(n.name)}for(let e=0;e<t.length;e++){const n=t[e];1!==n.type&&a(n.name)}o.length!==n&&o.splice(n,0,wf(3))}return r.length&&(o.push(wf(4)),r.forEach(e=>a(e.name))),i.length&&(o.push(wf(6)),i.forEach(e=>a(e.name))),o}toAttrsParam(e){return e.length>0?this.constantPool.getConstLiteral(yf(e),!0):qm}prepareRefsParameter(e){if(!e||0===e.length)return qm;const t=Eg(e.map(e=>{const t=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),r=this.level,i=pf(n);return this._bindingScope.set(r,e.name,i,0,(e,n)=>{const r=n>0?[lE(n).toStmt()]:[],s=i.set(mf(Tg.reference).callFn([wf(t)]));return r.concat(s.toConstDecl())},!0),[e.name,e.value]}));return this.constantPool.getConstLiteral(rv(t),!0)}prepareListenerParameter(e,t,n){return()=>{const r=t.name,i=1===t.type?bv(r,t.phase):sg(r),s=`${this.templateName}_${e}_${i}_${n}_listener`,o=this._bindingScope.nestedScope(this._bindingScope.bindingLevel);return nE(t,s,o)}}}class iE extends class{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new c_(e.span,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new e_(e.span,n,e.name):e}visitPropertyWrite(e,t){const n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new t_(e.span,n,e.name,r):e}visitSafePropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new n_(e.span,n,e.name):e}visitMethodCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new p_(e.span,n,e.name,r):e}visitSafeMethodCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new m_(e.span,n,e.name,r):e}visitFunctionCall(e,t){const n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new f_(e.span,n,r):e}visitLiteralArray(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new a_(e.span,n):e}visitLiteralMap(e,t){const n=this.visitAll(e.values);return n!==e.values?new l_(e.span,e.keys,n):e}visitBinary(e,t){const n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new h_(e.span,e.operation,n,r):e}visitPrefixNot(e,t){const n=e.expression.visit(this);return n!==e.expression?new u_(e.span,n):e}visitNonNullAssert(e,t){const n=e.expression.visit(this);return n!==e.expression?new d_(e.span,n):e}visitConditional(e,t){const n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new Jv(e.span,n,r,i):e}visitPipe(e,t){const n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new s_(e.span,n,e.name,r):e}visitKeyedRead(e,t){const n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new r_(e.span,n,r):e}visitKeyedWrite(e,t){const n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new i_(e.span,n,r,i):e}visitAll(e){const t=new Array(e.length);let n=!1;for(let r=0;r<e.length;++r){const i=e[r],s=i.visit(this);t[r]=s,n=n||s!==i}return n?t:e}visitChain(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new Zv(e.span,n):e}visitQuote(e,t){return e}}{constructor(e,t,n,r){super(),this.constantPool=e,this.allocateSlot=t,this.allocatePureFunctionSlots=n,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(e,t){const n=this.allocateSlot(),r=`PIPE:${n}`,i=this.allocatePureFunctionSlots(2+e.args.length),s=new e_(e.span,new Xv(e.span),r),{identifier:o,isVarLength:a}=function(e){const t=sE[e.length];return{identifier:t||Tg.pipeBindV,isVarLength:!t}}(e.args);this.definePipe(e.name,r,n,mf(o));const l=[e.exp,...e.args],c=a?this.visitAll([new a_(e.span,l)]):this.visitAll(l),h=new f_(e.span,s,[new o_(e.span,n),new o_(e.span,i),...c]);return this._pipeBindExprs.push(h),h}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(t=>{t.args[1].value+=e})}visitLiteralArray(e,t){return new V_(e.span,this.visitAll(e.expressions),e=>{const t=yf(e);return e.every(e=>e.isConstant())?this.constantPool.getConstLiteral(t,!0):cE(this.constantPool,t,this.allocatePureFunctionSlots)})}visitLiteralMap(e,t){return new V_(e.span,this.visitAll(e.values),t=>{const n=vf(t.map((t,n)=>({key:e.keys[n].key,value:t,quoted:e.keys[n].quoted})));return t.every(e=>e.isConstant())?this.constantPool.getConstLiteral(n,!0):cE(this.constantPool,n,this.allocatePureFunctionSlots)})}}const sE=[Tg.pipeBind1,Tg.pipeBind2,Tg.pipeBind3,Tg.pipeBind4];const oE=[Tg.pureFunction0,Tg.pureFunction1,Tg.pureFunction2,Tg.pureFunction3,Tg.pureFunction4,Tg.pureFunction5,Tg.pureFunction6,Tg.pureFunction7,Tg.pureFunction8];function aE(e,t,n){return mf(t,null,e).callFn(n,e)}function lE(e){return mf(Tg.nextContext).callFn(e>1?[wf(e)]:[])}function cE(e,t,n){const{literalFactory:r,literalFactoryArguments:i}=e.getLiteralFactory(t),s=n(1+i.length);i.length>0||Nf("Expected arguments to a literal factory function");const{identifier:o,isVarLength:a}=function(e){const t=oE[e.length];return{identifier:t||Tg.pureFunctionV,isVarLength:!t}}(i),l=[wf(s),r];return a?l.push(yf(i)):l.push(...i),mf(o).callFn(l)}function hE(e){const[t,n]=hp(e),r=wf(n);return t?[wf(0),wf(t),r]:[r]}class uE{constructor(e=0,t=null){this.bindingLevel=e,this.parent=t,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}static get ROOT_SCOPE(){return uE._ROOT_SCOPE||(uE._ROOT_SCOPE=(new uE).set(0,"$event",pf("$event"))),uE._ROOT_SCOPE}get(e){let t=this;for(;t;){let n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,t,n,r=0,i,s){if(this.map.has(t)){if(s)return this;Nf(`The name ${t} is already defined in scope to be ${this.map.get(t)}`)}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:s||!1}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}nestedScope(e){const t=new uE(e,this);return e>0&&t.generateSharedContextVar(0),t}getOrCreateSharedContextVar(e){const t="$$shared_ctx$$"+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}getSharedContextName(e){const t=this.map.get("$$shared_ctx$$"+e);return t&&t.declare?t.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){const t=this.map.get("$$shared_ctx$$"+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const t=pf("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+e,{retrievalLevel:e,lhs:t,declareLocalCallback:(e,n)=>[t.set(lE(n)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(e){const t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}maybeRestoreView(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=pf(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[aE(null,Tg.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const e=aE(null,Tg.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(e=>e.declare).sort((e,t)=>t.retrievalLevel-e.retrievalLevel||t.priority-e.priority).reduce((t,n)=>{const r=this.bindingLevel-n.retrievalLevel,i=n.declareLocalCallback(this,r-e);return e=r,t.concat(i)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return`_r${e.referenceNameIndex++}`}}function dE(e){const t=tm(e.value)[0];return[wf(5),rv(t)]}function pE(e=xv){return new Nw(new CC(new cC),e,new DC,null,[])}function mE(e,t){switch(e){case Xp.HTML:return mf(Tg.sanitizeHtml);case Xp.SCRIPT:return mf(Tg.sanitizeScript);case Xp.STYLE:return t?mf(Tg.sanitizeStyle):null;case Xp.URL:return mf(Tg.sanitizeUrl);case Xp.RESOURCE_URL:return mf(Tg.sanitizeResourceUrl);default:return null}}function fE(e){return e instanceof $g||e instanceof Bg||e instanceof Kg}function gE(e){return e.every(fE)}const yE=[],vE=/attr\.([^\]]+)/;function _E(e,t,n){const r=new av;r.set("type",e.type),r.set("selectors",rv(tm(e.selector)));const i=pv({name:e.name,type:e.type,deps:e.deps,injectFn:Tg.directiveInject});return r.set("factory",i.factory),e.queries.length>0&&r.set("contentQueries",SE(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",OE(e.viewQueries,t,e.name)),r.set("hostBindings",AE(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name)),r.set("inputs",iv(e.inputs,!0)),r.set("outputs",iv(e.outputs)),null!==e.exportAs&&r.set("exportAs",yf(e.exportAs.map(e=>wf(e)))),{definitionMap:r,statements:i.statements}}function bE(e,t){const n=[],r=t.providers,i=t.viewProviders;if(r||i){const e=[r||new Bm([])];i&&e.push(i),n.push(mf(Tg.ProvidersFeature).callFn(e))}t.usesInheritance&&n.push(mf(Tg.InheritDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(mf(Tg.NgOnChangesFeature).callFn(yE)),n.length&&e.set("features",yf(n))}function wE(e,t,n){const{definitionMap:r,statements:i}=_E(e,t,n);bE(r,e);const s=mf(Tg.defineDirective).callFn([r.toLiteralMap()]);if(!e.selector)throw new Error(`Directive ${e.name} has no selector, please add it!`);return{expression:s,type:TE(e,Tg.DirectiveDefWithMeta),statements:i}}function CE(e,t,n){const{definitionMap:r,statements:i}=_E(e,t,n);bE(r,e);const s=e.selector&&Cp.parse(e.selector),o=s&&s[0];if(o){const e=o.getAttrs();e.length&&r.set("attrs",t.getConstLiteral(yf(e.map(e=>wf(null!=e?e:void 0))),!0))}let a=null;if(e.directives.length>0){const t=new Ep;for(const{selector:n,expression:r}of e.directives)t.addSelectables(Cp.parse(n),r);a=t}const l=e.name,c=l?`${l}_Template`:null,h=new Set,u=new Set,d=e.changeDetection,p=e.template,m=new rE(t,uE.ROOT_SCOPE,0,l,null,null,c,a,h,e.pipes,u,Tg.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),f=m.buildTemplateFunction(p.nodes,[]),g=m.getNgContentSelectors();if(g&&r.set("ngContentSelectors",g),r.set("consts",wf(m.getConstCount())),r.set("vars",wf(m.getVarCount())),r.set("template",f),h.size){let t=yf(Array.from(h));e.wrapDirectivesAndPipesInClosure&&(t=_f([],[new Xm(t)])),r.set("directives",t)}if(u.size){let t=yf(Array.from(u));e.wrapDirectivesAndPipesInClosure&&(t=_f([],[new Xm(t)])),r.set("pipes",t)}if(null===e.encapsulation&&(e.encapsulation=Rp.Emulated),e.styles&&e.styles.length){const t=(e.encapsulation==Rp.Emulated?function(e,t,n){const r=new U_;return e.map(e=>r.shimCssText(e,t,n))}(e.styles,"_ngcontent-%COMP%","_nghost-%COMP%"):e.styles).map(e=>wf(e));r.set("styles",yf(t))}else e.encapsulation===Rp.Emulated&&(e.encapsulation=Rp.None);e.encapsulation!==Rp.Emulated&&r.set("encapsulation",wf(e.encapsulation)),null!==e.animations&&r.set("data",vf([{key:"animation",value:e.animations,quoted:!1}])),null!=d&&d!==Mp.Default&&r.set("changeDetection",wf(d));(e.selector||"").replace(/\n/g,"");return{expression:mf(Tg.defineComponent).callFn([r.toLiteralMap()]),type:TE(e,Tg.ComponentDefWithMeta),statements:i}}function EE(e,t){const n=[ov(e,t),wf(e.descendants)];return e.read&&n.push(e.read),n}function SE(e,t,n){const r=[],i=[],s=ev(i,"_t");for(const a of e){const e=a.static?Tg.staticContentQuery:Tg.contentQuery;r.push(mf(e).callFn([pf("dirIndex"),...EE(a,t)]).toStmt());const n=s(),o=mf(Tg.loadContentQuery).callFn([]),l=mf(Tg.queryRefresh).callFn([n.set(o)]),c=pf("ctx").prop(a.propertyName).set(a.first?n.prop("first"):n);i.push(l.and(c).toStmt())}const o=n?`${n}_ContentQueries`:null;return _f([new Mm("rf",dm),new Mm("ctx",null),new Mm("dirIndex",null)],[tE(1,r),tE(2,i)],hm,null,o)}function xE(e){return gf(vf(Object.keys(e).map(t=>({key:t,value:wf(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}))))}function kE(e){return e.length>0?gf(yf(e.map(e=>wf(e)))):pm}function TE(e,t){const n=(e.selector||"").replace(/\n/g,"");return gf(mf(t,[vv(e.type,e.typeArgumentCount),(r=n,gf(wf(r))),null!==e.exportAs?kE(e.exportAs):pm,xE(e.inputs),xE(e.outputs),kE(e.queries.map(e=>e.propertyName))]));var r}function OE(e,t,n){const r=[],i=[],s=ev(i,"_t");e.forEach(e=>{const n=mf(e.static?Tg.staticViewQuery:Tg.viewQuery).callFn(EE(e,t));r.push(n.toStmt());const o=s(),a=mf(Tg.loadViewQuery).callFn([]),l=mf(Tg.queryRefresh).callFn([o.set(a)]),c=pf("ctx").prop(e.propertyName).set(e.first?o.prop("first"):o);i.push(l.and(c).toStmt())});const o=n?`${n}_Query`:null;return _f([new Mm("rf",dm),new Mm("ctx",null)],[tE(1,r),tE(2,i)],hm,null,o)}function AE(e,t,n,r,i,s){const o=Object.keys(e.properties).length,a=pf("elIndex"),l=pf("ctx"),c=new rC(a,l),{styleAttr:h,classAttr:u}=e.specialAttributes;void 0!==h&&c.registerStyleAttr(h),void 0!==u&&c.registerClassAttr(u);const d=[],p=[];let m=o;const f=t,g=PE(e);let y;const v=()=>{if(!y){y=new iE(r,()=>Nf("Unexpected node"),e=>{const t=m;return m+=e,t},()=>Nf("Unexpected pipe"))}return y},_=n.createDirectiveHostEventAsts(g,f);if(_&&_.length){const e=function(e,t){return e.map(e=>{let n=e.name&&sg(e.name);const r=1===e.type?bv(n,e.targetOrPhase):n,i=t&&n?`${t}_${r}_HostBindingHandler`:null,s=nE(zg.fromParsedEvent(e),i);return mf(1==e.type?Tg.componentHostSyntheticListener:Tg.listener).callFn(s).toStmt()})}(_,s);d.push(...e)}const b=n.createBoundHostProperties(g,f),w=[],C=[],E=[];b&&b.forEach(e=>{const t=e.name;if(!c.registerInputBasedOnName(t,e.expression,e.sourceSpan)){const t=e.expression.visit(v()),r=IE(l,t),{bindingName:s,instruction:o,isAttribute:a}=function(e){let t,n=e.name;const r=n.match(vE);r?(n=r[1],t=Tg.attribute):e.isAnimation?(n=_v(n),t=Tg.updateSyntheticHostBinding):t=Tg.hostProperty;return{bindingName:n,instruction:t,isAttribute:!!r}}(e),c=n.calcPossibleSecurityContexts(i,s,a).filter(e=>e!==Xp.NONE);let h=null;c.length&&(h=2===c.length&&c.indexOf(Xp.URL)>-1&&c.indexOf(Xp.RESOURCE_URL)>-1?mf(Tg.sanitizeUrlOrResourceUrl):mE(c[0],a));const u=[wf(s),r.currValExpr];h&&u.push(h),p.push(...r.stmts),o===Tg.hostProperty?w.push(u):o===Tg.attribute?C.push(u):o===Tg.updateSyntheticHostBinding?E.push(u):p.push(mf(o).callFn(u).toStmt())}}),w.length>0&&p.push(cv(Tg.hostProperty,w).toStmt()),C.length>0&&p.push(cv(Tg.attribute,C).toStmt()),E.length>0&&p.push(cv(Tg.updateSyntheticHostBinding,E).toStmt());const S=function(e){const t=[];for(let n of Object.getOwnPropertyNames(e)){const r=e[n];t.push(wf(n),r)}return t}(e.attributes),x=c.buildHostAttrsInstruction(null,S,r);if(x&&d.push(DE(x,l,IE)),c.hasBindings){const e=c.buildStylingInstruction(null,r);e&&d.push(DE(e,l,IE)),c.buildUpdateLevelInstructions(v()).forEach(e=>{m+=Math.max(e.allocateBindingSlots-1,0),p.push(DE(e,l,IE))})}if(m&&d.unshift(mf(Tg.allocHostVars).callFn([wf(m)]).toStmt()),d.length>0||p.length>0){const e=s?`${s}_HostBindings`:null,t=[];return d.length>0&&t.push(tE(1,d)),p.length>0&&t.push(tE(2,p)),_f([new Mm("rf",dm),new Mm("ctx",null),new Mm(a.name,dm)],t,hm,null,e)}return null}function IE(e,t){return P_(null,e,t,"b",C_.TrySimple,()=>Nf("Unexpected interpolation"))}function DE(e,t,n){const r=e.params(e=>n(t,e).currValExpr);return mf(e.reference,null,e.sourceSpan).callFn(r,e.sourceSpan).toStmt()}function PE(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}const NE=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class RE{get(e){return""}}class ME{constructor(e=new $v){this.jitEvaluator=e,this.R3ResolvedDependencyType=dv,this.ResourceLoader=RE,this.elementSchemaRegistry=new DC}compilePipe(e,t,n){const r=qv({name:n.name,type:new Cm(n.type),typeArgumentCount:n.typeArgumentCount,deps:WE(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,e,t,r.statements)}compileInjectable(e,t,n){const{expression:r,statements:i}=function(e){let t=null;const n={name:e.name,type:e.type,deps:e.ctorDeps,injectFn:Jf.inject};if(void 0!==e.useClass){const r=e.useClass.isEquivalent(e.type);let i=void 0;void 0!==e.userDeps&&(i=e.userDeps),t=pv(void 0!==i?Object.assign({},n,{delegate:e.useClass,delegateDeps:i,delegateType:uv.Class}):r?n:Object.assign({},n,{delegate:e.useClass,delegateType:uv.Factory}))}else t=void 0!==e.useFactory?pv(Object.assign({},n,{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:uv.Function})):void 0!==e.useValue?pv(Object.assign({},n,{expression:e.useValue})):void 0!==e.useExisting?pv(Object.assign({},n,{expression:mf(Jf.inject).callFn([e.useExisting])})):pv(n);const r=e.type,i=e.providedIn;return{expression:mf(Jf.\u0275\u0275defineInjectable).callFn([yv({token:r,factory:t.factory,providedIn:i})]),type:new om(mf(Jf.InjectableDef,[vv(e.type,e.typeArgumentCount)])),statements:t.statements}}({name:n.name,type:new Cm(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:HE(n.providedIn),useClass:zE(n,FE),useFactory:zE(n,LE),useValue:zE(n,jE),useExisting:zE(n,$E),ctorDeps:WE(n.ctorDeps),userDeps:WE(n.userDeps)||void 0});return this.jitExpression(r,e,t,i)}compileInjector(e,t,n){const r=function(e){const t=pv({name:e.name,type:e.type,deps:e.deps,injectFn:Tg.inject}),n={factory:t.factory};return null!==e.providers&&(n.providers=e.providers),e.imports.length>0&&(n.imports=yf(e.imports)),{expression:mf(Tg.defineInjector).callFn([yv(n)]),type:new om(mf(Tg.InjectorDef,[new om(e.type)])),statements:t.statements}}({name:n.name,type:new Cm(n.type),deps:WE(n.deps),providers:new Cm(n.providers),imports:n.imports.map(e=>new Cm(e))});return this.jitExpression(r.expression,e,t,r.statements)}compileNgModule(e,t,n){const r=Uv({type:new Cm(n.type),bootstrap:n.bootstrap.map(BE),declarations:n.declarations.map(BE),imports:n.imports.map(BE),exports:n.exports.map(BE),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(BE):null,id:n.id?new Cm(n.id):null});return this.jitExpression(r.expression,e,t,[])}compileDirective(e,t,n){const r=new Qf,i=pE(),s=wE(UE(n),r,i),o=[...r.statements,...s.statements];return this.jitExpression(s.expression,e,t,o)}compileComponent(e,t,n){const r=new Qf,i=n.interpolation?Sv.fromArray(n.interpolation):xv,s=function(e,t,n={}){const{interpolationConfig:r,preserveWhitespaces:i}=n,s=pE(r),o=(new qb).parse(e,t,Object.assign({leadingTriviaChars:eE},n,{tokenizeExpansionForms:!0}));if(o.errors&&o.errors.length>0)return{errors:o.errors,nodes:[],styleUrls:[],styles:[]};let a=o.rootNodes;a=Cb(new XC(r,!i),a),i||(a=Cb(new Xb,a),a=Cb(new XC(r,!1),a));const{nodes:l,errors:c,styleUrls:h,styles:u}=NC(a,s);return c&&c.length>0?{errors:c,nodes:[],styleUrls:[],styles:[]}:{nodes:l,styleUrls:h,styles:u}}(n.template,t,{preserveWhitespaces:n.preserveWhitespaces,interpolationConfig:i});if(void 0!==s.errors){const e=s.errors.map(e=>e.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${n.name}: ${e}`)}const o=CE(Object.assign({},n,UE(n),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,wrapDirectivesAndPipesInClosure:!1,styles:n.styles||[],encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new Cm(n.animations):null,viewProviders:null!=n.viewProviders?new Cm(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r,pE(i)),a=[...r.statements,...o.statements];return this.jitExpression(o.expression,e,`ng:///${n.name}.js`,a)}compileBase(e,t,n){const r=new Qf,i=this.createParseSourceSpan("Base",n.name,`ng:///${n.name}.js`),s=function(e,t,n){const r=new av;if(e.inputs){const t=e.inputs,n=Object.keys(t).map(e=>{const n=t[e];return{key:e,value:Array.isArray(n)?yf(n.map(e=>wf(e))):wf(n),quoted:!1}});r.set("inputs",vf(n))}if(e.outputs){const t=e.outputs,n=Object.keys(t).map(e=>({key:e,value:wf(t[e]),quoted:!1}));r.set("outputs",vf(n))}return e.viewQueries&&e.viewQueries.length>0&&r.set("viewQuery",OE(e.viewQueries,t)),e.queries&&e.queries.length>0&&r.set("contentQueries",SE(e.queries,t)),e.host&&r.set("hostBindings",AE(e.host,e.typeSourceSpan,n,t,e.name)),{expression:mf(Tg.defineBase).callFn([r.toLiteralMap()]),type:new om(mf(Tg.BaseDef),null,[gf(e.type)])}}(Object.assign({},n,{typeSourceSpan:i,viewQueries:n.viewQueries?n.viewQueries.map(VE):n.viewQueries,queries:n.queries?n.queries.map(VE):n.queries,host:GE(n.propMetadata,i)}),r,pE());return this.jitExpression(s.expression,e,t,r.statements)}createParseSourceSpan(e,t,n){return function(e,t,n){const r=new Rg("",`in ${e} ${t} in ${n}`);return new Mg(new Ng(r,-1,-1,-1),new Ng(r,-1,-1,-1))}(e,t,n)}jitExpression(e,t,n,r){const i=[...r,new Qm("$def",e,void 0,[Wm.Exported])];return this.jitEvaluator.evaluateStatements(n,i,new Vv(t),!0).$def}}const FE=Object.keys({useClass:null})[0],LE=Object.keys({useFactory:null})[0],jE=Object.keys({useValue:null})[0],$E=Object.keys({useExisting:null})[0],BE=function(e){const t=new Cm(e);return{value:t,type:t}};function VE(e){return Object.assign({},e,{predicate:Array.isArray(e.predicate)?e.predicate:new Cm(e.predicate),read:e.read?new Cm(e.read):null,static:e.static})}function UE(e){const t=YE(e.inputs||[]),n=YE(e.outputs||[]),r=e.propMetadata,i={},s={};for(const o in r)r.hasOwnProperty(o)&&r[o].forEach(e=>{"Input"===e.ngMetadataName?i[o]=e.bindingPropertyName?[e.bindingPropertyName,o]:o:KE(e)&&(s[o]=e.bindingPropertyName||o)});return Object.assign({},e,{typeSourceSpan:e.typeSourceSpan,type:new Cm(e.type),deps:WE(e.deps),host:GE(e.propMetadata,e.typeSourceSpan,e.host),inputs:Object.assign({},t,i),outputs:Object.assign({},n,s),queries:e.queries.map(VE),providers:null!=e.providers?new Cm(e.providers):null,viewQueries:e.viewQueries.map(VE)})}function zE(e,t){return e.hasOwnProperty(t)?new Cm(e[t]):void 0}function HE(e){return null==e||"string"==typeof e?new Am(e):new Cm(e)}function qE(e){let t;return t=null===e.token?new Am(null):e.resolved===dv.Attribute?new Am(e.token):new Cm(e.token),{token:t,resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function WE(e){return null==e?null:e.map(qE)}function GE(e,t,n){const r=function(e){const t={},n={},r={},i={};for(const s of Object.keys(e)){const o=e[s],a=s.match(NE);if(null===a)switch(s){case"class":if("string"!=typeof o)throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if("string"!=typeof o)throw new Error("Style binding must be string");i.styleAttr=o;break;default:t[s]="string"==typeof o?wf(o):o}else if(null!=a[1]){if("string"!=typeof o)throw new Error("Property binding must be string");r[a[1]]=o}else if(null!=a[2]){if("string"!=typeof o)throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:t,listeners:n,properties:r,specialAttributes:i}}(n||{}),i=function(e,t){const n=PE(e),r=pE();return r.createDirectiveHostEventAsts(n,t),r.createBoundHostProperties(n,t),r.errors}(r,t);if(i.length)throw new Error(i.map(e=>e.msg).join("\n"));for(const s in e)e.hasOwnProperty(s)&&e[s].forEach(e=>{"HostBinding"===e.ngMetadataName?r.properties[e.hostPropertyName||s]=s:QE(e)&&(r.listeners[e.eventName||s]=`${s}(${(e.args||[]).join(",")})`)});return r}function QE(e){return"HostListener"===e.ngMetadataName}function KE(e){return"Output"===e.ngMetadataName}function YE(e){return e.reduce((e,t)=>{const[n,r]=t.split(",").map(e=>e.trim());return e[n]=r||n,e},{})}new class{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}("8.2.14");class XE{constructor({defaultEncapsulation:e=Rp.Emulated,useJit:t=!0,jitDevMode:n=!1,missingTranslation:r=null,preserveWhitespaces:i,strictInjectionParameters:s}={}){this.defaultEncapsulation=e,this.useJit=!!t,this.jitDevMode=!!n,this.missingTranslation=r,this.preserveWhitespaces=ZE(Of(i)),this.strictInjectionParameters=!0===s}}function ZE(e,t=!1){return null===e?t:e}class JE{constructor(e,t,n,r){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(e){if(!e.isComponent)return;const t=e.template;this._resourceLoaderCache.delete(t.templateUrl),t.externalStylesheets.forEach(e=>{this._resourceLoaderCache.delete(e.moduleUrl)})}_fetch(e){let t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}normalizeTemplate(e){if(Tf(e.template)){if(Tf(e.templateUrl))throw Rf(`'${Bf(e.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof e.template)throw Rf(`The template specified for component ${Bf(e.componentType)} is not a string`)}else{if(!Tf(e.templateUrl))throw Rf(`No template specified for component ${Bf(e.componentType)}`);if("string"!=typeof e.templateUrl)throw Rf(`The templateUrl specified for component ${Bf(e.componentType)} is not a string`)}if(Tf(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw Rf(`The preserveWhitespaces option for component ${Bf(e.componentType)} must be a boolean`);return Df(this._preParseTemplate(e),t=>this._normalizeTemplateMetadata(e,t))}_preParseTemplate(e){let t,n;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),Df(t,t=>this._preparseLoadedTemplate(e,t,n))}_preparseLoadedTemplate(e,t,n){const r=!!e.template,i=Sv.fromArray(e.interpolation),s=xg({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),o=this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:i});if(o.errors.length>0){throw Rf(`Template parse errors:\n${o.errors.join("\n")}`)}const a=this._normalizeStylesheet(new fg({styles:e.styles,moduleUrl:e.moduleUrl})),l=new eS;Cb(l,o.rootNodes);const c=this._normalizeStylesheet(new fg({styles:l.styles,styleUrls:l.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:o,styles:a.styles.concat(c.styles),inlineStyleUrls:a.styleUrls.concat(c.styleUrls),styleUrls:this._normalizeStylesheet(new fg({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:l.ngContentSelectors}}_normalizeTemplateMetadata(e,t){return Df(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),n=>this._normalizeLoadedTemplateMetadata(e,t,n))}_normalizeLoadedTemplateMetadata(e,t,n){const r=[...t.styles];this._inlineStyles(t.inlineStyleUrls,n,r);const i=t.styleUrls,s=i.map(e=>{const t=n.get(e),r=[...t.styles];return this._inlineStyles(t.styleUrls,n,r),new fg({moduleUrl:e,styles:r})});let o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===Rp.Emulated&&0===r.length&&0===i.length&&(o=Rp.None),new gg({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:r,styleUrls:i,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:ZE(e.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(e,t,n){e.forEach(e=>{const r=t.get(e);r.styles.forEach(e=>n.push(e)),this._inlineStyles(r.styleUrls,t,n)})}_loadMissingExternalStylesheets(e,t=new Map){return Df(Pf(e.filter(e=>!t.has(e)).map(e=>Df(this._fetch(e),n=>{const r=this._normalizeStylesheet(new fg({styles:[n],moduleUrl:e}));return t.set(e,r),this._loadMissingExternalStylesheets(r.styleUrls,t)}))),e=>t)}_normalizeStylesheet(e){const t=e.moduleUrl,n=e.styleUrls.filter(Aw).map(e=>this._urlResolver.resolve(t,e)),r=e.styles.map(e=>{const r=function(e,t,n){const r=[],i=n.replace(Dw,"").replace(Iw,(...n)=>{const i=n[1]||n[2];return Aw(i)?(r.push(e.resolve(t,i)),""):n[0]});return new Ow(i,r)}(this._urlResolver,t,e);return n.push(...r.styleUrls),r.style});return new fg({styles:r,styleUrls:n,moduleUrl:t})}}class eS{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(e,t){const n=Lw(e);switch(n.type){case jw.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case jw.STYLE:let t="";e.children.forEach(e=>{e instanceof gb&&(t+=e.value)}),this.styles.push(t);break;case jw.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Cb(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(e,t){Cb(this,e.cases)}visitExpansionCase(e,t){Cb(this,e.expression)}visitComment(e,t){return null}visitAttribute(e,t){return null}visitText(e,t){return null}}const tS=[Pp,Dp,Ip,Ap];class nS{constructor(e){this._reflector=e}isDirective(e){const t=this._reflector.annotations(Vf(e));return t&&t.some(rS)}resolve(e,t=!0){const n=this._reflector.annotations(Vf(e));if(n){const t=iS(n,rS);if(t){const n=this._reflector.propMetadata(e),r=this._reflector.guards(e);return this._mergeWithPropertyMetadata(t,n,r,e)}}if(t)throw new Error(`No Directive annotation found on ${Bf(e)}`);return null}_mergeWithPropertyMetadata(e,t,n,r){const i=[],s=[],o={},a={};return Object.keys(t).forEach(e=>{const n=iS(t[e],e=>jp.isTypeOf(e));n&&(n.bindingPropertyName?i.push(`${e}: ${n.bindingPropertyName}`):i.push(e));const r=iS(t[e],e=>$p.isTypeOf(e));r&&(r.bindingPropertyName?s.push(`${e}: ${r.bindingPropertyName}`):s.push(e)),t[e].filter(e=>Bp.isTypeOf(e)).forEach(t=>{if(t.hostPropertyName){const n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o[`[${t.hostPropertyName}]`]=e}else o[`[${e}]`]=e}),t[e].filter(e=>Vp.isTypeOf(e)).forEach(t=>{const n=t.args||[];o[`(${t.eventName})`]=`${e}(${n.join(",")})`});const l=iS(t[e],e=>tS.some(t=>t.isTypeOf(e)));l&&(a[e]=l)}),this._merge(e,i,s,o,a,n,r)}_extractPublicName(e){return Sf(e,[null,e])[1].trim()}_dedupeBindings(e){const t=new Set,n=new Set,r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=this._extractPublicName(s);n.add(o),t.has(o)||(t.add(o),r.push(s))}return r.reverse()}_merge(e,t,n,r,i,s,o){const a=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),l=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),c=e.host?Object.assign({},e.host,r):r,h=e.queries?Object.assign({},e.queries,i):i;if(Fp.isTypeOf(e)){const t=e;return Fp({selector:t.selector,inputs:a,outputs:l,host:c,exportAs:t.exportAs,moduleId:t.moduleId,queries:h,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return Np({selector:e.selector,inputs:a,outputs:l,host:c,exportAs:e.exportAs,queries:h,providers:e.providers,guards:s})}}function rS(e){return Np.isTypeOf(e)||Fp.isTypeOf(e)}function iS(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}class sS extends jg{constructor(e,t){super(e,t)}}const oS=/^i18n:?/;let aS=!1;class lS{constructor(e,t){this.messages=e,this.errors=t}}var cS;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(cS||(cS={}));class hS{constructor(e,t){this._implicitTags=e,this._implicitAttrs=t}extract(e,t){return this._init(cS.Extract,t),e.forEach(e=>e.visit(this,null)),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new lS(this._messages,this._errors)}merge(e,t,n){this._init(cS.Merge,n),this._translations=t;const r=new bb("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Vb(r.children,this._errors)}visitExpansionCase(e,t){const n=Cb(this,e.expression,t);if(this._mode===cS.Merge)return new vb(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}visitExpansion(e,t){this._mayBeAddBlockChildren(e);const n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);const r=Cb(this,e.cases,t);return this._mode===cS.Merge&&(e=new yb(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}visitComment(e,t){const n=!!((r=e)instanceof wb&&r.value&&r.value.startsWith("i18n"));var r;if(n&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");const i=function(e){return!!(e instanceof wb&&e.value&&"/i18n"===e.value)}(e);if(!i||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;const t=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Cb(this,this._translateMessage(e,t))}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else if(n){if(!aS&&console&&console.warn){aS=!0;const t=e.sourceSpan.details?`, ${e.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${e.sourceSpan.start}${t})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(oS,"").trim(),this._openTranslatableSection(e)}}else this._reportError(e,"Trying to close an unopened block")}visitText(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}visitElement(e,t){this._mayBeAddBlockChildren(e),this._depth++;const n=this._inI18nNode,r=this._inImplicitNode;let i=[],s=void 0;const o=e.attrs.find(e=>"i18n"===e.name)||null;const a=o?o.value:"",l=this._implicitTags.some(t=>e.name===t)&&!this._inIcu&&!this._isInTranslatableSection,c=!r&&l;if(this._inImplicitNode=r||l,this._isInTranslatableSection||this._inIcu)(o||c)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==cS.Extract&&Cb(this,e.children);else{if(o||c){this._inI18nNode=!0;const t=this._addMessage(e.children,a);s=this._translateMessage(e,t)}if(this._mode==cS.Extract){const t=o||c;t&&this._openTranslatableSection(e),Cb(this,e.children),t&&this._closeTranslatableSection(e,e.children)}}if(this._mode===cS.Merge){(s||e.children).forEach(e=>{const n=e.visit(this,t);n&&!this._isInTranslatableSection&&(i=i.concat(n))})}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=n,this._inImplicitNode=r,this._mode===cS.Merge){const t=this._translateAttributes(e);return new bb(e.name,t,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}visitAttribute(e,t){throw new Error("unreachable code")}_init(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=GC(t)}_visitAttributesOf(e){const t={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(e=>e.name.startsWith("i18n-")).forEach(e=>t[e.name.slice("i18n-".length)]=e.value),e.attrs.forEach(e=>{e.name in t?this._addMessage([e],t[e.name]):n.some(t=>e.name===t)&&this._addMessage([e])})}_addMessage(e,t){if(0==e.length||1==e.length&&e[0]instanceof _b&&!e[0].value)return null;const{meaning:n,description:r,id:i}=uS(t),s=this._createI18nMessage(e,n,r,i);return this._messages.push(s),s}_translateMessage(e,t){if(t&&this._mode===cS.Merge){const n=this._translations.get(t);if(n)return n;this._reportError(e,`Translation unavailable for message id="${this._translations.digest(t)}"`)}return[]}_translateAttributes(e){const t=e.attrs,n={};t.forEach(e=>{e.name.startsWith("i18n-")&&(n[e.name.slice("i18n-".length)]=uS(e.value))});const r=[];return t.forEach(t=>{if("i18n"!==t.name&&!t.name.startsWith("i18n-"))if(t.value&&""!=t.value&&n.hasOwnProperty(t.name)){const{meaning:i,description:s,id:o}=n[t.name],a=this._createI18nMessage([t],i,s,o),l=this._translations.get(a);if(l)if(0==l.length)r.push(new _b(t.name,"",t.sourceSpan));else if(l[0]instanceof gb){const e=l[0].value;r.push(new _b(t.name,e,t.sourceSpan))}else this._reportError(e,`Unexpected translation for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`);else this._reportError(e,`Translation unavailable for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`)}else r.push(t)}),r}_mayBeAddBlockChildren(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}_openTranslatableSection(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");const n=this._msgCountAtSectionStart;if(1==t.reduce((e,t)=>e+(t instanceof wb?0:1),0))for(let r=this._messages.length-1;r>=n;r--){const e=this._messages[r].nodes;if(!(1==e.length&&e[0]instanceof Zg)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}_reportError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}function uS(e){if(!e)return{meaning:"",description:"",id:""};const t=e.indexOf("@@"),n=e.indexOf("|"),[r,i]=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],[s,o]=n>-1?[r.slice(0,n),r.slice(n+1)]:["",r];return{meaning:s,description:o,id:i}}const dS=new class{constructor(){this.closedByParent=!1,this.contentType=cp.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}requireExtraParent(e){return!1}isClosedByChild(e){return!1}};function pS(e){return dS}class mS extends Ub{constructor(){super(pS)}parse(e,t,n){return super.parse(e,t,n)}}class fS extends Ey{write(e,t){const n=new gS,r=[];e.forEach(e=>{let t=[];e.sources.forEach(e=>{let n=new Ay("context-group",{purpose:"location"});n.children.push(new Dy(10),new Ay("context",{"context-type":"sourcefile"},[new Iy(e.filePath)]),new Dy(10),new Ay("context",{"context-type":"linenumber"},[new Iy(`${e.startLine}`)]),new Dy(8)),t.push(new Dy(8),n)});const i=new Ay("trans-unit",{id:e.id,datatype:"html"});i.children.push(new Dy(8),new Ay("source",{},n.serialize(e.nodes)),...t),e.description&&i.children.push(new Dy(8),new Ay("note",{priority:"1",from:"description"},[new Iy(e.description)])),e.meaning&&i.children.push(new Dy(8),new Ay("note",{priority:"1",from:"meaning"},[new Iy(e.meaning)])),i.children.push(new Dy(6)),r.push(new Dy(6),i)});const i=new Ay("body",{},[...r,new Dy(4)]),s=new Ay("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new Dy(4),i,new Dy(2)]),o=new Ay("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Dy(2),s,new Dy]);return ky([new Ty({version:"1.0",encoding:"UTF-8"}),new Dy,o,new Dy])}load(e,t){const n=new yS,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new vS;if(Object.keys(i).forEach(e=>{const{i18nNodes:n,errors:r}=a.convert(i[e],t);s.push(...r),o[e]=n}),s.length)throw new Error(`xliff parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return iy(e)}}class gS{visitText(e,t){return[new Iy(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new Iy(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new Iy(`${t} {`),...e.cases[t].visit(this),new Iy("} "))}),n.push(new Iy("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${e}`}}(e.tag);if(e.isVoid)return[new Ay("x",{id:e.startName,ctype:n,"equiv-text":`<${e.tag}/>`})];const r=new Ay("x",{id:e.startName,ctype:n,"equiv-text":`<${e.tag}>`}),i=new Ay("x",{id:e.closeName,ctype:n,"equiv-text":`</${e.tag}>`});return[r,...this.serialize(e.children),i]}visitPlaceholder(e,t){return[new Ay("x",{id:e.name,"equiv-text":`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=`{${e.value.expression}, ${e.value.type}, ${Object.keys(e.value.cases).map(e=>e+" {...}").join(" ")}}`;return[new Ay("x",{id:e.name,"equiv-text":n})]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}class yS{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new mS).parse(e,t);return this._errors=n.errors,Cb(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case"trans-unit":this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(Cb(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":case"alt-trans":break;case"target":const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case"file":const s=e.attrs.find(e=>"target-language"===e.name);s&&(this._locale=s.value),Cb(this,e.children,null);break;default:Cb(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class vS{convert(e,t){const n=(new mS).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Cb(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new Zg(e.value,e.sourceSpan)}visitElement(e,t){if("x"===e.name){const t=e.attrs.find(e=>"id"===e.name);return t?new ny("",t.value,e.sourceSpan):(this._addError(e,'<x> misses the "id" attribute'),null)}return"mrk"===e.name?[].concat(...Cb(this,e.children)):(this._addError(e,"Unexpected tag"),null)}visitExpansion(e,t){const n={};return Cb(this,e.cases).forEach(t=>{n[t.value]=new Jg(t.nodes,e.sourceSpan)}),new ey(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:Cb(this,e.expression)}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class _S extends Ey{write(e,t){const n=new bS,r=[];e.forEach(e=>{const t=new Ay("unit",{id:e.id}),i=new Ay("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new Dy(8),new Ay("note",{category:"description"},[new Iy(e.description)])),e.meaning&&i.children.push(new Dy(8),new Ay("note",{category:"meaning"},[new Iy(e.meaning)]))),e.sources.forEach(e=>{i.children.push(new Dy(8),new Ay("note",{category:"location"},[new Iy(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),i.children.push(new Dy(6)),t.children.push(new Dy(6),i);const s=new Ay("segment");s.children.push(new Dy(8),new Ay("source",{},n.serialize(e.nodes)),new Dy(6)),t.children.push(new Dy(6),s,new Dy(4)),r.push(new Dy(4),t)});const i=new Ay("file",{original:"ng.template",id:"ngi18n"},[...r,new Dy(2)]),s=new Ay("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new Dy(2),i,new Dy]);return ky([new Ty({version:"1.0",encoding:"UTF-8"}),new Dy,s,new Dy])}load(e,t){const n=new wS,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new CS;if(Object.keys(i).forEach(e=>{const{i18nNodes:n,errors:r}=a.convert(i[e],t);s.push(...r),o[e]=n}),s.length)throw new Error(`xliff2 parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return sy(e)}}class bS{visitText(e,t){return[new Iy(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new Iy(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new Iy(`${t} {`),...e.cases[t].visit(this),new Iy("} "))}),n.push(new Iy("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid){return[new Ay("ph",{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:n,disp:`<${e.tag}/>`})]}const r=new Ay("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:n,dispStart:`<${e.tag}>`,dispEnd:`</${e.tag}>`}),i=[].concat(...e.children.map(e=>e.visit(this)));return i.length?i.forEach(e=>r.children.push(e)):r.children.push(new Iy("")),[r]}visitPlaceholder(e,t){const n=(this._nextPlaceholderId++).toString();return[new Ay("ph",{id:n,equiv:e.name,disp:`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),r=(this._nextPlaceholderId++).toString();return[new Ay("ph",{id:r,equiv:e.name,disp:`{${e.value.expression}, ${e.value.type}, ${n}}`})]}serialize(e){return this._nextPlaceholderId=0,[].concat(...e.map(e=>e.visit(this)))}}class wS{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new mS).parse(e,t);return this._errors=n.errors,Cb(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case"unit":this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(Cb(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,'<unit> misses the "id" attribute');break;case"source":break;case"target":const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case"xliff":const s=e.attrs.find(e=>"trgLang"===e.name);s&&(this._locale=s.value);const o=e.attrs.find(e=>"version"===e.name);if(o){const t=o.value;"2.0"!==t?this._addError(e,`The XLIFF file version ${t} is not compatible with XLIFF 2.0 serializer`):Cb(this,e.children,null)}break;default:Cb(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class CS{convert(e,t){const n=(new mS).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Cb(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new Zg(e.value,e.sourceSpan)}visitElement(e,t){switch(e.name){case"ph":const t=e.attrs.find(e=>"equiv"===e.name);if(t)return[new ny("",t.value,e.sourceSpan)];this._addError(e,'<ph> misses the "equiv" attribute');break;case"pc":const n=e.attrs.find(e=>"equivStart"===e.name),r=e.attrs.find(e=>"equivEnd"===e.name);if(n){if(r){const t=n.value,i=r.value;return[].concat(new ny("",t,e.sourceSpan),...e.children.map(e=>e.visit(this,null)),new ny("",i,e.sourceSpan))}this._addError(e,'<ph> misses the "equivEnd" attribute')}else this._addError(e,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat(...Cb(this,e.children));default:this._addError(e,"Unexpected tag")}return null}visitExpansion(e,t){const n={};return Cb(this,e.cases).forEach(t=>{n[t.value]=new Jg(t.nodes,e.sourceSpan)}),new ey(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:[].concat(...Cb(this,e.expression))}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class ES extends Ey{write(e,t){throw new Error("Unsupported")}load(e,t){const n=new SS,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new xS;if(Object.keys(i).forEach(e=>{!function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){const r=n();return Object.defineProperty(e,t,{enumerable:!0,value:r}),r},set:e=>{throw new Error("Could not overwrite an XTB translation")}})}(o,e,(function(){const{i18nNodes:n,errors:r}=a.convert(i[e],t);if(r.length)throw new Error(`xtb parse errors:\n${r.join("\n")}`);return n}))}),s.length)throw new Error(`xtb parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return Fy(e)}createNameMapper(e){return new Sy(e,jy)}}class SS{constructor(){this._locale=null}parse(e,t){this._bundleDepth=0,this._msgIdToHtml={};const n=(new mS).parse(e,t);return this._errors=n.errors,Cb(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<translationbundle> elements can not be nested");const t=e.attrs.find(e=>"lang"===e.name);t&&(this._locale=t.value),Cb(this,e.children,null),this._bundleDepth--;break;case"translation":const n=e.attrs.find(e=>"id"===e.name);if(n){const t=n.value;if(this._msgIdToHtml.hasOwnProperty(t))this._addError(e,`Duplicated translations for msg ${t}`);else{const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._msgIdToHtml[t]=i}}else this._addError(e,'<translation> misses the "id" attribute');break;default:this._addError(e,"Unexpected tag")}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class xS{convert(e,t){const n=(new mS).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:Cb(this,n.rootNodes),errors:this._errors}}visitText(e,t){return new Zg(e.value,e.sourceSpan)}visitExpansion(e,t){const n={};return Cb(this,e.cases).forEach(t=>{n[t.value]=new Jg(t.nodes,e.sourceSpan)}),new ey(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:Cb(this,e.expression)}}visitElement(e,t){if("ph"===e.name){const t=e.attrs.find(e=>"name"===e.name);if(t)return new ny("",t.value,e.sourceSpan);this._addError(e,'<ph> misses the "name" attribute')}else this._addError(e,"Unexpected tag");return null}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class kS{constructor(e={},t,n,r,i=Zp.Warning,s){this._i18nNodesByMsgId=e,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new TS(e,t,n,r,i,s)}static load(e,t,n,r,i){const{locale:s,i18nNodesByMsgId:o}=n.load(e,t);return new kS(o,s,e=>n.digest(e),e=>n.createNameMapper(e),r,i)}get(e){const t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}has(e){return this.digest(e)in this._i18nNodesByMsgId}}class TS{constructor(e={},t,n,r,i,s){this._i18nNodesByMsgId=e,this._locale=t,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=s,this._contextStack=[],this._errors=[]}convert(e){this._contextStack.length=0,this._errors.length=0;const t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new qb).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[...this._errors,...r.errors]}}visitText(e,t){return Ny(e.value)}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression]:e.expression}, ${e.type}, ${n.join(" ")}}`}visitPlaceholder(e,t){const n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,`Unknown placeholder "${e.name}"`),"")}visitTagPlaceholder(e,t){const n=`${e.tag}`,r=Object.keys(e.attrs).map(t=>`${t}="${e.attrs[t]}"`).join(" ");return e.isVoid?`<${n} ${r}/>`:`<${n} ${r}>${e.children.map(e=>e.visit(this)).join("")}</${n}>`}visitIcuPlaceholder(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}_convertToText(e){const t=this._digest(e),n=this._mapperFactory?this._mapperFactory(e):null;let r;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(t))r=this._i18nNodesByMsgId[t],this._mapper=e=>n?n.toInternalName(e):e;else{if(this._missingTranslationStrategy===Zp.Error){const n=this._locale?` for locale "${this._locale}"`:"";this._addError(e.nodes[0],`Missing translation for message "${t}"${n}`)}else if(this._console&&this._missingTranslationStrategy===Zp.Warning){const e=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${t}"${e}`)}r=e.nodes,this._mapper=e=>e}const i=r.map(e=>e.visit(this)).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,i}_addError(e,t){this._errors.push(new sS(e.sourceSpan,t))}}class OS{constructor(e,t,n,r=Zp.Warning,i){if(this._htmlParser=e,t){const e=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new Ry;case"xtb":return new ES;case"xliff2":case"xlf2":return new _S;case"xliff":case"xlf":default:return new fS}}(n);this._translationBundle=kS.load(t,"i18n",e,r,i)}else this._translationBundle=new kS({},null,iy,void 0,r,i)}parse(e,t,n={}){const r=n.interpolationConfig||xv,i=this._htmlParser.parse(e,t,Object.assign({interpolationConfig:r},n));return i.errors.length?new Vb(i.rootNodes,i.errors):function(e,t,n,r,i){return new hS(r,i).merge(e,t,n)}(i.rootNodes,this._translationBundle,r,[],{})}}function AS(e,t,n=null){return kf(t,new IS(e),n)}class IS{constructor(e){this.ctx=e}visitArray(e,t){return yf(e.map(e=>kf(e,this,null)),t)}visitStringMap(e,t){const n=[],r=new Set(e&&e.$quoted$);return Object.keys(e).forEach(t=>{n.push(new Vm(t,kf(e[t],this,null),r.has(t)))}),new Um(n,t)}visitPrimitive(e,t){return wf(e,t)}visitOther(e,t){return e instanceof _m?e:this.ctx.importExpr(e)}}function DS(e,t=!1){const n=PS(e,t);return`${n[0]}.ngfactory${NS(n[1])}`}function PS(e,t=!1){if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];const n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function NS(e){return".tsx"===e?".ts":e}var RS;!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(RS||(RS={}));const MS=[RS.OnInit,RS.OnDestroy,RS.DoCheck,RS.OnChanges,RS.AfterContentInit,RS.AfterContentChecked,RS.AfterViewInit,RS.AfterViewChecked];function FS(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case RS.OnInit:return"ngOnInit";case RS.OnDestroy:return"ngOnDestroy";case RS.DoCheck:return"ngDoCheck";case RS.OnChanges:return"ngOnChanges";case RS.AfterContentInit:return"ngAfterContentInit";case RS.AfterContentChecked:return"ngAfterContentChecked";case RS.AfterViewInit:return"ngAfterViewInit";case RS.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error(`unexpected ${e}`)}}(t))}function LS(e,t){return MS.filter(n=>FS(e,n,t))}class jS{constructor(e,t,n,r,i,s,o,a,l,c,h,u){this._config=e,this._htmlParser=t,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=a,this._console=l,this._staticSymbolCache=c,this._reflector=h,this._errorCollector=u,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(e){const t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(e,t){let n=null;const r=function(){if(!n)throw new Error(`Illegal state: Class ${t} for type ${Bf(e)} is not compiled yet!`);return n.apply(this,arguments)};return r.setDelegate=e=>{n=e,r.prototype=e.prototype},r.overriddenName=t,r}getGeneratedClass(e,t){return e instanceof ng?this._staticSymbolCache.get(DS(e.filePath),t):this._createProxyClass(e,t)}getComponentViewClass(e){return this.getGeneratedClass(e,cg(e,0))}getHostComponentViewClass(e){return this.getGeneratedClass(e,`HostView_${ag({reference:e})}`)}getHostComponentType(e){const t=`${ag({reference:e})}_Host`;return e instanceof ng?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}getRendererType(e){return e instanceof ng?this._staticSymbolCache.get(DS(e.filePath),hg(e)):{}}getComponentFactory(e,t,n,r){if(t instanceof ng)return this._staticSymbolCache.get(DS(t.filePath),ug(t));{const i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(Jf.createComponentFactory)(e,t,i,n,r,[])}}initComponentFactory(e,t){e instanceof ng||e.ngContentSelectors.push(...t)}_loadSummary(e,t){let n=this._summaryCache.get(e);if(!n){const t=this._summaryResolver.resolveSummary(e);n=t?t.type:null,this._summaryCache.set(e,n||null)}return n&&n.summaryKind===t?n:null}getHostComponentMetadata(e,t){const n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));const r=Cp.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return yg.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new gg({encapsulation:Rp.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:Mp.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:Rp.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(e,t,n){if(this._directiveCache.has(t))return null;t=Vf(t);const{annotation:r,metadata:i}=this.getNonNormalizedDirectiveMetadata(t),s=e=>{const n=new yg({isHost:!1,type:i.type,isComponent:i.isComponent,selector:i.selector,exportAs:i.exportAs,changeDetection:i.changeDetection,inputs:i.inputs,outputs:i.outputs,hostListeners:i.hostListeners,hostProperties:i.hostProperties,hostAttributes:i.hostAttributes,providers:i.providers,viewProviders:i.viewProviders,queries:i.queries,guards:i.guards,viewQueries:i.viewQueries,entryComponents:i.entryComponents,componentViewType:i.componentViewType,rendererType:i.rendererType,componentFactory:i.componentFactory,template:e});return e&&this.initComponentFactory(i.componentFactory,e.ngContentSelectors),this._directiveCache.set(t,n),this._summaryCache.set(t,n.toSummary()),null};if(i.isComponent){const o=i.template,a=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,r),encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:o.animations,interpolation:o.interpolation,preserveWhitespaces:o.preserveWhitespaces});return Uf(a)&&n?(this._reportError(function(e){const t=Error(`Can't compile synchronously as ${Bf(e)} is still being loaded!`);return t.ngComponentType=e,t}(t),t),null):Df(a,s)}return s(null),null}getNonNormalizedDirectiveMetadata(e){if(!(e=Vf(e)))return null;let t=this._nonNormalizedDirectiveCache.get(e);if(t)return t;const n=this._directiveResolver.resolve(e,!1);if(!n)return null;let r=void 0;if(Fp.isTypeOf(n)){const e=n;wv("styles",e.styles),wv("styleUrls",e.styleUrls),Ev("interpolation",e.interpolation);const t=e.animations;r=new gg({encapsulation:Of(e.encapsulation),template:Of(e.template),templateUrl:Of(e.templateUrl),htmlAst:null,styles:e.styles||[],styleUrls:e.styleUrls||[],animations:t||[],interpolation:Of(e.interpolation),isInline:!!e.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:Of(n.preserveWhitespaces)})}let i=null,s=[],o=[],a=n.selector;if(Fp.isTypeOf(n)){const t=n;i=t.changeDetection,t.viewProviders&&(s=this._getProvidersMetadata(t.viewProviders,o,`viewProviders for "${US(e)}"`,[],e)),t.entryComponents&&(o=$S(t.entryComponents).map(e=>this._getEntryComponentMetadata(e)).concat(o)),a||(a=this._schemaRegistry.getDefaultComponentElementName())}else a||(this._reportError(Rf(`Directive ${US(e)} has no selector, please add it!`),e),a="error");let l=[];null!=n.providers&&(l=this._getProvidersMetadata(n.providers,o,`providers for "${US(e)}"`,[],e));let c=[],h=[];null!=n.queries&&(c=this._getQueriesMetadata(n.queries,!1,e),h=this._getQueriesMetadata(n.queries,!0,e));const u=yg.create({isHost:!1,selector:a,exportAs:Of(n.exportAs),isComponent:!!r,type:this._getTypeMetadata(e),template:r,changeDetection:i,inputs:n.inputs||[],outputs:n.outputs||[],host:n.host||{},providers:l||[],viewProviders:s||[],queries:c||[],guards:n.guards||{},viewQueries:h||[],entryComponents:o,componentViewType:r?this.getComponentViewClass(e):null,rendererType:r?this.getRendererType(e):null,componentFactory:null});return r&&(u.componentFactory=this.getComponentFactory(a,e,u.inputs,u.outputs)),t={metadata:u,annotation:n},this._nonNormalizedDirectiveCache.set(e,t),t}getDirectiveMetadata(e){const t=this._directiveCache.get(e);return t||this._reportError(Rf(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${US(e)}.`),e),t}getDirectiveSummary(e){const t=this._loadSummary(e,dg.Directive);return t||this._reportError(Rf(`Illegal state: Could not load the summary for directive ${US(e)}.`),e),t}isDirective(e){return!!this._loadSummary(e,dg.Directive)||this._directiveResolver.isDirective(e)}isPipe(e){return!!this._loadSummary(e,dg.Pipe)||this._pipeResolver.isPipe(e)}isNgModule(e){return!!this._loadSummary(e,dg.NgModule)||this._ngModuleResolver.isNgModule(e)}getNgModuleSummary(e,t=null){let n=this._loadSummary(e,dg.NgModule);if(!n){const r=this.getNgModuleMetadata(e,!1,t);n=r?r.toSummary():null,n&&this._summaryCache.set(e,n)}return n}loadNgModuleDirectiveAndPipeMetadata(e,t,n=!0){const r=this.getNgModuleMetadata(e,n),i=[];return r&&(r.declaredDirectives.forEach(n=>{const r=this.loadDirectiveMetadata(e,n.reference,t);r&&i.push(r)}),r.declaredPipes.forEach(e=>this._loadPipeMetadata(e.reference))),Promise.all(i)}getShallowModuleMetadata(e){let t=this._shallowModuleCache.get(e);if(t)return t;const n=iS(this._reflector.shallowAnnotations(e),Up.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}getNgModuleMetadata(e,t=!0,n=null){e=Vf(e);let r=this._ngModuleCache.get(e);if(r)return r;const i=this._ngModuleResolver.resolve(e,t);if(!i)return null;const s=[],o=[],a=[],l=[],c=[],h=[],u=[],d=[],p=[];i.imports&&$S(i.imports).forEach(t=>{let r=void 0;if(BS(t))r=t;else if(t&&t.ngModule){const e=t;r=e.ngModule,e.providers&&h.push(...this._getProvidersMetadata(e.providers,u,`provider for the NgModule '${US(r)}'`,[],t))}if(r){if(this._checkSelfImport(e,r))return;if(n||(n=new Set),n.has(r))return void this._reportError(Rf(`${this._getTypeDescriptor(r)} '${US(t)}' is imported recursively by the module '${US(e)}'.`),e);n.add(r);const i=this.getNgModuleSummary(r,n);if(n.delete(r),!i)return void this._reportError(Rf(`Unexpected ${this._getTypeDescriptor(t)} '${US(t)}' imported by the module '${US(e)}'. Please add a @NgModule annotation.`),e);l.push(i)}else this._reportError(Rf(`Unexpected value '${US(t)}' imported by the module '${US(e)}'`),e)}),i.exports&&$S(i.exports).forEach(t=>{if(!BS(t))return void this._reportError(Rf(`Unexpected value '${US(t)}' exported by the module '${US(e)}'`),e);if(n||(n=new Set),n.has(t))return void this._reportError(Rf(`${this._getTypeDescriptor(t)} '${Bf(t)}' is exported recursively by the module '${US(e)}'`),e);n.add(t);const r=this.getNgModuleSummary(t,n);n.delete(t),r?c.push(r):o.push(this._getIdentifierMetadata(t))});const m=this._getTransitiveNgModuleMetadata(l,c);i.declarations&&$S(i.declarations).forEach(t=>{if(!BS(t))return void this._reportError(Rf(`Unexpected value '${US(t)}' declared by the module '${US(e)}'`),e);const n=this._getIdentifierMetadata(t);if(this.isDirective(t))m.addDirective(n),s.push(n),this._addTypeToModule(t,e);else{if(!this.isPipe(t))return void this._reportError(Rf(`Unexpected ${this._getTypeDescriptor(t)} '${US(t)}' declared by the module '${US(e)}'. Please add a @Pipe/@Directive/@Component annotation.`),e);m.addPipe(n),m.pipes.push(n),a.push(n),this._addTypeToModule(t,e)}});const f=[],g=[];return o.forEach(t=>{if(m.directivesSet.has(t.reference))f.push(t),m.addExportedDirective(t);else{if(!m.pipesSet.has(t.reference))return void this._reportError(Rf(`Can't export ${this._getTypeDescriptor(t.reference)} ${US(t.reference)} from ${US(e)} as it was neither declared nor imported!`),e);g.push(t),m.addExportedPipe(t)}}),i.providers&&h.push(...this._getProvidersMetadata(i.providers,u,`provider for the NgModule '${US(e)}'`,[],e)),i.entryComponents&&u.push(...$S(i.entryComponents).map(e=>this._getEntryComponentMetadata(e))),i.bootstrap&&$S(i.bootstrap).forEach(t=>{BS(t)?d.push(this._getIdentifierMetadata(t)):this._reportError(Rf(`Unexpected value '${US(t)}' used in the bootstrap property of module '${US(e)}'`),e)}),u.push(...d.map(e=>this._getEntryComponentMetadata(e.reference))),i.schemas&&p.push(...$S(i.schemas)),r=new _g({type:this._getTypeMetadata(e),providers:h,entryComponents:u,bootstrapComponents:d,schemas:p,declaredDirectives:s,exportedDirectives:f,declaredPipes:a,exportedPipes:g,importedModules:l,exportedModules:c,transitiveModule:m,id:i.id||null}),u.forEach(e=>m.addEntryComponent(e)),h.forEach(e=>m.addProvider(e,r.type)),m.addModule(r.type),this._ngModuleCache.set(e,r),r}_checkSelfImport(e,t){return e===t&&(this._reportError(Rf(`'${US(e)}' module can't import itself`),e),!0)}_getTypeDescriptor(e){if(BS(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}_addTypeToModule(e,t){const n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(Rf(`Type ${US(e)} is part of the declarations of 2 modules: ${US(n)} and ${US(t)}! `+`Please consider moving ${US(e)} to a higher module that imports ${US(n)} and ${US(t)}. `+`You can also create a new NgModule that exports and includes ${US(e)} then import that NgModule in ${US(n)} and ${US(t)}.`),t):this._ngModuleOfTypes.set(e,t)}_getTransitiveNgModuleMetadata(e,t){const n=new bg,r=new Map;return e.concat(t).forEach(e=>{e.modules.forEach(e=>n.addModule(e)),e.entryComponents.forEach(e=>n.addEntryComponent(e));const t=new Set;e.providers.forEach(e=>{const i=mg(e.provider.token);let s=r.get(i);s||(s=new Set,r.set(i,s));const o=e.module.reference;!t.has(i)&&s.has(o)||(s.add(o),t.add(i),n.addProvider(e.provider,e.module))})}),t.forEach(e=>{e.exportedDirectives.forEach(e=>n.addExportedDirective(e)),e.exportedPipes.forEach(e=>n.addExportedPipe(e))}),e.forEach(e=>{e.exportedDirectives.forEach(e=>n.addDirective(e)),e.exportedPipes.forEach(e=>n.addPipe(e))}),n}_getIdentifierMetadata(e){return{reference:e=Vf(e)}}isInjectable(e){return this._reflector.tryAnnotations(e).some(e=>zp.isTypeOf(e))}getInjectableSummary(e){return{summaryKind:dg.Injectable,type:this._getTypeMetadata(e,null,!1)}}getInjectableMetadata(e,t=null,n=!0){const r=this._loadSummary(e,dg.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),s=this._reflector.annotations(e).filter(e=>zp.isTypeOf(e));if(0===s.length)return null;const o=s[s.length-1];return{symbol:e,type:i,providedIn:o.providedIn,useValue:o.useValue,useClass:o.useClass,useExisting:o.useExisting,useFactory:o.useFactory,deps:o.deps}}_getTypeMetadata(e,t=null,n=!0){const r=this._getIdentifierMetadata(e);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,t,n),lifecycleHooks:LS(this._reflector,r.reference)}}_getFactoryMetadata(e,t=null){return{reference:e=Vf(e),diDeps:this._getDependenciesMetadata(e,t)}}getPipeMetadata(e){const t=this._pipeCache.get(e);return t||this._reportError(Rf(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${US(e)}.`),e),t||null}getPipeSummary(e){const t=this._loadSummary(e,dg.Pipe);return t||this._reportError(Rf(`Illegal state: Could not load the summary for pipe ${US(e)}.`),e),t}getOrLoadPipeMetadata(e){let t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}_loadPipeMetadata(e){e=Vf(e);const t=this._pipeResolver.resolve(e),n=new vg({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}_getDependenciesMetadata(e,t,n=!0){let r=!1;const i=(t||this._reflector.parameters(e)||[]).map(e=>{let t=!1,n=!1,i=!1,s=!1,o=!1,a=null;return Array.isArray(e)?e.forEach(e=>{Kp.isTypeOf(e)?n=!0:Gp.isTypeOf(e)?i=!0:Qp.isTypeOf(e)?s=!0:Wp.isTypeOf(e)?o=!0:Op.isTypeOf(e)?(t=!0,a=e.attributeName):kp.isTypeOf(e)?a=e.token:Tp.isTypeOf(e)||e instanceof ng?a=e:BS(e)&&null==a&&(a=e)}):a=e,null==a?(r=!0,{}):{isAttribute:t,isHost:n,isSelf:i,isSkipSelf:s,isOptional:o,token:this._getTokenMetadata(a)}});if(r){const t=i.map(e=>e.token?US(e.token):"?").join(", "),r=`Can't resolve all parameters for ${US(e)}: (${t}).`;n||this._config.strictInjectionParameters?this._reportError(Rf(r),e):this._console.warn(`Warning: ${r} This will become an error in Angular v6.x`)}return i}_getTokenMetadata(e){let t;return t="string"==typeof(e=Vf(e))?{value:e}:{identifier:{reference:e}},t}_getProvidersMetadata(e,t,n,r=[],i){return e.forEach((s,o)=>{if(Array.isArray(s))this._getProvidersMetadata(s,t,n,r);else{let a=void 0;if((s=Vf(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))this._validateProvider(s),a=new Cg(s.provide,s);else{if(!BS(s)){if(void 0===s)return void this._reportError(Rf("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const t=e.reduce((e,t,n)=>(n<o?e.push(`${US(t)}`):n==o?e.push(`?${US(t)}?`):n==o+1&&e.push("..."),e),[]).join(", ");return void this._reportError(Rf(`Invalid ${n||"provider"} - only instances of Provider and Type are allowed, got: [${t}]`),i)}}a=new Cg(s,{useClass:s})}a.token===this._reflector.resolveExternalReference(Jf.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push(...this._getEntryComponentsFromProvider(a,i)):r.push(this.getProviderMetadata(a))}}),r}_validateProvider(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(Rf(`Invalid provider for ${US(e.provide)}. useClass cannot be ${e.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(e,t){const n=[],r=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(Rf("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(i=e.useValue,s=r,kf(i,new VS,s),r.forEach(e=>{const t=this._getEntryComponentMetadata(e.reference,!1);t&&n.push(t)}),n):(this._reportError(Rf("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[]);var i,s}_getEntryComponentMetadata(e,t=!0){const n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};const r=this._loadSummary(e,dg.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw Rf(`${e.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(e,t=null){const n=this._loadSummary(e,dg.Injectable);return n?n.type:this._getTypeMetadata(e,t)}getProviderMetadata(e){let t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies),t=n.diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(r=this._getFactoryMetadata(e.useFactory,e.dependencies),t=r.diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}_getQueriesMetadata(e,t,n){const r=[];return Object.keys(e).forEach(i=>{const s=e[i];s.isViewQuery===t&&r.push(this._getQueryMetadata(s,i,n))}),r}_queryVarBindings(e){return e.split(/\s*,\s*/)}_getQueryMetadata(e,t,n){let r;return"string"==typeof e.selector?r=this._queryVarBindings(e.selector).map(e=>this._getTokenMetadata(e)):e.selector?r=[this._getTokenMetadata(e.selector)]:(this._reportError(Rf(`Can't construct a query for the property "${t}" of "${US(n)}" since the query selector wasn't defined.`),n),r=[]),{selectors:r,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}}_reportError(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}function $S(e){return(t=function e(t,n=[]){if(t)for(let r=0;r<t.length;r++){const i=Vf(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(t)):[];var t}function BS(e){return e instanceof ng||e instanceof Yp}class VS extends Af{visitOther(e,t){t.push({reference:e})}}function US(e){return e instanceof ng?`${e.name} in ${e.filePath}`:Bf(e)}function zS(e,t){let n=0;t.eager||(n|=4096),t.providerType===yw.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(e=>{e!==RS.OnDestroy&&t.providerType!==yw.Directive&&t.providerType!==yw.Component||(n|=GS(e))});const{providerExpr:r,flags:i,depsExpr:s}=t.multiProvider?function(e,t,n){const r=[],i=[],s=n.map((t,n)=>{let r;if(t.useClass){const i=o(n,t.deps||t.useClass.diDeps);r=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){const i=o(n,t.deps||t.useFactory.diDeps);r=e.importExpr(t.useFactory.reference).callFn(i)}else if(t.useExisting){r=o(n,[{token:t.useExisting}])[0]}else r=AS(e,t.useValue);return r});return{providerExpr:_f(i,[new Xm(yf(s))],hm),flags:1024|t,depsExpr:yf(r)};function o(t,n){return n.map((n,s)=>{const o=`p${t}_${s}`;return i.push(new Mm(o,cm)),r.push(WS(e,n)),pf(o)})}}(e,n,t.providers):HS(e,n,t.providerType,t.providers[0]);return{providerExpr:r,flags:i,depsExpr:s,tokenExpr:qS(e,t.token)}}function HS(e,t,n,r){let i,s;return n===yw.Directive||n===yw.Component?(i=e.importExpr(r.useClass.reference),t|=16384,s=r.deps||r.useClass.diDeps):r.useClass?(i=e.importExpr(r.useClass.reference),t|=512,s=r.deps||r.useClass.diDeps):r.useFactory?(i=e.importExpr(r.useFactory.reference),t|=1024,s=r.deps||r.useFactory.diDeps):r.useExisting?(i=Hm,t|=2048,s=[{token:r.useExisting}]):(i=AS(e,r.useValue),t|=256,s=[]),{providerExpr:i,flags:t,depsExpr:yf(s.map(t=>WS(e,t)))}}function qS(e,t){return t.identifier?e.importExpr(t.identifier.reference):wf(t.value)}function WS(e,t){const n=t.isValue?AS(e,t.value):qS(e,t.token);let r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:yf([wf(r),n])}function GS(e){let t=0;switch(e){case RS.AfterContentChecked:t=2097152;break;case RS.AfterContentInit:t=1048576;break;case RS.AfterViewChecked:t=8388608;break;case RS.AfterViewInit:t=4194304;break;case RS.DoCheck:t=262144;break;case RS.OnChanges:t=524288;break;case RS.OnDestroy:t=131072;break;case RS.OnInit:t=65536}return t}function QS(e,t,n,r){const i=r.map(e=>t.importExpr(e.componentFactory)),s=tg(e,Jf.ComponentFactoryResolver),o={diDeps:[{isValue:!0,value:yf(i)},{token:s,isSkipSelf:!0,isOptional:!0},{token:tg(e,Jf.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(Jf.CodegenComponentFactoryResolver)},{providerExpr:a,flags:l,depsExpr:c}=HS(t,n,yw.PrivateService,{token:s,multi:!1,useClass:o});return{providerExpr:a,flags:l,depsExpr:c,tokenExpr:qS(t,s)}}class KS{constructor(e){this.ngModuleFactoryVar=e}}const YS=pf("_l");class XS{constructor(e){this.reflector=e}compile(e,t,n){const r=function(e,t){const n=lg(t),r=null!=n?`in ${e} ${ag(t)} in ${n}`:`in ${e} ${ag(t)}`,i=new Rg("",r);return new Mg(new Ng(i,-1,-1,-1),new Ng(i,-1,-1,-1))}("NgModule",t.type),i=t.transitiveModule.entryComponents,s=t.bootstrapComponents,o=new Ew(this.reflector,t,n,r),a=[QS(this.reflector,e,0,i)].concat(o.parse().map(t=>zS(e,t))).map(({providerExpr:e,depsExpr:t,flags:n,tokenExpr:r})=>mf(Jf.moduleProviderDef).callFn([wf(n),r,e,t])),l=mf(Jf.moduleDef).callFn([yf(a)]),c=_f([new Mm(YS.name)],[new Xm(l)],hm),h=`${ag(t.type)}NgFactory`;if(this._createNgModuleFactory(e,t.type.reference,mf(Jf.createModuleFactory).callFn([e.importExpr(t.type.reference),yf(s.map(t=>e.importExpr(t.reference))),c])),t.id){const n="string"==typeof t.id?wf(t.id):e.importExpr(t.id),r=mf(Jf.RegisterModuleFactoryFn).callFn([n,pf(h)]).toStmt();e.statements.push(r)}return new KS(h)}createStub(e,t){this._createNgModuleFactory(e,t,Hm)}_createNgModuleFactory(e,t,n){const r=pf(`${ag({reference:t})}NgFactory`).set(n).toDeclStmt(ff(Jf.NgModuleFactory,[gf(e.importExpr(t))],[nm.Const]),[Wm.Final,Wm.Exported]);e.statements.push(r)}}class ZS{constructor(e){this._reflector=e}isNgModule(e){return this._reflector.annotations(e).some(Up.isTypeOf)}resolve(e,t=!0){const n=iS(this._reflector.annotations(e),Up.isTypeOf);if(n)return n;if(t)throw new Error(`No NgModule metadata found for '${Bf(e)}'.`);return null}}class JS extends Mv{constructor(e,t){super(!1),this.referenceFilter=e,this.importFilter=t,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(e,t,n="any"){e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}visitLiteralExpr(e,t){const n=e.value;return null==n&&e.type!=hm?(t.print(e,`(${n} as any)`),null):super.visitLiteralExpr(e,t)}visitLiteralArrayExpr(e,t){0===e.entries.length&&t.print(e,"(");const n=super.visitLiteralArrayExpr(e,t);return 0===e.entries.length&&t.print(e," as any[])"),n}visitExternalExpr(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}visitAssertNotNullExpr(e,t){const n=super.visitAssertNotNullExpr(e,t);return t.print(e,"!"),n}visitDeclareVarStmt(e,t){if(e.hasModifier(Wm.Exported)&&e.value instanceof Im&&!e.type){const{name:t,moduleName:n}=e.value.value;if(n){let r=this.reexports.get(n);return r||(r=[],this.reexports.set(n,r)),r.push({name:t,as:e.name}),null}}return e.hasModifier(Wm.Exported)&&t.print(e,"export "),e.hasModifier(Wm.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e,` ${e.name}`),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitWrappedNodeExpr(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}visitInstantiateExpr(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitDeclareClassStmt(e,t){return t.pushClass(e),e.hasModifier(Wm.Exported)&&t.print(e,"export "),t.print(e,`class ${e.name}`),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(e=>this._visitClassField(e,t)),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(e=>this._visitClassGetter(e,t)),e.methods.forEach(e=>this._visitClassMethod(e,t)),t.decIndent(),t.println(e,"}"),t.popClass(),null}_visitClassField(e,t){e.hasModifier(Wm.Private)&&t.print(null,"/*private*/ "),e.hasModifier(Wm.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}_visitClassGetter(e,t){e.hasModifier(Wm.Private)&&t.print(null,"private "),t.print(null,`get ${e.name}()`),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}_visitClassConstructor(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}_visitClassMethod(e,t){e.hasModifier(Wm.Private)&&t.print(null,"private "),t.print(null,`${e.name}(`),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}visitFunctionExpr(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return e.hasModifier(Wm.Exported)&&t.print(e,"export "),t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${Dv.name}) {`),t.incIndent();const n=[Pv.set(Dv.prop("stack",null)).toDeclStmt(null,[Wm.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}visitBuiltinType(e,t){let n;switch(e.name){case rm.Bool:n="boolean";break;case rm.Dynamic:n="any";break;case rm.Function:n="Function";break;case rm.Number:case rm.Int:n="number";break;case rm.String:n="string";break;case rm.None:n="never";break;default:throw new Error(`Unsupported builtin type ${e.name}`)}return t.print(null,n),null}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(e=>this.visitType(e,t),e.typeParams,t,","),t.print(null,">")),null}visitArrayType(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}visitMapType(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}getBuiltinMethodName(e){let t;switch(e){case gm.ConcatArray:t="concat";break;case gm.SubscribeObservable:t="subscribe";break;case gm.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}_visitParams(e,t){this.visitAllObjects(e=>{t.print(null,e.name),this._printColonType(e.type,t)},e,t,",")}_visitIdentifier(e,t,n){const{name:r,moduleName:i}=e;if(this.referenceFilter&&this.referenceFilter(e))n.print(null,"(null as any)");else{if(i&&(!this.importFilter||!this.importFilter(e))){let e=this.importsWithPrefixes.get(i);null==e&&(e=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(i,e)),n.print(null,`${e}.`)}if(n.print(null,r),this.typeExpression>0){(t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(e=>e.visitType(this,n),t,n,","),n.print(null,">"))}}}_printColonType(e,t,n){e!==hm&&(t.print(null,":"),this.visitType(e,t,n))}}class ex{constructor(e){this._reflector=e}isPipe(e){const t=this._reflector.annotations(Vf(e));return t&&t.some(Lp.isTypeOf)}resolve(e,t=!0){const n=this._reflector.annotations(Vf(e));if(n){const e=iS(n,Lp.isTypeOf);if(e)return e}if(t)throw new Error(`No Pipe decorator found on ${Bf(e)}`);return null}}new class{notifyImplicitReceiverUse(){}getLocal(e){return e===T_.event.name?pf("_any"):null}};class tx{constructor(e,t){this.viewClassVar=e,this.rendererTypeVar=t}}class nx{constructor(e){this._reflector=e}compileComponent(e,t,n,r,i){let s=0;const o=function e(t,n=new Map){return t.forEach(t=>{const r=new Set,i=new Set;let s=void 0;t instanceof dw?(e(t.children,n),t.children.forEach(e=>{const t=n.get(e);t.staticQueryIds.forEach(e=>r.add(e)),t.dynamicQueryIds.forEach(e=>i.add(e))}),s=t.queryMatches):t instanceof pw&&(e(t.children,n),t.children.forEach(e=>{const t=n.get(e);t.staticQueryIds.forEach(e=>i.add(e)),t.dynamicQueryIds.forEach(e=>i.add(e))}),s=t.queryMatches),s&&s.forEach(e=>r.add(e.queryId)),i.forEach(e=>r.delete(e)),n.set(t,{staticQueryIds:r,dynamicQueryIds:i})}),n}(n);let a=void 0;if(!t.isHost){const n=t.template,i=[];n.animations&&n.animations.length&&i.push(new Vm("animation",AS(e,n.animations),!0));const s=pf(hg(t.type.reference));a=s.name,e.statements.push(s.set(mf(Jf.createRendererType2).callFn([new Um([new Vm("encapsulation",wf(n.encapsulation),!1),new Vm("styles",r,!1),new Vm("data",new Um(i),!1)])])).toDeclStmt(ff(Jf.RendererType2),[Wm.Final,Wm.Exported]))}const l=n=>{const r=s++;return new cx(this._reflector,e,n,t,r,i,o,l)},c=l(null);return c.visitAll([],n),e.statements.push(...c.build()),new tx(c.viewName,a)}}const rx=pf("_l"),ix=pf("_v"),sx=pf("_ck"),ox=pf("_co"),ax=pf("en"),lx=pf("ad");class cx{constructor(e,t,n,r,i,s,o,a){this.reflector=e,this.outputCtx=t,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=s,this.staticQueryIds=o,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?cm:gf(t.importExpr(this.component.type.reference)),this.viewName=cg(this.component.type.reference,this.embeddedViewIndex)}visitAll(e,t){if(this.variables=e,this.parent||this.usedPipes.forEach(e=>{e.pure&&(this.purePipeNodeIndices[e.name]=this._createPipe(null,e))}),!this.parent){const e=function(e){const t=new Set,n=new Set;return Array.from(e.values()).forEach(e=>{e.staticQueryIds.forEach(e=>t.add(e)),e.dynamicQueryIds.forEach(e=>n.add(e))}),n.forEach(e=>t.delete(e)),{staticQueryIds:t,dynamicQueryIds:n}}(this.staticQueryIds);this.component.viewQueries.forEach((t,n)=>{const r=n+1,i=t.first?0:1,s=134217728|mx(e,r,t);this.nodes.push(()=>({sourceSpan:null,nodeFlags:s,nodeDef:mf(Jf.queryDef).callFn([wf(s),wf(r),new Um([new Vm(t.propertyName,wf(i),!1)])])}))})}_w(this,t),this.parent&&(0===t.length||function e(t){const n=t[t.length-1];if(n instanceof pw)return n.hasViewContainer;if(n instanceof dw)return up(n.name)&&n.children.length?e(n.children):n.hasViewContainer;return n instanceof vw}(t))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:mf(Jf.anchorDef).callFn([wf(0),Hm,Hm,wf(0)])}))}build(e=[]){this.children.forEach(t=>t.build(e));const{updateRendererStmts:t,updateDirectivesStmts:n,nodeDefExprs:r}=this._createNodeExpressions(),i=this._createUpdateFn(t),s=this._createUpdateFn(n);let o=0;this.parent||this.component.changeDetection!==Mp.OnPush||(o|=2);const a=new Km(this.viewName,[new Mm(rx.name)],[new Xm(mf(Jf.viewDef).callFn([wf(o),yf(r),s,i]))],ff(Jf.ViewDefinition),0===this.embeddedViewIndex?[Wm.Exported]:[]);return e.push(a),e}_createUpdateFn(e){let t;if(e.length>0){const n=[];!this.component.isHost&&lf(e).has(ox.name)&&n.push(ox.set(ix.prop("component")).toDeclStmt(this.compType)),t=_f([new Mm(sx.name,hm),new Mm(ix.name,hm)],[...n,...e],hm)}else t=Hm;return t}visitNgContent(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:mf(Jf.ngContentDef).callFn([wf(e.ngContentIndex),wf(e.index)])}))}visitText(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:mf(Jf.textDef).callFn([wf(-1),wf(e.ngContentIndex),yf([wf(e.value)])])}))}visitBoundText(e,t){const n=this.nodes.length;this.nodes.push(null);const r=e.value.ast,i=r.expressions.map((t,r)=>this._preprocessUpdateExpression({nodeIndex:n,bindingIndex:r,sourceSpan:e.sourceSpan,context:ox,value:t})),s=n;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:mf(Jf.textDef).callFn([wf(s),wf(e.ngContentIndex),yf(r.strings.map(e=>wf(e)))]),updateRenderer:i})}visitEmbeddedTemplate(e,t){const n=this.nodes.length;this.nodes.push(null);const{flags:r,queryMatchesExpr:i,hostEvents:s}=this._visitElementOrTemplate(n,e),o=this.viewBuilderFactory(this);this.children.push(o),o.visitAll(e.variables,e.children);const a=this.nodes.length-n-1;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:1|r,nodeDef:mf(Jf.anchorDef).callFn([wf(r),i,wf(e.ngContentIndex),wf(a),this._createElementHandleEventFn(n,s),pf(o.viewName)])})}visitElement(e,t){const n=this.nodes.length;this.nodes.push(null);const r=up(e.name)?null:e.name,{flags:i,usedEvents:s,queryMatchesExpr:o,hostBindings:a,hostEvents:l}=this._visitElementOrTemplate(n,e);let c=[],h=[],u=[];if(r){const t=e.inputs.map(e=>({context:ox,inputAst:e,dirAst:null})).concat(a);t.length&&(h=t.map((e,t)=>this._preprocessUpdateExpression({context:e.context,nodeIndex:n,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})),c=t.map(e=>function(e,t){const n=e.type;switch(n){case 1:return yf([wf(1),wf(e.name),wf(e.securityContext)]);case 0:return yf([wf(8),wf(e.name),wf(e.securityContext)]);case 4:return yf([wf(8|(t&&t.directive.isComponent?32:16)),wf("@"+e.name),wf(e.securityContext)]);case 2:return yf([wf(2),wf(e.name),Hm]);case 3:return yf([wf(4),wf(e.name),wf(e.unit)]);default:throw new Error(`unexpected ${n}`)}}(e.inputAst,e.dirAst))),u=s.map(([e,t])=>yf([wf(e),wf(t)]))}_w(this,e.children);const d=this.nodes.length-n-1,p=e.directives.find(e=>e.directive.isComponent);let m=Hm,f=Hm;p&&(f=this.outputCtx.importExpr(p.directive.componentViewType),m=this.outputCtx.importExpr(p.directive.rendererType));const g=n;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:1|i,nodeDef:mf(Jf.elementDef).callFn([wf(g),wf(i),o,wf(e.ngContentIndex),wf(d),wf(r),r?hx(e):Hm,c.length?yf(c):Hm,u.length?yf(u):Hm,this._createElementHandleEventFn(n,l),f,m]),updateRenderer:h})}_visitElementOrTemplate(e,t){let n=0;t.hasViewContainer&&(n|=16777216);const r=new Map;t.outputs.forEach(e=>{const{name:t,target:n}=px(e,null);r.set(fx(n,t),[n,t])}),t.directives.forEach(e=>{e.hostEvents.forEach(t=>{const{name:n,target:i}=px(t,e);r.set(fx(i,n),[i,n])})});const i=[],s=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach((n,o)=>{let a=void 0,l=void 0;if(t.directives.forEach((e,t)=>{e.directive.type.reference===mg(n.token)&&(a=e,l=t)}),a){const{hostBindings:o,hostEvents:c}=this._visitDirective(n,a,l,e,t.references,t.queryMatches,r,this.staticQueryIds.get(t));i.push(...o),s.push(...c)}else this._visitProvider(n,t.queryMatches)});let o=[];return t.queryMatches.forEach(e=>{let t=void 0;mg(e.value)===this.reflector.resolveExternalReference(Jf.ElementRef)?t=0:mg(e.value)===this.reflector.resolveExternalReference(Jf.ViewContainerRef)?t=3:mg(e.value)===this.reflector.resolveExternalReference(Jf.TemplateRef)&&(t=2),null!=t&&o.push(yf([wf(e.queryId),wf(t)]))}),t.references.forEach(t=>{let n=void 0;t.value?mg(t.value)===this.reflector.resolveExternalReference(Jf.TemplateRef)&&(n=2):n=1,null!=n&&(this.refNodeIndices[t.name]=e,o.push(yf([wf(t.name),wf(n)])))}),t.outputs.forEach(e=>{s.push({context:ox,eventAst:e,dirAst:null})}),{flags:n,usedEvents:Array.from(r.values()),queryMatchesExpr:o.length?yf(o):Hm,hostBindings:i,hostEvents:s}}_visitDirective(e,t,n,r,i,s,o,a){const l=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach((e,n)=>{const r=t.contentQueryStartId+n,i=67108864|mx(a,r,e),s=e.first?0:1;this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:mf(Jf.queryDef).callFn([wf(i),wf(r),new Um([new Vm(e.propertyName,wf(s),!1)])])}))});const c=this.nodes.length-l-1;let{flags:h,queryMatchExprs:u,providerExpr:d,depsExpr:p}=this._visitProviderOrDirective(e,s);i.forEach(t=>{t.value&&mg(t.value)===mg(e.token)&&(this.refNodeIndices[t.name]=l,u.push(yf([wf(t.name),wf(4)])))}),t.directive.isComponent&&(h|=32768);const m=t.inputs.map((e,t)=>{const n=yf([wf(t),wf(e.directiveName)]);return new Vm(e.directiveName,n,!1)}),f=[],g=t.directive;Object.keys(g.outputs).forEach(e=>{const t=g.outputs[e];o.has(t)&&f.push(new Vm(e,wf(t),!1))});let y=[];(t.inputs.length||(327680&h)>0)&&(y=t.inputs.map((e,t)=>this._preprocessUpdateExpression({nodeIndex:l,bindingIndex:t,sourceSpan:e.sourceSpan,context:ox,value:e.value})));const v=mf(Jf.nodeValue).callFn([ix,wf(l)]),_=t.hostProperties.map(e=>({context:v,dirAst:t,inputAst:e})),b=t.hostEvents.map(e=>({context:v,eventAst:e,dirAst:t})),w=l;return this.nodes[l]=()=>({sourceSpan:t.sourceSpan,nodeFlags:16384|h,nodeDef:mf(Jf.directiveDef).callFn([wf(w),wf(h),u.length?yf(u):Hm,wf(c),d,p,m.length?new Um(m):Hm,f.length?new Um(f):Hm]),updateDirectives:y,directive:t.directive.type}),{hostBindings:_,hostEvents:b}}_visitProvider(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}_visitComponentFactoryResolverProvider(e){const t=e.find(e=>e.directive.isComponent);if(t&&t.directive.entryComponents.length){const{providerExpr:e,depsExpr:n,flags:r,tokenExpr:i}=QS(this.reflector,this.outputCtx,8192,t.directive.entryComponents);this._addProviderNode({providerExpr:e,depsExpr:n,flags:r,tokenExpr:i,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}_addProviderNode(e){this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:mf(Jf.providerDef).callFn([wf(e.flags),e.queryMatchExprs.length?yf(e.queryMatchExprs):Hm,e.tokenExpr,e.providerExpr,e.depsExpr])}))}_visitProviderOrDirective(e,t){let n=[];t.forEach(t=>{mg(t.value)===mg(e.token)&&n.push(yf([wf(t.queryId),wf(4)]))});const{providerExpr:r,depsExpr:i,flags:s,tokenExpr:o}=zS(this.outputCtx,e);return{flags:0|s,queryMatchExprs:n,providerExpr:r,depsExpr:i,tokenExpr:o,sourceSpan:e.sourceSpan}}getLocal(e){if(e==T_.event.name)return T_.event;let t=ix;for(let n=this;n;n=n.parent,t=t.prop("parent").cast(cm)){const r=n.refNodeIndices[e];if(null!=r)return mf(Jf.nodeValue).callFn([t,wf(r)]);const i=n.variables.find(t=>t.name===e);if(i){const e=i.value||"$implicit";return t.prop("context").prop(e)}}return null}notifyImplicitReceiverUse(){}_createLiteralArrayConverter(e,t){if(0===t){const e=mf(Jf.EMPTY_ARRAY);return()=>e}const n=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:32,nodeDef:mf(Jf.pureArrayDef).callFn([wf(n),wf(t)])})),e=>ux(n,e)}_createLiteralMapConverter(e,t){if(0===t.length){const e=mf(Jf.EMPTY_MAP);return()=>e}const n=vf(t.map((e,t)=>Object.assign({},e,{value:wf(t)}))),r=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:64,nodeDef:mf(Jf.pureObjectDef).callFn([wf(r),n])})),e=>ux(r,e)}_createPipeConverter(e,t,n){const r=this.usedPipes.find(e=>e.name===t);if(r.pure){const r=this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:mf(Jf.purePipeDef).callFn([wf(r),wf(n)])}));let i=ix,s=this;for(;s.parent;)s=s.parent,i=i.prop("parent").cast(cm);const o=s.purePipeNodeIndices[t],a=mf(Jf.nodeValue).callFn([i,wf(o)]);return t=>dx(e.nodeIndex,e.bindingIndex,ux(r,[a].concat(t)))}{const t=this._createPipe(e.sourceSpan,r),n=mf(Jf.nodeValue).callFn([ix,wf(t)]);return t=>dx(e.nodeIndex,e.bindingIndex,n.callMethod("transform",t))}}_createPipe(e,t){const n=this.nodes.length;let r=0;t.type.lifecycleHooks.forEach(e=>{e===RS.OnDestroy&&(r|=GS(e))});const i=t.type.diDeps.map(e=>WS(this.outputCtx,e));return this.nodes.push(()=>({sourceSpan:e,nodeFlags:16,nodeDef:mf(Jf.pipeDef).callFn([wf(r),this.outputCtx.importExpr(t.type.reference),yf(i)])})),n}_preprocessUpdateExpression(e){return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:I_({createLiteralArrayConverter:t=>this._createLiteralArrayConverter(e.sourceSpan,t),createLiteralMapConverter:t=>this._createLiteralMapConverter(e.sourceSpan,t),createPipeConverter:(t,n)=>this._createPipeConverter(e,t,n)},e.value)}}_createNodeExpressions(){const e=this;let t=0;const n=[],r=[],i=this.nodes.map((e,t)=>{const{nodeDef:i,nodeFlags:o,updateDirectives:a,updateRenderer:l,sourceSpan:c}=e();return l&&n.push(...s(t,c,l,!1)),a&&r.push(...s(t,c,a,(327680&o)>0)),uf(3&o?new zm([rx.callFn([]).callFn([]),i]):i,c)});return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function s(n,r,i,s){const o=[],a=i.map(({sourceSpan:n,context:r,value:i})=>{const s=`${t++}`,a=r===ox?e:null,{stmts:l,currValExpr:c}=P_(a,r,i,s,C_.General);return o.push(...l.map(e=>hf(e,n))),uf(c,n)});return(i.length||s)&&o.push(hf(ux(n,a).toStmt(),r)),o}}_createElementHandleEventFn(e,t){const n=[];let r,i=0;if(t.forEach(({context:e,eventAst:t,dirAst:r})=>{const s=`${i++}`,o=e===ox?this:null,{stmts:a,allowDefault:l}=A_(o,e,t.handler,s),c=a;l&&c.push(lx.set(l.and(lx)).toStmt());const{target:h,name:u}=px(t,r),d=fx(h,u);n.push(hf(new nf(wf(d).identical(ax),c),t.sourceSpan))}),n.length>0){const e=[lx.set(wf(!0)).toDeclStmt(um)];!this.component.isHost&&lf(n).has(ox.name)&&e.push(ox.set(ix.prop("component")).toDeclStmt(this.compType)),r=_f([new Mm(ix.name,hm),new Mm(ax.name,hm),new Mm(T_.event.name,hm)],[...e,...n,new Xm(lx)],hm)}else r=Hm;return r}visitDirective(e,t){}visitDirectiveProperty(e,t){}visitReference(e,t){}visitVariable(e,t){}visitEvent(e,t){}visitElementProperty(e,t){}visitAttr(e,t){}}function hx(e){const t=Object.create(null);return e.attrs.forEach(e=>{t[e.name]=e.value}),e.directives.forEach(e=>{Object.keys(e.directive.hostAttributes).forEach(n=>{const r=e.directive.hostAttributes[n],i=t[n];var s,o,a;t[n]=null!=i?(o=i,a=r,"class"==(s=n)||"style"==s?`${o} ${a}`:a):r})}),yf(Object.keys(t).sort().map(e=>yf([wf(e),wf(t[e])])))}function ux(e,t){return t.length>10?sx.callFn([ix,wf(e),wf(1),yf(t)]):sx.callFn([ix,wf(e),wf(0),...t])}function dx(e,t,n){return mf(Jf.unwrapValue).callFn([ix,wf(e),wf(t),n])}function px(e,t){return e.isAnimation?{name:`@${e.name}.${e.phase}`,target:t&&t.directive.isComponent?"component":null}:e}function mx(e,t,n){let r=0;return n.first&&function(e,t,n){return n.static||null==n.static&&(e.staticQueryIds.has(t)||!e.dynamicQueryIds.has(t))}(e,t,n)?r|=268435456:r|=536870912,r}function fx(e,t){return e?`${e}:${t}`:t}new Set(["useValue","useFactory","data","id","loadChildren"]);class gx{static build(){const e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new yx(e):gx.empty}}}}gx.missing={},gx.empty={resolve:e=>gx.missing};class yx extends gx{constructor(e){super(),this.bindings=e}resolve(e){return this.bindings.has(e)?this.bindings.get(e):gx.missing}}class vx{}class _x{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(e){return e}fromSummaryFileName(e){return e}resolveSummary(e){return this._summaries.get(e)||null}getSymbolsOf(){return[]}getImportAs(e){return e}getKnownModuleName(e){return null}addSummary(e){this._summaries.set(e.symbol,e)}}function bx(e,t,n,r,i){const s=r.createChildWihtLocalVars();for(let a=0;a<e.length;a++)s.vars.set(e[a],t[a]);const o=i.visitAllStatements(n,s);return o?o.value:null}class wx{constructor(e,t,n,r){this.parent=e,this.instance=t,this.className=n,this.vars=r,this.exports=[]}createChildWihtLocalVars(){return new wx(this,this.instance,this.className,new Map)}}class Cx{constructor(e){this.value=e}}class Ex{constructor(e){this.reflector=e}debugAst(e){return function(e){const t=new JS,n=Rv.createRoot();return(Array.isArray(e)?e:[e]).forEach(e=>{if(e instanceof Gm)e.visitStatement(t,n);else if(e instanceof _m)e.visitExpression(t,n);else{if(!(e instanceof im))throw new Error(`Don't know how to print debug info for ${e}`);e.visitType(t,n)}}),n.toSource()}(e)}visitDeclareVarStmt(e,t){const n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(Wm.Exported)&&t.exports.push(e.name),null}visitWriteVarExpr(e,t){const n=e.value.visitExpression(this,t);let r=t;for(;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error(`Not declared variable ${e.name}`)}visitWrappedNodeExpr(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(e,t){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case fm.Super:return Object.getPrototypeOf(t.instance);case fm.This:return t.instance;case fm.CatchError:n=xx;break;case fm.CatchStack:n=kx;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}let r=t;for(;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error(`Not declared variable ${n}`)}visitWriteKeyExpr(e,t){const n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i,i}visitWritePropExpr(e,t){const n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r,r}visitInvokeMethodExpr(e,t){const n=e.receiver.visitExpression(this,t),r=this.visitAllExpressions(e.args,t);let i;if(null!=e.builtin)switch(e.builtin){case gm.ConcatArray:i=n.concat(...r);break;case gm.SubscribeObservable:i=n.subscribe({next:r[0]});break;case gm.Bind:i=n.bind(...r);break;default:throw new Error(`Unknown builtin method ${e.builtin}`)}else i=n[e.name].apply(n,r);return i}visitInvokeFunctionExpr(e,t){const n=this.visitAllExpressions(e.args,t),r=e.fn;if(r instanceof bm&&r.builtin===fm.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,n),null;return e.fn.visitExpression(this,t).apply(null,n)}visitReturnStmt(e,t){return new Cx(e.value.visitExpression(this,t))}visitDeclareClassStmt(e,t){const n=function(e,t,n){const r={};e.getters.forEach(i=>{r[i.name]={configurable:!1,get:function(){const r=new wx(t,this,e.name,t.vars);return bx([],[],i.body,r,n)}}}),e.methods.forEach((function(i){const s=i.params.map(e=>e.name);r[i.name]={writable:!1,configurable:!1,value:function(...r){const o=new wx(t,this,e.name,t.vars);return bx(s,r,i.body,o,n)}}}));const i=e.constructorMethod.params.map(e=>e.name),s=function(...r){const s=new wx(t,this,e.name,t.vars);e.fields.forEach(e=>{this[e.name]=void 0}),bx(i,r,e.constructorMethod.body,s,n)},o=e.parent?e.parent.visitExpression(n,t):Object;return s.prototype=Object.create(o.prototype,r),s}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(Wm.Exported)&&t.exports.push(e.name),null}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t)}visitIfStmt(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}visitTryCatchStmt(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(n){const r=t.createChildWihtLocalVars();return r.vars.set(xx,n),r.vars.set(kx,n.stack),this.visitAllStatements(e.catchStmts,r)}}visitThrowStmt(e,t){throw e.error.visitExpression(this,t)}visitCommentStmt(e,t){return null}visitJSDocCommentStmt(e,t){return null}visitInstantiateExpr(e,t){const n=this.visitAllExpressions(e.args,t);return new(e.classExpr.visitExpression(this,t))(...n)}visitLiteralExpr(e,t){return e.value}visitExternalExpr(e,t){return this.reflector.resolveExternalReference(e.value)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}visitNotExpr(e,t){return!e.condition.visitExpression(this,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t)}visitFunctionExpr(e,t){return Sx(e.params.map(e=>e.name),e.statements,t,this)}visitDeclareFunctionStmt(e,t){const n=e.params.map(e=>e.name);return t.vars.set(e.name,Sx(n,e.statements,t,this)),e.hasModifier(Wm.Exported)&&t.exports.push(e.name),null}visitBinaryOperatorExpr(e,t){const n=()=>e.lhs.visitExpression(this,t),r=()=>e.rhs.visitExpression(this,t);switch(e.operator){case mm.Equals:return n()==r();case mm.Identical:return n()===r();case mm.NotEquals:return n()!=r();case mm.NotIdentical:return n()!==r();case mm.And:return n()&&r();case mm.Or:return n()||r();case mm.Plus:return n()+r();case mm.Minus:return n()-r();case mm.Divide:return n()/r();case mm.Multiply:return n()*r();case mm.Modulo:return n()%r();case mm.Lower:return n()<r();case mm.LowerEquals:return n()<=r();case mm.Bigger:return n()>r();case mm.BiggerEquals:return n()>=r();default:throw new Error(`Unknown operator ${e.operator}`)}}visitReadPropExpr(e,t){let n;return n=e.receiver.visitExpression(this,t)[e.name],n}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t)}visitLiteralMapExpr(e,t){const n={};return e.entries.forEach(e=>n[e.key]=e.value.visitExpression(this,t)),n}visitCommaExpr(e,t){const n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitAllStatements(e,t){for(let n=0;n<e.length;n++){const r=e[n].visitStatement(this,t);if(r instanceof Cx)return r}return null}}function Sx(e,t,n,r){return(...i)=>bx(e,i,t,n,r)}const xx="error",kx="stack";class Tx{constructor(e,t,n,r,i,s,o,a,l,c,h){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=a,this._compilerConfig=l,this._console=c,this.getExtraNgModuleProviders=h,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(e){return If(this._compileModuleAndComponents(e,!0))}compileModuleAsync(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}compileModuleAndAllComponentsSync(e){return If(this._compileModuleAndAllComponents(e,!0))}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}getComponentFactory(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}loadAotSummaries(e){this.clearCache(),this._addAotSummaries(e)}_addAotSummaries(e){if(this._addedAotSummaries.has(e))return;this._addedAotSummaries.add(e);const t=e();for(let n=0;n<t.length;n++){const e=t[n];if("function"==typeof e)this._addAotSummaries(e);else{const t=e;this._summaryResolver.addSummary({symbol:t.type.reference,metadata:null,type:t})}}}hasAotSummary(e){return!!this._summaryResolver.resolveSummary(e)}_filterJitIdentifiers(e){return e.map(e=>e.reference).filter(e=>!this.hasAotSummary(e))}_compileModuleAndComponents(e,t){return Df(this._loadModules(e,t),()=>(this._compileComponents(e,null),this._compileModule(e)))}_compileModuleAndAllComponents(e,t){return Df(this._loadModules(e,t),()=>{const t=[];return this._compileComponents(e,t),{ngModuleFactory:this._compileModule(e),componentFactories:t}})}_loadModules(e,t){const n=[],r=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(r.transitiveModule.modules).forEach(e=>{const r=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(r.declaredDirectives).forEach(e=>{const i=this._metadataResolver.loadDirectiveMetadata(r.type.reference,e,t);i&&n.push(i)}),this._filterJitIdentifiers(r.declaredPipes).forEach(e=>this._metadataResolver.getOrLoadPipeMetadata(e))}),Pf(n)}_compileModule(e){let t=this._compiledNgModuleCache.get(e);if(!t){const n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=Ix(),s=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(function(e){return Sg(`${ag(e.type)}/module.ngfactory.js`)}(n),i.statements)[s.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}_compileComponents(e,t){const n=this._metadataResolver.getNgModuleMetadata(e),r=new Map,i=new Set,s=this._filterJitIdentifiers(n.transitiveModule.modules);s.forEach(e=>{const n=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(n.declaredDirectives).forEach(e=>{r.set(e,n);const s=this._metadataResolver.getDirectiveMetadata(e);if(s.isComponent&&(i.add(this._createCompiledTemplate(s,n)),t)){const e=this._createCompiledHostTemplate(s.type.reference,n);i.add(e),t.push(s.componentFactory)}})}),s.forEach(e=>{const t=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(t.declaredDirectives).forEach(e=>{const t=this._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(e=>{const t=r.get(e.componentType);i.add(this._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(e=>{if(!this.hasAotSummary(e.componentType)){const t=r.get(e.componentType);i.add(this._createCompiledHostTemplate(e.componentType,t))}})}),i.forEach(e=>this._compileTemplate(e))}clearCacheFor(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(e,t){if(!t)throw new Error(`Component ${Bf(e)} is not part of any NgModule or the module has not been imported into your module.`);let n=this._compiledHostTemplateCache.get(e);if(!n){const r=this._metadataResolver.getDirectiveMetadata(e);Ax(r);const i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new Ox(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n}_createCompiledTemplate(e,t){let n=this._compiledTemplateCache.get(e.type.reference);return n||(Ax(e),n=new Ox(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}_compileTemplate(e){if(e.isCompiled)return;const t=e.compMeta,n=new Map,r=Ix(),i=this._styleCompiler.compileComponent(r,t);t.template.externalStylesheets.forEach(e=>{const r=this._styleCompiler.compileStyles(Ix(),t,e);n.set(e.moduleUrl,r)}),this._resolveStylesCompileResult(i,n);e.ngModule.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));const{template:s,pipes:o}=this._parseTemplate(t,e.ngModule,e.directives),a=this._viewCompiler.compileComponent(r,t,s,pf(i.stylesVar),o),l=this._interpretOrJit(function(e,t){return Sg(`${ag(e)}/${ag(t.type)}.ngfactory.js`)}(e.ngModule.type,e.compMeta),r.statements),c=l[a.viewClassVar],h=l[a.rendererTypeVar];e.compiled(c,h)}_parseTemplate(e,t,n){const r=e.template.preserveWhitespaces,i=n.map(e=>this._metadataResolver.getDirectiveSummary(e.reference)),s=t.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));return this._templateParser.parse(e,e.template.htmlAst,i,s,t.schemas,xg(t.type,e,e.template),r)}_resolveStylesCompileResult(e,t){e.dependencies.forEach((e,n)=>{const r=t.get(e.moduleUrl),i=this._resolveAndEvalStylesCompileResult(r,t);e.setValue(i)})}_resolveAndEvalStylesCompileResult(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(function(e,t){const n=e.moduleUrl.split(/\/\\/g);return Sg(`css/${t}${n[n.length-1]}.ngstyle.js`)}(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]}_interpretOrJit(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){const n=new wx(null,null,null,new Map);new Ex(t).visitAllStatements(e,n);const r={};return n.exports.forEach(e=>{r[e]=n.vars.get(e)}),r}(t,this._reflector)}}class Ox{constructor(e,t,n,r,i){this.isHost=e,this.compType=t,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}compiled(e,t){this._viewClass=e,this.compMeta.componentViewType.setDelegate(e);for(let n in t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}function Ax(e){if(!e.isComponent)throw new Error(`Could not compile '${ag(e.type)}' because it is not a component.`)}function Ix(){return{statements:[],genFilePath:"",importExpr:e=>mf({name:ag(e),moduleName:null,runtime:e}),constantPool:new Qf}}class Dx{}const Px=class{constructor(e=null){this._packagePrefix=e}resolve(e,t){let n=t;null!=e&&e.length>0&&(n=function(e,t){const n=Mx(encodeURI(t)),r=Mx(e);if(null!=n[Rx.Scheme])return Fx(n);n[Rx.Scheme]=r[Rx.Scheme];for(let o=Rx.Scheme;o<=Rx.Port;o++)null==n[o]&&(n[o]=r[o]);if("/"==n[Rx.Path][0])return Fx(n);let i=r[Rx.Path];null==i&&(i="/");const s=i.lastIndexOf("/");return i=i.substring(0,s+1)+n[Rx.Path],n[Rx.Path]=i,Fx(n)}(e,n));const r=Mx(n);let i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[Rx.Scheme]){let e=r[Rx.Path];return i=i.replace(/\/+$/,""),e=e.replace(/^\/+/,""),`${i}/${e}`}return n}};const Nx=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var Rx;function Mx(e){return e.match(Nx)}function Fx(e){let t=e[Rx.Path];return t=null==t?"":function(e){if("/"==e)return"/";const t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[];let s=0;for(let o=0;o<r.length;o++){const e=r[o];switch(e){case"":case".":break;case"..":i.length>0?i.pop():s++;break;default:i.push(e)}}if(""==t){for(;s-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(t),e[Rx.Path]=t,function(e,t,n,r,i,s,o){const a=[];return null!=e&&a.push(e+":"),null!=n&&(a.push("//"),null!=t&&a.push(t+"@"),a.push(n),null!=r&&a.push(":"+r)),null!=i&&a.push(i),null!=s&&a.push("?"+s),null!=o&&a.push("#"+o),a.join("")}(e[Rx.Scheme],e[Rx.UserInfo],e[Rx.Domain],e[Rx.Port],t,e[Rx.QueryData],e[Rx.Fragment])}!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(Rx||(Rx={}));!function(e){(e.ng||(e.ng={})).\u0275compilerFacade=new ME}(qf);class Lx{}const jx=new Be("Location Initialized");class $x{}const Bx=new Be("appBaseHref");class Vx{constructor(e,t){this._subject=new ch,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Vx.stripTrailingSlash(Ux(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Vx.normalizeQueryParams(t))}normalize(e){return Vx.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Ux(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vx.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vx.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-("/"===e[n-1]?1:0);return e.slice(0,r)+e.slice(n)}}function Ux(e){return e.replace(/\/index.html$/,"")}Vx.decorators=[{type:oo}],Vx.ctorParameters=()=>[{type:$x},{type:Lx}];class zx extends $x{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Vx.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+Vx.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+Vx.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}zx.decorators=[{type:oo}],zx.ctorParameters=()=>[{type:Lx},{type:String,decorators:[{type:ve},{type:ye,args:[Bx]}]}];class Hx extends $x{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Vx.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Vx.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+Vx.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+Vx.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}Hx.decorators=[{type:oo}],Hx.ctorParameters=()=>[{type:Lx},{type:String,decorators:[{type:ve},{type:ye,args:[Bx]}]}];const qx={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Wx={Decimal:0,Percent:1,Currency:2,Scientific:3};Wx[Wx.Decimal]="Decimal",Wx[Wx.Percent]="Percent",Wx[Wx.Currency]="Currency",Wx[Wx.Scientific]="Scientific";const Gx={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};Gx[Gx.Zero]="Zero",Gx[Gx.One]="One",Gx[Gx.Two]="Two",Gx[Gx.Few]="Few",Gx[Gx.Many]="Many",Gx[Gx.Other]="Other";const Qx={Format:0,Standalone:1};Qx[Qx.Format]="Format",Qx[Qx.Standalone]="Standalone";const Kx={Narrow:0,Abbreviated:1,Wide:2,Short:3};Kx[Kx.Narrow]="Narrow",Kx[Kx.Abbreviated]="Abbreviated",Kx[Kx.Wide]="Wide",Kx[Kx.Short]="Short";const Yx={Short:0,Medium:1,Long:2,Full:3};Yx[Yx.Short]="Short",Yx[Yx.Medium]="Medium",Yx[Yx.Long]="Long",Yx[Yx.Full]="Full";const Xx={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};Xx[Xx.Decimal]="Decimal",Xx[Xx.Group]="Group",Xx[Xx.List]="List",Xx[Xx.PercentSign]="PercentSign",Xx[Xx.PlusSign]="PlusSign",Xx[Xx.MinusSign]="MinusSign",Xx[Xx.Exponential]="Exponential",Xx[Xx.SuperscriptingExponent]="SuperscriptingExponent",Xx[Xx.PerMille]="PerMille",Xx[Xx.Infinity]="Infinity",Xx[Xx.NaN]="NaN",Xx[Xx.TimeSeparator]="TimeSeparator",Xx[Xx.CurrencyDecimal]="CurrencyDecimal",Xx[Xx.CurrencyGroup]="CurrencyGroup";const Zx={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function Jx(e,t){return ok(sh(e)[th.DateFormat],t)}function ek(e,t){return ok(sh(e)[th.TimeFormat],t)}function tk(e,t){return ok(sh(e)[th.DateTimeFormat],t)}function nk(e,t){const n=sh(e),r=n[th.NumberSymbols][t];if(void 0===r){if(t===Xx.CurrencyDecimal)return n[th.NumberSymbols][Xx.Decimal];if(t===Xx.CurrencyGroup)return n[th.NumberSymbols][Xx.Group]}return r}function rk(e,t){return sh(e)[th.NumberFormats][t]}Zx[Zx.Sunday]="Sunday",Zx[Zx.Monday]="Monday",Zx[Zx.Tuesday]="Tuesday",Zx[Zx.Wednesday]="Wednesday",Zx[Zx.Thursday]="Thursday",Zx[Zx.Friday]="Friday",Zx[Zx.Saturday]="Saturday";const ik=ih;function sk(e){if(!e[th.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[th.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ok(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function ak(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function lk(e,t,n="en"){const r=function(e){return sh(e)[th.Currencies]}(n)[e]||qx[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}const ck=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hk={},uk=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,dk={Short:0,ShortGMT:1,Long:2,Extended:3};dk[dk.Short]="Short",dk[dk.ShortGMT]="ShortGMT",dk[dk.Long]="Long",dk[dk.Extended]="Extended";const pk={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};pk[pk.FullYear]="FullYear",pk[pk.Month]="Month",pk[pk.Date]="Date",pk[pk.Hours]="Hours",pk[pk.Minutes]="Minutes",pk[pk.Seconds]="Seconds",pk[pk.FractionalSeconds]="FractionalSeconds",pk[pk.Day]="Day";const mk={DayPeriods:0,Days:1,Months:2,Eras:3};function fk(e,t,n,r){let i=function(e){if(xk(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(ck))return Sk(n)}const t=new Date(e);if(!xk(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return sh(e)[th.LocaleId]}(t);if(hk[r]=hk[r]||{},hk[r][n])return hk[r][n];let i="";switch(n){case"shortDate":i=Jx(t,Yx.Short);break;case"mediumDate":i=Jx(t,Yx.Medium);break;case"longDate":i=Jx(t,Yx.Long);break;case"fullDate":i=Jx(t,Yx.Full);break;case"shortTime":i=ek(t,Yx.Short);break;case"mediumTime":i=ek(t,Yx.Medium);break;case"longTime":i=ek(t,Yx.Long);break;case"fullTime":i=ek(t,Yx.Full);break;case"short":const n=e(t,"shortTime"),r=e(t,"shortDate");i=gk(tk(t,Yx.Short),[n,r]);break;case"medium":const s=e(t,"mediumTime"),o=e(t,"mediumDate");i=gk(tk(t,Yx.Medium),[s,o]);break;case"long":const a=e(t,"longTime"),l=e(t,"longDate");i=gk(tk(t,Yx.Long),[a,l]);break;case"full":const c=e(t,"fullTime"),h=e(t,"fullDate");i=gk(tk(t,Yx.Full),[c,h])}i&&(hk[r][n]=i);return i}(n,t)||t;let s,o=[];for(;t;){if(s=uk.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));const e=o.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=Ek(r,a),i=function(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset(),s=Ek(t,i);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(s-i))}(i,r,!0));let l="";return o.forEach(e=>{const t=function(e){if(Ck[e])return Ck[e];let t;switch(e){case"G":case"GG":case"GGG":t=_k(mk.Eras,Kx.Abbreviated);break;case"GGGG":t=_k(mk.Eras,Kx.Wide);break;case"GGGGG":t=_k(mk.Eras,Kx.Narrow);break;case"y":t=vk(pk.FullYear,1,0,!1,!0);break;case"yy":t=vk(pk.FullYear,2,0,!0,!0);break;case"yyy":t=vk(pk.FullYear,3,0,!1,!0);break;case"yyyy":t=vk(pk.FullYear,4,0,!1,!0);break;case"M":case"L":t=vk(pk.Month,1,1);break;case"MM":case"LL":t=vk(pk.Month,2,1);break;case"MMM":t=_k(mk.Months,Kx.Abbreviated);break;case"MMMM":t=_k(mk.Months,Kx.Wide);break;case"MMMMM":t=_k(mk.Months,Kx.Narrow);break;case"LLL":t=_k(mk.Months,Kx.Abbreviated,Qx.Standalone);break;case"LLLL":t=_k(mk.Months,Kx.Wide,Qx.Standalone);break;case"LLLLL":t=_k(mk.Months,Kx.Narrow,Qx.Standalone);break;case"w":t=wk(1);break;case"ww":t=wk(2);break;case"W":t=wk(1,!0);break;case"d":t=vk(pk.Date,1);break;case"dd":t=vk(pk.Date,2);break;case"E":case"EE":case"EEE":t=_k(mk.Days,Kx.Abbreviated);break;case"EEEE":t=_k(mk.Days,Kx.Wide);break;case"EEEEE":t=_k(mk.Days,Kx.Narrow);break;case"EEEEEE":t=_k(mk.Days,Kx.Short);break;case"a":case"aa":case"aaa":t=_k(mk.DayPeriods,Kx.Abbreviated);break;case"aaaa":t=_k(mk.DayPeriods,Kx.Wide);break;case"aaaaa":t=_k(mk.DayPeriods,Kx.Narrow);break;case"b":case"bb":case"bbb":t=_k(mk.DayPeriods,Kx.Abbreviated,Qx.Standalone,!0);break;case"bbbb":t=_k(mk.DayPeriods,Kx.Wide,Qx.Standalone,!0);break;case"bbbbb":t=_k(mk.DayPeriods,Kx.Narrow,Qx.Standalone,!0);break;case"B":case"BB":case"BBB":t=_k(mk.DayPeriods,Kx.Abbreviated,Qx.Format,!0);break;case"BBBB":t=_k(mk.DayPeriods,Kx.Wide,Qx.Format,!0);break;case"BBBBB":t=_k(mk.DayPeriods,Kx.Narrow,Qx.Format,!0);break;case"h":t=vk(pk.Hours,1,-12);break;case"hh":t=vk(pk.Hours,2,-12);break;case"H":t=vk(pk.Hours,1);break;case"HH":t=vk(pk.Hours,2);break;case"m":t=vk(pk.Minutes,1);break;case"mm":t=vk(pk.Minutes,2);break;case"s":t=vk(pk.Seconds,1);break;case"ss":t=vk(pk.Seconds,2);break;case"S":t=vk(pk.FractionalSeconds,1);break;case"SS":t=vk(pk.FractionalSeconds,2);break;case"SSS":t=vk(pk.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=bk(dk.Short);break;case"ZZZZZ":t=bk(dk.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=bk(dk.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=bk(dk.Long);break;default:return null}return Ck[e]=t,t}(e);l+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gk(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function yk(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function vk(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function(e,t){switch(e){case pk.FullYear:return t.getFullYear();case pk.Month:return t.getMonth();case pk.Date:return t.getDate();case pk.Hours:return t.getHours();case pk.Minutes:return t.getMinutes();case pk.Seconds:return t.getSeconds();case pk.FractionalSeconds:return t.getMilliseconds();case pk.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===pk.Hours)0===a&&-12===n&&(a=12);else if(e===pk.FractionalSeconds)return l=t,yk(a,3).substr(0,l);var l;const c=nk(o,Xx.MinusSign);return yk(a,t,c,r,i)}}function _k(e,t,n=Qx.Format,r=!1){return function(i,s){return function(e,t,n,r,i,s){switch(n){case mk.Months:return function(e,t,n){const r=sh(e),i=ok([r[th.MonthsFormat],r[th.MonthsStandalone]],t);return ok(i,n)}(t,i,r)[e.getMonth()];case mk.Days:return function(e,t,n){const r=sh(e),i=ok([r[th.DaysFormat],r[th.DaysStandalone]],t);return ok(i,n)}(t,i,r)[e.getDay()];case mk.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const e=function(e){const t=sh(e);return sk(t),(t[th.ExtraData][2]||[]).map(e=>"string"==typeof e?ak(e):[ak(e[0]),ak(e[1])])}(t),n=function(e,t,n){const r=sh(e);sk(r);const i=ok([r[th.ExtraData][0],r[th.ExtraData][1]],t)||[];return ok(i,n)||[]}(t,i,r);let s;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:i}=e[0],{hours:l,minutes:c}=e[1];o>=r&&a>=i&&(o<l||o===l&&a<c)&&(s=n[t])}else{const{hours:r,minutes:i}=e;r===o&&i===a&&(s=n[t])}}),s)return s}return function(e,t,n){const r=sh(e),i=ok([r[th.DayPeriodsFormat],r[th.DayPeriodsStandalone]],t);return ok(i,n)}(t,i,r)[o<12?0:1];case mk.Eras:return function(e,t){return ok(sh(e)[th.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,e,t,n,r)}}function bk(e){return function(t,n,r){const i=-1*r,s=nk(n,Xx.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case dk.Short:return(i>=0?"+":"")+yk(o,2,s)+yk(Math.abs(i%60),2,s);case dk.ShortGMT:return"GMT"+(i>=0?"+":"")+yk(o,1,s);case dk.Long:return"GMT"+(i>=0?"+":"")+yk(o,2,s)+":"+yk(Math.abs(i%60),2,s);case dk.Extended:return 0===r?"Z":(i>=0?"+":"")+yk(o,2,s)+":"+yk(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}mk[mk.DayPeriods]="DayPeriods",mk[mk.Days]="Days",mk[mk.Months]="Months",mk[mk.Eras]="Eras";function wk(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-e.getTime();i=1+Math.round(t/6048e5)}var s;return yk(i,e,nk(r,Xx.MinusSign))}}const Ck={};function Ek(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Sk(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,c),t}function xk(e){return e instanceof Date&&!isNaN(e.valueOf())}const kk=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Tk(e,t,n,r,i,s,o=!1){let a="",l=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;(n=o.indexOf("."))>-1&&(o=o.replace(".",""));(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length);for(r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}n>22&&(t=t.splice(0,21),a=n-1,n=1);return{digits:t,exponent:a,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2);return e}(c));let h=t.minInt,u=t.minFrac,d=t.maxFrac;if(s){const e=s.match(kk);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(h=Ik(t)),null!=n&&(u=Ik(n)),null!=r?d=Ik(r):null!=n&&u>d&&(d=u)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=t+e.integerLen,h=r.reduceRight((function(e,t,n,r){return t+=e,r[n]=t<10?t:t-10,l&&(0===r[n]&&n>=c?r.pop():l=!1),t>=10?1:0}),0);h&&(r.unshift(h),e.integerLen++)}(c,u,d);let p=c.digits,m=c.integerLen;const f=c.exponent;let g=[];for(l=p.every(e=>!e);m<h;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?g=p.splice(m,p.length):(g=p,p=[0]);const y=[];for(p.length>=t.lgSize&&y.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)y.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(nk(n,r)),g.length&&(a+=nk(n,i)+g.join("")),f&&(a+=nk(n,Xx.Exponential)+"+"+f)}else a=nk(n,Xx.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Ok(e,t,n,r,i){const s=Ak(rk(t,Wx.Currency),nk(t,Xx.MinusSign));return s.minFrac=function(e){let t;const n=qx[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),s.maxFrac=s.minFrac,Tk(e,s,t,Xx.CurrencyGroup,Xx.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","")}function Ak(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const e=l.charAt(h);"0"===e?n.minFrac=n.maxFrac=h+1:"#"===e?n.maxFrac=h+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf("#");n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Ik(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const Dk=new Be("UseV4Plurals");class Pk{}function Nk(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}class Rk extends Pk{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):ik(t||this.locale)(e)){case Gx.Zero:return"zero";case Gx.One:return"one";case Gx.Two:return"two";case Gx.Few:return"few";case Gx.Many:return"many";default:return"other"}}}Rk.decorators=[{type:oo}],Rk.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[Dk]}]}];function Mk(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class Fk{constructor(e,t){this._name=e,this._options=t,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(e){if(Array.isArray(e))this._lastSetValueType=4;else if(e instanceof Set)this._lastSetValueType=8;else if(e&&"string"==typeof e){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=e?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=e||null}hasValueChanged(){let e=this._lastSetValueIdentityChange;if(!(e||14&this._lastSetValueType))return!1;let t=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const s=this._lastSetValue.split(/\s+/g);16&this._options?(t={},s.forEach((e,n)=>t[e]=!0)):t=s.reduce((e,t,n)=>e+(n?" ":"")+t);break;case 2:const o=this._lastSetValue,a=Object.keys(o);e||(e=!this.value||function(e,t,n){const r=Object.keys(t),i=e;if(!Vk(r,i))return!0;for(let s=0;s<i.length;s++){const e=i[s];if(t[e]!==n[e])return!0}return!1}(a,this.value,o)),e&&(t=Lk(this._name,n,r,i,o,a));break;case 4:case 8:const l=Array.from(this._lastSetValue);if(!e){e=!Vk(Object.keys(this.value),l)}e&&(t=Lk(this._name,n,r,i,l));break;default:t=null}return e&&(this.value=t),e}}function Lk(e,t,n,r,i,s){const o={};if(s)for(let a=0;a<s.length;a++){let e=s[a];e=t?e.trim():e,$k(o,e,i[e],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];jk(e,n),n=t?n.trim():n,$k(o,n,!0,!1,r)}return o}function jk(e,t){if("string"!=typeof t)throw new Error(`${e} can only toggle CSS classes expressed as strings, got ${t}`)}function $k(e,t,n,r,i){if(i&&t.indexOf(" ")>0){const i=t.split(/\s+/g);for(let t=0;t<i.length;t++)Bk(e,i[t],n,r)}else Bk(e,t,n,r)}function Bk(e,t,n,r){if(r){const e=function(e,t){const n=e.indexOf(".");if(n>0){const r=e.substr(n+1);e=e.substring(0,n),null!=t&&(t+=r)}return{key:e,value:t}}(t,n);n=e.value,t=e.key}e[t]=n}function Vk(e,t){if(e&&t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1===t.indexOf(e[n]))return!1;return!0}return!1}class Uk{}class zk{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ie(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}zk.decorators=[{type:oo}],zk.ctorParameters=()=>[{type:qa},{type:Wa},{type:ka},{type:Da}];class Hk{constructor(){this._value=null,this._ngClassDiffer=new Fk("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(e){(e||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new Fk("class",20),this._classStringDiffer.setValue(e))}setNgClass(e){this._ngClassDiffer.setValue(e)}applyChanges(){const e=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),t=this._ngClassDiffer.hasValueChanged();if(e||t){let e=this._ngClassDiffer.value;if(this._classStringDiffer){let t=this._classStringDiffer.value;t&&(e=e?Object.assign({},t,e):t)}this._value=e}}}Hk.decorators=[{type:oo}];const qk={provide:Uk,useClass:zk};Et({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&(qo(1),Jo()),2&e&&(ta(t.getValue()),sa())}});class Wk{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}Wk.ngDirectiveDef=void 0;class Gk extends Wk{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}Gk.decorators=[{type:dh,args:[{selector:"[ngClass]",providers:[qk]}]}],Gk.ctorParameters=()=>[{type:Uk}],Gk.propDecorators={klass:[{type:fh,args:["class"]}],ngClass:[{type:fh,args:["ngClass"]}]};class Qk{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(rt);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(Ca)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}Qk.decorators=[{type:dh,args:[{selector:"[ngComponentOutlet]"}]}],Qk.ctorParameters=()=>[{type:Ja}],Qk.propDecorators={ngComponentOutlet:[{type:fh}],ngComponentOutletInjector:[{type:fh}],ngComponentOutletContent:[{type:fh}],ngComponentOutletNgModuleFactory:[{type:fh}]};class Kk{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Yk{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Hr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Kk(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Xk(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Xk(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}Yk.decorators=[{type:dh,args:[{selector:"[ngFor][ngForOf]"}]}],Yk.ctorParameters=()=>[{type:Ja},{type:Xa},{type:qa}],Yk.propDecorators={ngForOf:[{type:fh}],ngForTrackBy:[{type:fh}],ngForTemplate:[{type:fh}]};class Xk{constructor(e,t){this.record=e,this.view=t}}class Zk{constructor(e,t){this._viewContainer=e,this._context=new Jk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){eT("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){eT("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}Zk.decorators=[{type:dh,args:[{selector:"[ngIf]"}]}],Zk.ctorParameters=()=>[{type:Ja},{type:Xa}],Zk.propDecorators={ngIf:[{type:fh}],ngIfThen:[{type:fh}],ngIfElse:[{type:fh}]};class Jk{constructor(){this.$implicit=null,this.ngIf=null}}function eT(e,t){if(!!(t&&!t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ie(t)}'.`)}class tT{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class nT{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}}}nT.decorators=[{type:dh,args:[{selector:"[ngSwitch]"}]}],nT.propDecorators={ngSwitch:[{type:fh}]};class rT{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new tT(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}rT.decorators=[{type:dh,args:[{selector:"[ngSwitchCase]"}]}],rT.ctorParameters=()=>[{type:Ja},{type:Xa},{type:nT,decorators:[{type:we}]}],rT.propDecorators={ngSwitchCase:[{type:fh}]};class iT{constructor(e,t,n){n._addDefault(new tT(e,t))}}iT.decorators=[{type:dh,args:[{selector:"[ngSwitchDefault]"}]}],iT.ctorParameters=()=>[{type:Ja},{type:Xa},{type:nT,decorators:[{type:we}]}];class sT{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Nk(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}sT.decorators=[{type:dh,args:[{selector:"[ngPlural]"}]}],sT.ctorParameters=()=>[{type:Pk}],sT.propDecorators={ngPlural:[{type:fh}]};class oT{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new tT(n,t))}}oT.decorators=[{type:dh,args:[{selector:"[ngPluralCase]"}]}],oT.ctorParameters=()=>[{type:String,decorators:[{type:Ce,args:["ngPluralCase"]}]},{type:Xa},{type:Ja},{type:sT,decorators:[{type:we}]}];class aT{}class lT{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}lT.decorators=[{type:oo}],lT.ctorParameters=()=>[{type:ka},{type:Wa},{type:Da}];class cT{constructor(){this._differ=new Fk("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(e){this._differ.setValue(e)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}cT.decorators=[{type:oo}];const hT={provide:aT,useClass:lT};Et({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&Jo(),2&e&&(ea(t.getValue()),sa())}});class uT{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}uT.ngDirectiveDef=void 0;class dT extends uT{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}}dT.decorators=[{type:dh,args:[{selector:"[ngStyle]",providers:[hT]}]}],dT.ctorParameters=()=>[{type:aT}],dT.propDecorators={ngStyle:[{type:fh,args:["ngStyle"]}]};class pT{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}pT.decorators=[{type:dh,args:[{selector:"[ngTemplateOutlet]"}]}],pT.ctorParameters=()=>[{type:Ja}],pT.propDecorators={ngTemplateOutletContext:[{type:fh}],ngTemplateOutlet:[{type:fh}]};const mT=[Gk,Qk,Yk,Zk,pT,dT,nT,rT,iT,sT,oT];function fT(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Ie(e)}'`)}const gT=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,yT={yMMMdjms:OT(TT([xT("year",1),kT("month",3),xT("day",1),xT("hour",1),xT("minute",1),xT("second",1)])),yMdjm:OT(TT([xT("year",1),xT("month",1),xT("day",1),xT("hour",1),xT("minute",1)])),yMMMMEEEEd:OT(TT([xT("year",1),kT("month",4),kT("weekday",4),xT("day",1)])),yMMMMd:OT(TT([xT("year",1),kT("month",4),xT("day",1)])),yMMMd:OT(TT([xT("year",1),kT("month",3),xT("day",1)])),yMd:OT(TT([xT("year",1),xT("month",1),xT("day",1)])),jms:OT(TT([xT("hour",1),xT("second",1),xT("minute",1)])),jm:OT(TT([xT("hour",1),xT("minute",1)]))},vT={yyyy:OT(xT("year",4)),yy:OT(xT("year",2)),y:OT(xT("year",1)),MMMM:OT(kT("month",4)),MMM:OT(kT("month",3)),MM:OT(xT("month",2)),M:OT(xT("month",1)),LLLL:OT(kT("month",4)),L:OT(kT("month",1)),dd:OT(xT("day",2)),d:OT(xT("day",1)),HH:bT(wT(OT(ST(xT("hour",2),!1)))),H:wT(OT(ST(xT("hour",1),!1))),hh:bT(wT(OT(ST(xT("hour",2),!0)))),h:wT(OT(ST(xT("hour",1),!0))),jj:OT(xT("hour",2)),j:OT(xT("hour",1)),mm:bT(OT(xT("minute",2))),m:OT(xT("minute",1)),ss:bT(OT(xT("second",2))),s:OT(xT("second",1)),sss:OT(xT("second",3)),EEEE:OT(kT("weekday",4)),EEE:OT(kT("weekday",3)),EE:OT(kT("weekday",2)),E:OT(kT("weekday",1)),a:(_T=OT(ST(xT("hour",1),!0)),function(e,t){return _T(e,t).split(" ")[1]}),Z:ET("short"),z:ET("long"),ww:OT({}),w:OT({}),G:OT(kT("era",1)),GG:OT(kT("era",2)),GGG:OT(kT("era",3)),GGGG:OT(kT("era",4))};var _T;function bT(e){return function(t,n){const r=e(t,n);return 1==r.length?"0"+r:r}}function wT(e){return function(t,n){return e(t,n).split(" ")[0]}}function CT(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function ET(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const r=CT(e,n,t);return r?r.substring(3):""}}function ST(e,t){return e.hour12=t,e}function xT(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function kT(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function TT(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function OT(e){return(t,n)=>CT(t,n,e)}const AT=new Map;class IT{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),DT(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,r,i]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,r-1,i)}else n=new Date(e);else n=new Date(parseFloat(e));if(!DT(n)){let t;if("string"!=typeof e||!(t=e.match(ck)))throw fT(IT,e);n=Sk(t)}return class{static format(e,t,n){return function(e,t,n){const r=yT[e];if(r)return r(t,n);const i=e;let s=AT.get(i);if(!s){let t;s=[],gT.exec(e);let n=e;for(;n;)t=gT.exec(n),t?(s=s.concat(t.slice(1)),n=s.pop()):(s.push(n),n=null);AT.set(i,s)}return s.reduce((e,r)=>{const i=vT[r];return e+(i?i(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,e,t)}}.format(n,this._locale,IT._ALIASES[t]||t)}}function DT(e){return e instanceof Date&&!isNaN(e.valueOf())}function PT(e,t,n,r,i,s=null,o=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw fT(e,n);let a,l,c;if(r!==Wx.Currency&&(a=1,l=0,c=3),i){const e=i.match(kk);if(null===e)throw new Error(`${i} is not a valid digit info for number pipes`);null!=e[1]&&(a=Ik(e[1])),null!=e[3]&&(l=Ik(e[3])),null!=e[5]&&(c=Ik(e[5]))}return class{static format(e,t,n,r={}){const{minimumIntegerDigits:i,minimumFractionDigits:s,maximumFractionDigits:o,currency:a,currencyAsSymbol:l=!1}=r,c={minimumIntegerDigits:i,minimumFractionDigits:s,maximumFractionDigits:o,style:Wx[n].toLowerCase()};return n==Wx.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(t,c).format(e)}}.format(n,t,r,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:c,currency:s,currencyAsSymbol:o})}IT._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},IT.decorators=[{type:mh,args:[{name:"date",pure:!0}]}],IT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];class NT{constructor(e){this._locale=e}transform(e,t){return PT(NT,this._locale,e,Wx.Decimal,t)}}NT.decorators=[{type:mh,args:[{name:"number"}]}],NT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];class RT{constructor(e){this._locale=e}transform(e,t){return PT(RT,this._locale,e,Wx.Percent,t)}}RT.decorators=[{type:mh,args:[{name:"percent"}]}],RT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];class MT{constructor(e){this._locale=e}transform(e,t="USD",n=!1,r){return PT(MT,this._locale,e,Wx.Currency,r,t,n)}}MT.decorators=[{type:mh,args:[{name:"currency"}]}],MT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];const FT=[NT,RT,MT,IT];const LT=new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},jT=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class $T{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Qo(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Yo.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(ua(e))return LT;if(da(e))return jT;throw fT($T,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}$T.decorators=[{type:oo},{type:mh,args:[{name:"async",pure:!1}]}],$T.ctorParameters=()=>[{type:qs}];class BT{transform(e){if(!e)return e;if("string"!=typeof e)throw fT(BT,e);return e.toLowerCase()}}BT.decorators=[{type:oo},{type:mh,args:[{name:"lowercase"}]}];const VT=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class UT{transform(e){if(!e)return e;if("string"!=typeof e)throw fT(UT,e);return e.replace(VT,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}UT.decorators=[{type:oo},{type:mh,args:[{name:"titlecase"}]}];class zT{transform(e){if(!e)return e;if("string"!=typeof e)throw fT(zT,e);return e.toUpperCase()}}zT.decorators=[{type:oo},{type:mh,args:[{name:"uppercase"}]}];class HT{constructor(e){this.locale=e}transform(e,t="mediumDate",n,r){if(null==e||""===e||e!=e)return null;try{return fk(e,t,r||this.locale,n)}catch(i){throw fT(HT,i.message)}}}HT.decorators=[{type:oo},{type:mh,args:[{name:"date",pure:!0}]}],HT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];const qT=/#/g;class WT{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw fT(WT,t);return t[Nk(e,Object.keys(t),this._localization,n)].replace(qT,e.toString())}}WT.decorators=[{type:oo},{type:mh,args:[{name:"i18nPlural",pure:!0}]}],WT.ctorParameters=()=>[{type:Pk}];class GT{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw fT(GT,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}GT.decorators=[{type:oo},{type:mh,args:[{name:"i18nSelect",pure:!0}]}];class QT{transform(e){return JSON.stringify(e,null,2)}}QT.decorators=[{type:oo},{type:mh,args:[{name:"json",pure:!1}]}];class KT{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=YT){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{var t,n;this.keyValues.push((t=e.key,n=e.currentValue,{key:t,value:n}))}),this.keyValues.sort(t)),this.keyValues}}function YT(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}KT.decorators=[{type:oo},{type:mh,args:[{name:"keyvalue",pure:!1}]}],KT.ctorParameters=()=>[{type:Wa}];class XT{constructor(e){this._locale=e}transform(e,t,n){if(eO(e))return null;n=n||this._locale;try{return function(e,t,n){return Tk(e,Ak(rk(t,Wx.Decimal),nk(t,Xx.MinusSign)),t,Xx.Group,Xx.Decimal,n)}(tO(e),n,t)}catch(r){throw fT(XT,r.message)}}}XT.decorators=[{type:oo},{type:mh,args:[{name:"number"}]}],XT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];class ZT{constructor(e){this._locale=e}transform(e,t,n){if(eO(e))return null;n=n||this._locale;try{return function(e,t,n){return Tk(e,Ak(rk(t,Wx.Percent),nk(t,Xx.MinusSign)),t,Xx.Group,Xx.Decimal,n,!0).replace(new RegExp("%","g"),nk(t,Xx.PercentSign))}(tO(e),n,t)}catch(r){throw fT(ZT,r.message)}}}ZT.decorators=[{type:oo},{type:mh,args:[{name:"percent"}]}],ZT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];class JT{constructor(e){this._locale=e}transform(e,t,n="symbol",r,i){if(eO(e))return null;i=i||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=t||"USD";"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?lk(s,"symbol"===n?"wide":"narrow",i):n);try{return Ok(tO(e),i,s,t,r)}catch(o){throw fT(JT,o.message)}}}function eO(e){return null==e||""===e||e!=e}function tO(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}JT.decorators=[{type:oo},{type:mh,args:[{name:"currency"}]}],JT.ctorParameters=()=>[{type:String,decorators:[{type:ye,args:[Rh]}]}];class nO{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw fT(nO,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}nO.decorators=[{type:oo},{type:mh,args:[{name:"slice",pure:!1}]}];const rO=[$T,zT,BT,QT,nO,XT,ZT,UT,JT,HT,WT,GT,KT];class iO{}iO.decorators=[{type:Ch,args:[{declarations:[mT,rO],exports:[mT,rO],providers:[{provide:Pk,useClass:Rk}]}]}];const sO=function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),s=r.length,o=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Gx.One:Gx.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Gx.One:Gx.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?Gx.One:Gx.Other;case"ar":return 0===n?Gx.Zero:1===n?Gx.One:2===n?Gx.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Gx.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Gx.Many:Gx.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===s?Gx.One:Gx.Other;case"be":return n%10==1&&n%100!=11?Gx.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Gx.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Gx.Many:Gx.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Gx.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Gx.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Gx.Few:0!==n&&n%1e6==0?Gx.Many:Gx.Other;case"bs":case"hr":case"sr":return 0===s&&i%10==1&&i%100!=11||o%10==1&&o%100!=11?Gx.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?Gx.Few:Gx.Other;case"cs":case"sk":return 1===i&&0===s?Gx.One:i===Math.floor(i)&&i>=2&&i<=4&&0===s?Gx.Few:0!==s?Gx.Many:Gx.Other;case"cy":return 0===n?Gx.Zero:1===n?Gx.One:2===n?Gx.Two:3===n?Gx.Few:6===n?Gx.Many:Gx.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?Gx.One:Gx.Other;case"dsb":case"hsb":return 0===s&&i%100==1||o%100==1?Gx.One:0===s&&i%100==2||o%100==2?Gx.Two:0===s&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?Gx.Few:Gx.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?Gx.One:Gx.Other;case"fil":return 0===s&&(1===i||2===i||3===i)||0===s&&i%10!=4&&i%10!=6&&i%10!=9||0!==s&&o%10!=4&&o%10!=6&&o%10!=9?Gx.One:Gx.Other;case"ga":return 1===n?Gx.One:2===n?Gx.Two:n===Math.floor(n)&&n>=3&&n<=6?Gx.Few:n===Math.floor(n)&&n>=7&&n<=10?Gx.Many:Gx.Other;case"gd":return 1===n||11===n?Gx.One:2===n||12===n?Gx.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Gx.Few:Gx.Other;case"gv":return 0===s&&i%10==1?Gx.One:0===s&&i%10==2?Gx.Two:0!==s||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==s?Gx.Many:Gx.Other:Gx.Few;case"he":return 1===i&&0===s?Gx.One:2===i&&0===s?Gx.Two:0!==s||n>=0&&n<=10||n%10!=0?Gx.Other:Gx.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?Gx.One:Gx.Other;case"ksh":return 0===n?Gx.Zero:1===n?Gx.One:Gx.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Gx.One:2===n?Gx.Two:Gx.Other;case"lag":return 0===n?Gx.Zero:0!==i&&1!==i||0===n?Gx.Other:Gx.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Gx.Few:0!==o?Gx.Many:Gx.Other:Gx.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===s&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?Gx.Zero:n%10==1&&n%100!=11||2===s&&o%10==1&&o%100!=11||2!==s&&o%10==1?Gx.One:Gx.Other;case"mk":return 0===s&&i%10==1||o%10==1?Gx.One:Gx.Other;case"mt":return 1===n?Gx.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Gx.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Gx.Many:Gx.Other;case"pl":return 1===i&&0===s?Gx.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Gx.Few:0===s&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===s&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===s&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?Gx.Many:Gx.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Gx.One:Gx.Other;case"ro":return 1===i&&0===s?Gx.One:0!==s||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Gx.Few:Gx.Other;case"ru":case"uk":return 0===s&&i%10==1&&i%100!=11?Gx.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Gx.Few:0===s&&i%10==0||0===s&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===s&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?Gx.Many:Gx.Other;case"shi":return 0===i||1===n?Gx.One:n===Math.floor(n)&&n>=2&&n<=10?Gx.Few:Gx.Other;case"si":return 0===n||1===n||0===i&&1===o?Gx.One:Gx.Other;case"sl":return 0===s&&i%100==1?Gx.One:0===s&&i%100==2?Gx.Two:0===s&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==s?Gx.Few:Gx.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Gx.One:Gx.Other;default:return Gx.Other}};(class{}).decorators=[{type:Ch,args:[{declarations:[FT],exports:[FT],providers:[{provide:Dk,useValue:sO}]}]}];const oO=new Be("DocumentToken");function aO(e){return"server"===e}new Na("8.2.14");class lO{}lO.ngInjectableDef=xe({token:lO,providedIn:"root",factory:()=>new cO(Ye(oO),window,Ye(Vr))});class cO{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}let hO=null;function uO(){return hO}const dO={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},pO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fO=(()=>{if(je.Node)return je.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class gO extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new gO,hO||(hO=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return dO}contains(e,t){return fO.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&mO.hasOwnProperty(t)&&(t=mO[t]))}return pO[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=function(){if(!vO&&(vO=document.querySelector("base"),!vO))return null;return vO.getAttribute("href")}();return null==t?null:function(e){yO||(yO=document.createElement("a"));return yO.setAttribute("href",e),"/"===yO.pathname.charAt(0)?yO.pathname:"/"+yO.pathname}(t)}resetBaseElement(){vO=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Mk(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let yO,vO=null;function _O(){return!!window.history.pushState}class bO extends Lx{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=uO().getLocation(),this._history=uO().getHistory()}getBaseHrefFromDOM(){return uO().getBaseHref(this._doc)}onPopState(e){uO().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){uO().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){_O()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){_O()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}bO.decorators=[{type:oo}],bO.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}];const wO=new Be("TRANSITION_ID");const CO=[{provide:Sh,useFactory:function(e,t,n){return()=>{n.get(xh).donePromise.then(()=>{const n=uO();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[wO,oO,ho],multi:!0}];class EO{static init(){var e;e=new EO,hu=e}addToWindow(e){je.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements();je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(e=>{const t=je.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?uO().isShadowRoot(t)?this.findTestabilityInTree(e,uO().getHost(t),!0):this.findTestabilityInTree(e,uO().parentElement(t),!0):null}}function SO(e,t){if("undefined"==typeof COMPILED||!COMPILED){(je.ng=je.ng||{})[e]=t}}const xO={ApplicationRef:_u,NgZone:eu};function kO(e){return Iu(e)}const TO=[{provide:Sh,useFactory:function(e){return SO("probe",kO),SO("coreTokens",Object.assign({},xO,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>kO},deps:[[mu,new ve]],multi:!0}],OO=new Be("EventManagerPlugins");class AO{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}AO.decorators=[{type:oo}],AO.ctorParameters=()=>[{type:Array,decorators:[{type:ye,args:[OO]}]},{type:eu}];class IO{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=uO().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class DO{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}DO.decorators=[{type:oo}];class PO extends DO{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>uO().remove(e))}}PO.decorators=[{type:oo}],PO.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}];const NO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},RO=/%COMP%/g,MO="_nghost-%COMP%",FO="_ngcontent-%COMP%";function LO(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?LO(e,i,n):(i=i.replace(RO,e),n.push(i))}return n}function jO(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class $O{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new BO(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ht.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new zO(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case ht.Native:case ht.ShadowDom:return new HO(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=LO(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}$O.decorators=[{type:oo}],$O.ctorParameters=()=>[{type:AO},{type:PO},{type:String,decorators:[{type:ye,args:[kh]}]}];class BO{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(NO[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=NO[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=NO[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&Ia.DashCase?e.style.setProperty(t,n,r&Ia.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Ia.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){UO(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return UO(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jO(n)):this.eventManager.addEventListener(e,t,jO(n))}}const VO="@".charCodeAt(0);function UO(e,t){if(e.charCodeAt(0)===VO)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class zO extends BO{constructor(e,t,n,r){super(e),this.component=n;const i=LO(r+"-"+n.id,n.styles,[]);var s;t.addStyles(i),this.contentAttr=(s=r+"-"+n.id,FO.replace(RO,s)),this.hostAttr=function(e){return MO.replace(RO,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class HO extends BO{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,r.encapsulation===ht.ShadowDom?this.shadowRoot=n.attachShadow({mode:"open"}):this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=LO(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const qO="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},WO=qO("addEventListener"),GO=qO("removeEventListener"),QO={},KO="__zone_symbol__propagationStopped",YO=(()=>{const e="undefined"!=typeof Zone&&Zone[qO("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),XO=function(e){return!!YO&&YO.hasOwnProperty(e)};const ZO=function(e){const t=QO[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[KO];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class JO extends IO{constructor(e,t,n){super(e),this.ngZone=t,n&&aO(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[KO]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){const r=e[WO];let i=n;if(!r||eu.isInAngularZone()&&!XO(t))e.addEventListener(t,i,!1);else{let n=QO[t];n||(n=QO[t]=qO("ANGULAR"+t+"FALSE"));let r=e[n];const s=r&&r.length>0;r||(r=e[n]=[]);const o=XO(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:o,handler:i})}s||e[WO](t,ZO,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let r=e[GO];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let i=QO[t],s=i&&e[i];if(!s)return e.removeEventListener.apply(e,[t,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(e,[t,ZO,!1]):e.removeEventListener.apply(e,[t,n,!1])}}JO.decorators=[{type:oo}],JO.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:eu},{type:void 0,decorators:[{type:ve},{type:ye,args:[Ih]}]}];const eA={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tA=new Be("HammerGestureConfig"),nA=new Be("HammerLoader");class rA{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}rA.decorators=[{type:oo}];class iA extends IO{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!eA.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),s=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,s),()=>{i.off(t,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}iA.decorators=[{type:oo}],iA.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:rA,decorators:[{type:ye,args:[tA]}]},{type:Nh},{type:void 0,decorators:[{type:ve},{type:ye,args:[nA]}]}];const sA=["alt","control","meta","shift"],oA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class aA extends IO{constructor(e){super(e)}supports(e){return null!=aA.parseEventName(e)}addEventListener(e,t,n){const r=aA.parseEventName(t),i=aA.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uO().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=aA._normalizeKey(t.pop());let i="";if(sA.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(e){let t="",n=uO().getEventKey(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),sA.forEach(r=>{if(r!=n){(0,oA[r])(e)&&(t+=r+".")}}),t+=n,t}static eventCallback(e,t,n){return r=>{aA.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}aA.decorators=[{type:oo}],aA.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}];class lA{}class cA extends lA{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case vi.NONE:return t;case vi.HTML:return t instanceof uA?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),gi(this._doc,String(t)));case vi.STYLE:return t instanceof dA?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Ci(t));case vi.SCRIPT:if(t instanceof pA)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case vi.URL:return t instanceof fA||t instanceof mA?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Qr(String(t)));case vi.RESOURCE_URL:if(t instanceof fA)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof hA)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new uA(e)}bypassSecurityTrustStyle(e){return new dA(e)}bypassSecurityTrustScript(e){return new pA(e)}bypassSecurityTrustUrl(e){return new mA(e)}bypassSecurityTrustResourceUrl(e){return new fA(e)}}cA.decorators=[{type:oo}],cA.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}];class hA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class uA extends hA{getTypeName(){return"HTML"}}class dA extends hA{getTypeName(){return"Style"}}class pA extends hA{getTypeName(){return"Script"}}class mA extends hA{getTypeName(){return"URL"}}class fA extends hA{getTypeName(){return"ResourceURL"}}const gA=[{provide:Ih,useValue:"browser"},{provide:Ah,useValue:function(){gO.makeCurrent(),EO.init()},multi:!0},{provide:Lx,useClass:bO,deps:[oO]},{provide:oO,useFactory:function(){return document},deps:[]}],yA=[{provide:_i,useExisting:lA},{provide:lA,useClass:cA,deps:[oO]}];fu(Pu,"browser",gA);const vA=[yA,{provide:lo,useValue:!0},{provide:Vr,useFactory:function(){return new Vr},deps:[]},{provide:OO,useClass:JO,multi:!0,deps:[oO,eu,Ih]},{provide:OO,useClass:aA,multi:!0,deps:[oO]},{provide:OO,useClass:iA,multi:!0,deps:[oO,tA,Nh,[new ve,nA]]},{provide:tA,useClass:rA,deps:[]},{provide:$O,useClass:$O,deps:[AO,PO,kh]},{provide:Aa,useExisting:$O},{provide:DO,useExisting:PO},{provide:PO,useClass:PO,deps:[oO]},{provide:au,useClass:au,deps:[eu]},{provide:AO,useClass:AO,deps:[OO,eu]},TO];class _A{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:_A,providers:[{provide:kh,useValue:e.appId},{provide:wO,useExisting:kh},CO]}}}function bA(){return new wA(Ye(oO))}_A.decorators=[{type:Ch,args:[{providers:vA,exports:[iO,Ru]}]}],_A.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:be},{type:ye,args:[_A]}]}];class wA{constructor(e){this._doc=e,this._dom=uO()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._dom.querySelector(this._doc,`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}function CA(){return new EA(Ye(oO))}wA.decorators=[{type:oo,args:[{providedIn:"root",useFactory:bA,deps:[]}]}],wA.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],wA.ngInjectableDef=xe({factory:bA,token:wA,providedIn:"root"});class EA{constructor(e){this._doc=e}getTitle(){return uO().getTitle(this._doc)}setTitle(e){uO().setTitle(this._doc,e)}}EA.decorators=[{type:oo,args:[{providedIn:"root",useFactory:CA,deps:[]}]}],EA.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],EA.ngInjectableDef=xe({factory:CA,token:EA,providedIn:"root"});"undefined"!=typeof window&&window;class SA{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new SA;return t.store=e,t}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}SA.decorators=[{type:oo}];(class{}).decorators=[{type:Ch,args:[{providers:[{provide:SA,useFactory:function(e,t){const n=e.getElementById(t+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return SA.init(r)},deps:[oO,kh]}]}]}];new Na("8.2.14");const xA=function(){const e=new Map;return e.set(Jf.ANALYZE_FOR_ENTRY_COMPONENTS,Bo),e.set(Jf.ElementRef,ka),e.set(Jf.NgModuleRef,rt),e.set(Jf.ViewContainerRef,Ja),e.set(Jf.ChangeDetectorRef,qs),e.set(Jf.Renderer2,Da),e.set(Jf.QueryList,uh),e.set(Jf.TemplateRef,Xa),e.set(Jf.CodegenComponentFactoryResolver,Ea),e.set(Jf.ComponentFactoryResolver,Ca),e.set(Jf.ComponentFactory,_a),e.set(Jf.ComponentRef,va),e.set(Jf.NgModuleFactory,it),e.set(Jf.createModuleFactory,ap),e.set(Jf.moduleDef,ec),e.set(Jf.moduleProviderDef,Jl),e.set(Jf.RegisterModuleFactoryFn,ah),e.set(Jf.Injector,ho),e.set(Jf.ViewEncapsulation,ht),e.set(Jf.ChangeDetectionStrategy,lt),e.set(Jf.SecurityContext,vi),e.set(Jf.LOCALE_ID,Rh),e.set(Jf.TRANSLATIONS_FORMAT,Fh),e.set(Jf.inlineInterpolate,ql),e.set(Jf.interpolate,Hl),e.set(Jf.EMPTY_ARRAY,Gl),e.set(Jf.EMPTY_MAP,Ql),e.set(Jf.Renderer,Oa),e.set(Jf.viewDef,td),e.set(Jf.elementDef,Fu),e.set(Jf.anchorDef,Mu),e.set(Jf.textDef,Zu),e.set(Jf.directiveDef,Pc),e.set(Jf.providerDef,Rc),e.set(Jf.queryDef,Vu),e.set(Jf.pureArrayDef,Ku),e.set(Jf.pureObjectDef,Yu),e.set(Jf.purePipeDef,Qu),e.set(Jf.pipeDef,Nc),e.set(Jf.nodeValue,_c),e.set(Jf.ngContentDef,Wu),e.set(Jf.unwrapValue,fl),e.set(Jf.createRendererType2,gl),e.set(Jf.createComponentFactory,lc),e}();const kA=new Be("ErrorCollector"),TA={provide:Ph,useValue:"/"},OA={get(e){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${e}"`)}},AA=new Be("HtmlParser");const IA=[{provide:Dx,useValue:new class{constructor(){this.reflectionCapabilities=new eo}componentModuleUrl(e,t){const n=t.moduleId;if("string"==typeof n){return function(e){const t=Mx(e);return t&&t[Rx.Scheme]||""}(n)?n:`package:${n}`}if(null!=n)throw Rf(`moduleId should be a string in "${Ie(e)}". See https://goo.gl/wIDDiL for more information.\n`+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return`./${Ie(e)}`}parameters(e){return this.reflectionCapabilities.parameters(e)}tryAnnotations(e){return this.annotations(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}shallowAnnotations(e){throw new Error("Not supported in JIT mode")}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}guards(e){return this.reflectionCapabilities.guards(e)}resolveExternalReference(e){return xA.get(e)||e.runtime}}},{provide:RE,useValue:OA},{provide:_x,deps:[]},{provide:vx,useExisting:_x},{provide:Nh,deps:[]},{provide:cC,deps:[]},{provide:CC,deps:[cC]},{provide:AA,useClass:qb,deps:[]},{provide:OS,useFactory:(e,t,n,r,i)=>{const s=(t=t||"")?r.missingTranslation:Lh.Ignore;return new OS(e,t,n,s,i)},deps:[AA,[new ve,new ye(Mh)],[new ve,new ye(Fh)],[XE],[Nh]]},{provide:qb,useExisting:OS},{provide:qw,deps:[XE,Dx,CC,OC,OS,Nh]},{provide:$v,useClass:$v,deps:[]},{provide:JE,deps:[RE,Px,qb,XE]},{provide:jS,deps:[XE,qb,ZS,nS,ex,vx,OC,JE,Nh,[ve,rg],Dx,[ve,kA]]},TA,{provide:mb,deps:[Px]},{provide:nx,deps:[Dx]},{provide:XS,deps:[Dx]},{provide:XE,useValue:new XE},{provide:zh,useClass:class{constructor(e,t,n,r,i,s,o,a,l,c,h){this._metadataResolver=t,this._delegate=new Tx(t,n,r,i,s,o,a,l,c,h,this.getExtraNgModuleProviders.bind(this)),this.injector=e}getExtraNgModuleProviders(){return[this._metadataResolver.getProviderMetadata(new Cg(zh,{useValue:this}))]}compileModuleSync(e){return this._delegate.compileModuleSync(e)}compileModuleAsync(e){return this._delegate.compileModuleAsync(e)}compileModuleAndAllComponentsSync(e){const t=this._delegate.compileModuleAndAllComponentsSync(e);return{ngModuleFactory:t.ngModuleFactory,componentFactories:t.componentFactories}}compileModuleAndAllComponentsAsync(e){return this._delegate.compileModuleAndAllComponentsAsync(e).then(e=>({ngModuleFactory:e.ngModuleFactory,componentFactories:e.componentFactories}))}loadAotSummaries(e){this._delegate.loadAotSummaries(e)}hasAotSummary(e){return this._delegate.hasAotSummary(e)}getComponentFactory(e){return this._delegate.getComponentFactory(e)}clearCache(){this._delegate.clearCache()}clearCacheFor(e){this._delegate.clearCacheFor(e)}getModuleId(e){const t=this._metadataResolver.getNgModuleMetadata(e);return t&&t.id||void 0}},deps:[ho,jS,qw,mb,nx,XS,vx,Dx,$v,XE,Nh]},{provide:DC,deps:[]},{provide:OC,useExisting:DC},{provide:Px,deps:[Ph]},{provide:nS,deps:[Dx]},{provide:ex,deps:[Dx]},{provide:ZS,deps:[Dx]}];function DA(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function PA(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}const NA=fu(Pu,"coreDynamic",[{provide:Hh,useValue:{},multi:!0},{provide:qh,useClass:class{constructor(e){const t={useJit:!0,defaultEncapsulation:ht.Emulated,missingTranslation:Lh.Warning};this._defaultOptions=[t,...e]}createCompiler(e=[]){const t={useJit:DA((n=this._defaultOptions.concat(e)).map(e=>e.useJit)),defaultEncapsulation:DA(n.map(e=>e.defaultEncapsulation)),providers:PA(n.map(e=>e.providers)),missingTranslation:DA(n.map(e=>e.missingTranslation)),preserveWhitespaces:DA(n.map(e=>e.preserveWhitespaces))};var n;return ho.create([IA,{provide:XE,useFactory:()=>new XE({useJit:t.useJit,jitDevMode:Hr(),defaultEncapsulation:t.defaultEncapsulation,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces}),deps:[]},t.providers]).get(zh)}},deps:[Hh]}]);class RA extends RE{get(e){let t,n;const r=new Promise((e,r)=>{t=e,n=r}),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="text",i.onload=function(){const r=i.response||i.responseText;let s=1223===i.status?204:i.status;0===s&&(s=r?200:0),200<=s&&s<=300?t(r):n(`Failed to load ${e}`)},i.onerror=function(){n(`Failed to load ${e}`)},i.send(),r}}RA.decorators=[{type:oo}];const MA=[gA,{provide:Hh,useValue:{providers:[{provide:RE,useClass:RA,deps:[]}]},multi:!0},{provide:Ih,useValue:"browser"}];new Na("8.2.14");const FA=fu(NA,"browserDynamic",MA),LA=new E(e=>e.complete());function jA(e){return e?function(e){return new E(t=>e.schedule(()=>t.complete()))}(e):LA}function $A(e){const t=new E(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function BA(...e){let t=e[e.length-1];switch(D(t)?e.pop():t=void 0,e.length){case 0:return jA(t);case 1:return t?W(e,t):$A(e[0]);default:return W(e,t)}}class VA extends A{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(e){super.next(this._value=e)}}function UA(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}UA.prototype=Object.create(Error.prototype);const zA=UA,HA={};class qA{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new WA(e,this.resultSelector))}}class WA extends U{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(HA),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(V(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const s=this.values,o=s[n],a=this.toRespond?o===HA?--this.toRespond:this.toRespond:0;s[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function GA(e){return new E(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?G(n):jA()).subscribe(t)})}function QA(){return Z(1)}function KA(e,t){return function(n){return n.lift(new YA(e,t))}}class YA{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new XA(e,this.predicate,this.thisArg))}}class XA extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function ZA(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ZA.prototype=Object.create(Error.prototype);const JA=ZA;function eI(e){return function(t){return 0===e?jA():t.lift(new tI(e))}}class tI{constructor(e){if(this.total=e,this.total<0)throw new JA}call(e,t){return t.subscribe(new nI(e,this.total))}}class nI extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{t[r%n]=e}}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function rI(e,t,n){return function(r){return r.lift(new iI(e,t,n))}}class iI{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new sI(e,this.nextOrObserver,this.error,this.complete))}}class sI extends g{constructor(e,t,n,r){super(e),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=n||b,this._tapComplete=r||b,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||b,this._tapError=t.error||b,this._tapComplete=t.complete||b)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const oI=(e=aI)=>rI({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function aI(){return new zA}function lI(e=null){return t=>t.lift(new cI(e))}class cI{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new hI(e,this.defaultValue))}}class hI extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function uI(e,t){const n=arguments.length>=2;return r=>r.pipe(e?KA((t,n)=>e(t,n,r)):X,eI(1),n?lI(t):oI(()=>new zA))}function dI(e){return function(t){const n=new pI(e),r=t.lift(n);return n.caught=r}}class pI{constructor(e){this.selector=e}call(e,t){return t.subscribe(new mI(e,this.selector,this.caught))}}class mI extends U{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new P(this,void 0,void 0);this.add(r),V(this,n,void 0,void 0,r)}}}function fI(e){return t=>0===e?jA():t.lift(new gI(e))}class gI{constructor(e){if(this.total=e,this.total<0)throw new JA}call(e,t){return t.subscribe(new yI(e,this.total))}}class yI extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function vI(e,t){const n=arguments.length>=2;return r=>r.pipe(e?KA((t,n)=>e(t,n,r)):X,fI(1),n?lI(t):oI(()=>new zA))}class _I{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new bI(e,this.predicate,this.thisArg,this.source))}}class bI extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function wI(e,t){return"function"==typeof t?n=>n.pipe(wI((n,r)=>G(e(n,r)).pipe(z((e,i)=>t(n,e,r,i))))):t=>t.lift(new CI(e))}class CI{constructor(e){this.project=e}call(e,t){return t.subscribe(new EI(e,this.project))}}class EI extends U{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new P(this,void 0,void 0);this.destination.add(i),this.innerSubscription=V(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function SI(...e){return QA()(BA(...e))}function xI(...e){return t=>{let n=e[e.length-1];D(n)?e.pop():n=null;const r=e.length;return SI(1!==r||n?r>0?W(e,n):jA(n):$A(e[0]),t)}}function kI(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new TI(e,t,n))}}class TI{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new OI(e,this.accumulator,this.seed,this.hasSeed))}}class OI extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function AI(e,t){return Q(e,t,1)}function II(e){return t=>t.lift(new DI(e))}class DI{constructor(e){this.callback=e}call(e,t){return t.subscribe(new PI(e,this.callback))}}class PI extends g{constructor(e,t){super(e),this.add(new p(t))}}class NI{constructor(e,t){this.id=e,this.url=t}}class RI extends NI{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class MI extends NI{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FI extends NI{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LI extends NI{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jI extends NI{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $I extends NI{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BI extends NI{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class VI extends NI{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UI extends NI{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zI{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HI{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qI{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WI{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GI{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QI{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KI{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}class YI{}YI.decorators=[{type:ph,args:[{template:"<router-outlet></router-outlet>"}]}];class XI{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ZI(e){return new XI(e)}function JI(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function eD(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class tD{constructor(e,t){this.routes=e,this.module=t}}function nD(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];rD(r,iD(t,r))}}function rD(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){const n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. ${n}`)}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&nD(e.children,t)}function iD(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function sD(e){const t=e.children&&e.children.map(sD),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=YI),n}function oD(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],e[i]!==t[i])return!1;return!0}function aD(e){return Array.prototype.concat.apply([],e)}function lD(e){return e.length>0?e[e.length-1]:null}function cD(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function hD(e){return da(e)?e:ua(e)?G(Promise.resolve(e)):BA(e)}function uD(e,t,n){return n?function(e,t){return oD(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!gD(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&dD(e.root,t.root)}function dD(e,t){return function e(t,n,r){if(t.segments.length>r.length){return!!gD(t.segments.slice(0,r.length),r)&&!n.hasChildren()}if(t.segments.length===r.length){if(!gD(t.segments,r))return!1;for(const e in n.children){if(!t.children[e])return!1;if(!dD(t.children[e],n.children[e]))return!1}return!0}{const i=r.slice(0,t.segments.length),s=r.slice(t.segments.length);return!!gD(t.segments,i)&&(!!t.children.primary&&e(t.children.primary,n,s))}}(e,t,t.segments)}class pD{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ZI(this.queryParams)),this._queryParamMap}toString(){return bD.serialize(this)}}class mD{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cD(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wD(this)}}class fD{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ZI(this.parameters)),this._parameterMap}toString(){return TD(this)}}function gD(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function yD(e,t){let n=[];return cD(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),cD(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}class vD{}class _D{parse(e){const t=new PD(e);return new pD(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return wD(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",r=[];return cD(t.children,(t,n)=>{"primary"!==n&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=yD(t,(n,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(n,!1)}`]);return`${wD(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${ED(t)}=${ED(e)}`).join("&"):`${ED(t)}=${ED(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const bD=new _D;function wD(e){return e.segments.map(e=>TD(e)).join("/")}function CD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ED(e){return CD(e).replace(/%3B/gi,";")}function SD(e){return CD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xD(e){return decodeURIComponent(e)}function kD(e){return xD(e.replace(/\+/g,"%20"))}function TD(e){return`${SD(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${SD(e)}=${SD(t[e])}`).join("")}`;var t}const OD=/^[^\/()?;=#]+/;function AD(e){const t=e.match(OD);return t?t[0]:""}const ID=/^[^=?&#]+/;const DD=/^[^?&#]+/;class PD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mD([],{}):new mD([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new mD(e,t)),n}parseSegment(){const e=AD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new fD(xD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=AD(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=AD(this.remaining);e&&(n=e,this.capture(n))}e[xD(t)]=xD(n)}parseQueryParam(e){const t=function(e){const t=e.match(ID);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(DD);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=kD(t),i=kD(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=AD(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new mD([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ND{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=RD(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=RD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=MD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return MD(e,this._root).map(e=>e.value)}}function RD(e,t){if(e===t.value)return t;for(const n of t.children){const t=RD(e,n);if(t)return t}return null}function MD(e,t){if(e===t.value)return[t];for(const n of t.children){const r=MD(e,n);if(r.length)return r.unshift(t),r}return[]}class FD{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function LD(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class jD extends ND{constructor(e,t){super(e),this.snapshot=t,HD(this,e)}toString(){return this.snapshot.toString()}}function $D(e,t){const n=function(e,t){const n=new UD([],{},{},"",{},"primary",t,null,e.root,-1,{});return new zD("",new FD(n,[]))}(e,t),r=new VA([new fD("",{})]),i=new VA({}),s=new VA({}),o=new VA({}),a=new VA(""),l=new BD(r,i,o,a,s,"primary",t,n.root);return l.snapshot=n.root,new jD(new FD(l,[]),n)}class BD{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(z(e=>ZI(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z(e=>ZI(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VD(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class UD{constructor(e,t,n,r,i,s,o,a,l,c,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ZI(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ZI(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zD extends ND{constructor(e,t){super(t),this.url=e,HD(this,t)}toString(){return qD(this._root)}}function HD(e,t){t.value._routerState=e,t.children.forEach(t=>HD(e,t))}function qD(e){const t=e.children.length>0?` { ${e.children.map(qD).join(", ")} } `:"";return`${e.value}${t}`}function WD(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,oD(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),oD(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!oD(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),oD(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function GD(e,t){const n=oD(e.params,t.params)&&(r=e.url,i=t.url,gD(r,i)&&r.every((e,t)=>oD(e.parameters,i[t].parameters)));var r,i;const s=!e.parent!=!t.parent;return n&&!s&&(!e.parent||GD(e.parent,t.parent))}function QD(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(r.value.snapshot,t.value))return QD(e,t,r);return QD(e,t)})}(e,t,n);return new FD(r,i)}{const n=e.retrieve(t.value);if(n){const e=n.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(t,e),e}{const n=(r=t.value,new BD(new VA(r.url),new VA(r.params),new VA(r.queryParams),new VA(r.fragment),new VA(r.data),r.outlet,r.component,r)),i=t.children.map(t=>QD(e,t));return new FD(n,i)}}var r}function KD(e,t,n,r,i){if(0===n.length)return XD(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ZD(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return cD(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new ZD(n,t,r)}(n);if(s.toRoot())return XD(t.root,new mD([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new JD(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new JD(n.snapshot._urlSegment,!0,0);const r=YD(e.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new JD(r,!1,i-s)}(n.snapshot._urlSegment,i,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?nP(o.segmentGroup,o.index,s.commands):tP(o.segmentGroup,o.index,s.commands);return XD(o.segmentGroup,a,t,r,i)}function YD(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function XD(e,t,n,r,i){let s={};return r&&cD(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),n.root===e?new pD(t,s,i):new pD(function e(t,n,r){const i={};return cD(t.children,(t,s)=>{i[s]=t===n?r:e(t,n,r)}),new mD(t.segments,i)}(n.root,e,t),s,i)}class ZD{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&YD(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==lD(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JD{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function eP(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:`${e}`}function tP(e,t,n){if(e||(e=new mD([],{})),0===e.segments.length&&e.hasChildren())return nP(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=eP(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!oP(o,a,t))return s;r+=2}else{if(!oP(o,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new mD(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new mD(e.segments.slice(r.pathIndex),e.children),nP(t,0,i)}return r.match&&0===i.length?new mD(e.segments,{}):r.match&&!e.hasChildren()?rP(e,t,n):r.match?nP(e,0,i):rP(e,t,n)}function nP(e,t,n){if(0===n.length)return new mD(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return cD(r,(n,r)=>{null!==n&&(i[r]=tP(e.children[r],t,n))}),cD(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new mD(e.segments,i)}}function rP(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=iP(n[i].outlets);return new mD(r,e)}if(0===i&&YD(n[0])){const s=e.segments[t];r.push(new fD(s.path,n[0])),i++;continue}const s=eP(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&YD(o)?(r.push(new fD(s,sP(o))),i+=2):(r.push(new fD(s,{})),i++)}return new mD(r,{})}function iP(e){const t={};return cD(e,(e,n)=>{null!==e&&(t[n]=rP(new mD([],{}),0,e))}),t}function sP(e){const t={};return cD(e,(e,n)=>t[n]=`${e}`),t}function oP(e,t,n){return e==n.path&&oD(t,n.parameters)}class aP{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),WD(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=LD(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),cD(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=LD(e),i=e.value.component?n.children:t;cD(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=LD(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new QI(e.value.snapshot))}),e.children.length&&this.forwardEvent(new WI(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(WD(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),lP(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function lP(e){WD(e.value),e.children.forEach(lP)}function cP(e){return"function"==typeof e}function hP(e){return e instanceof pD}class uP{constructor(e){this.segmentGroup=e||null}}class dP{constructor(e){this.urlTree=e}}function pP(e){return new E(t=>t.error(new uP(e)))}function mP(e){return new E(t=>t.error(new dP(e)))}function fP(e){return new E(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class gP{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(rt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(z(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(dI(e=>{if(e instanceof dP)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof uP)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(z(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(dI(e=>{if(e instanceof uP)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new mD([],{primary:e}):e;return new pD(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(z(e=>new mD([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return BA({});const n=[],r=[],i={};return cD(e,(e,s)=>{const o=t(s,e).pipe(z(e=>i[s]=e));"primary"===s?n.push(o):r.push(o)}),BA.apply(null,n.concat(r)).pipe(QA(),uI(),z(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,s){return BA(...n).pipe(z(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(dI(e=>{if(e instanceof uP)return BA(null);throw e}))),QA(),vI(e=>!!e),dI((e,n)=>{if(e instanceof zA||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return BA(new mD([],{}));throw new uP(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return bP(r)!==s?pP(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):pP(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mP(i):this.lineralizeSegments(n,i).pipe(Q(n=>{const i=new mD(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=yP(t,r,i);if(!o)return pP(t);const h=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?mP(h):this.lineralizeSegments(r,h).pipe(Q(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(z(e=>(n._loadedConfig=e,new mD(r,{})))):BA(new mD(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=yP(t,n,r);if(!i)return pP(t);const a=r.slice(o);return this.getChildConfig(e,n,r).pipe(Q(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:o}=function(e,t,n,r){if(n.length>0&&function(e,t,n){return n.some(n=>_P(e,t,n)&&"primary"!==bP(n))}(e,n,r)){return{segmentGroup:vP(new mD(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&"primary"!==bP(r)&&(n[bP(r)]=new mD([],{}));return n}(r,new mD(n,e.children)))),slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>_P(e,t,n))}(e,n,r)){return{segmentGroup:vP(new mD(e.segments,function(e,t,n,r){const i={};for(const s of n)_P(e,t,s)&&!r[bP(s)]&&(i[bP(s)]=new mD([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}}return{segmentGroup:e,slicedSegments:n}}(t,s,a,r);if(0===o.length&&i.hasChildren()){return this.expandChildren(n,r,i).pipe(z(e=>new mD(s,e)))}return 0===r.length&&0===o.length?BA(new mD(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(z(e=>new mD(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?BA(new tD(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?BA(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?G(r).pipe(z(r=>{const i=e.get(r);let s;if(function(e){return e&&cP(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!cP(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return hD(s)})).pipe(QA(),function(e,t){return n=>n.lift(new _I(e,t,n))}(e=>!0===e)):BA(!0)}(e.injector,t,n).pipe(Q(n=>n?this.configLoader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,e))):function(e){return new E(t=>t.error(JI(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):BA(new tD([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return BA(n);if(r.numberOfChildren>1||!r.children.primary)return fP(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new pD(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return cD(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return cD(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new mD(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function yP(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||eD)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function vP(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new mD(e.segments.concat(t.segments),t.children)}return e}function _P(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function bP(e){return e.outlet||"primary"}function wP(e,t,n,r){return function(i){return i.pipe(wI(i=>function(e,t,n,r,i){return new gP(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(z(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}class CP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class EP{constructor(e,t){this.component=e,this.route=t}}function SP(e,t,n){const r=e._root;return kP(r,t?t._root:null,n,[r.value])}function xP(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function kP(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=LD(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!gD(e.url,t.url);case"pathParamsOrQueryParamsChange":return!gD(e.url,t.url)||!oD(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GD(e,t)||!oD(e.queryParams,t.queryParams);case"paramsChange":default:return!GD(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);if(l?i.canActivateChecks.push(new CP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?kP(e,t,a?a.children:null,r,i):kP(e,t,n,r,i),l){const e=a&&a.outlet&&a.outlet.component||null;i.canDeactivateChecks.push(new EP(e,o))}}else o&&TP(t,a,i),i.canActivateChecks.push(new CP(r)),s.component?kP(e,null,a?a.children:null,r,i):kP(e,null,n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),cD(s,(e,t)=>TP(e,n.getContext(t),i)),i}function TP(e,t,n){const r=LD(e),i=e.value;cD(r,(e,r)=>{i.component?TP(e,t?t.children.getContext(r):null,n):TP(e,t,n)}),i.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new EP(t.outlet.component,i)):n.canDeactivateChecks.push(new EP(null,i))}const OP=Symbol("INITIAL_VALUE");function AP(){return wI(e=>function(...e){let t=null,n=null;return D(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),W(e,n).lift(new qA(t))}(...e.map(e=>e.pipe(fI(1),xI(OP)))).pipe(kI((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==OP)return e;if(r===OP&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||hP(r))return r}return e},e)},OP),KA(e=>e!==OP),z(e=>hP(e)?e:!0===e),fI(1)))}function IP(e,t){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?BA(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return G(e).pipe(Q(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?BA(s.map(s=>{const o=xP(s,t,i);let a;if(function(e){return e&&cP(e.canDeactivate)}(o))a=hD(o.canDeactivate(e,t,n,r));else{if(!cP(o))throw new Error("Invalid CanDeactivate guard");a=hD(o(e,t,n,r))}return a.pipe(vI())})).pipe(AP()):BA(!0)}(e.component,e.route,n,t,r)),vI(e=>!0!==e,!0))}(o,r,i,e).pipe(Q(n=>n&&"boolean"==typeof n?function(e,t,n,r){return G(t).pipe(AI(t=>G([PP(t.route.parent,r),DP(t.route,r),RP(e,t.path,n),NP(e,t.route,n)]).pipe(QA(),vI(e=>!0!==e,!0))),vI(e=>!0!==e,!0))}(r,s,e,t):BA(n)),z(e=>Object.assign({},n,{guardsResult:e})))}))}}function DP(e,t){return null!==e&&t&&t(new GI(e)),BA(!0)}function PP(e,t){return null!==e&&t&&t(new qI(e)),BA(!0)}function NP(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?BA(r.map(r=>GA(()=>{const i=xP(r,t,n);let s;if(function(e){return e&&cP(e.canActivate)}(i))s=hD(i.canActivate(t,e));else{if(!cP(i))throw new Error("Invalid CanActivate guard");s=hD(i(t,e))}return s.pipe(vI())}))).pipe(AP()):BA(!0)}function RP(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>GA(()=>BA(t.guards.map(i=>{const s=xP(i,t.node,n);let o;if(function(e){return e&&cP(e.canActivateChild)}(s))o=hD(s.canActivateChild(r,e));else{if(!cP(s))throw new Error("Invalid CanActivateChild guard");o=hD(s(r,e))}return o.pipe(vI())})).pipe(AP())));return BA(i).pipe(AP())}class MP{}class FP{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=$P(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new UD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new FD(n,t),i=new zD(this.url,r);return this.inheritParamsAndData(i._root),BA(i)}catch(e){return new E(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=VD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=yD(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(i){if(!(i instanceof MP))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new MP}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new MP;if((e.outlet||"primary")!==r)throw new MP;let i,s=[],o=[];if("**"===e.path){const s=n.length>0?lD(n).parameters:{};i=new UD(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UP(e),r,e.component,e,LP(t),jP(t)+n.length,zP(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new MP;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||eD)(n,e,t);if(!r)throw new MP;const i={};cD(r.posParams,(e,t)=>{i[t]=e.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new UD(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UP(e),r,e.component,e,LP(t),jP(t)+s.length,zP(e))}const a=function(e){if(e.children)return e.children;if(e.loadChildren)return e._loadedConfig.routes;return[]}(e),{segmentGroup:l,slicedSegments:c}=$P(t,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new FD(i,e)]}if(0===a.length&&0===c.length)return[new FD(i,[])];const h=this.processSegment(a,l,c,"primary");return[new FD(i,h)]}}function LP(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function jP(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function $P(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>BP(e,t,n)&&"primary"!==VP(n))}(e,n,r)){const i=new mD(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&"primary"!==VP(s)){const n=new mD([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[VP(s)]=n}return i}(e,t,r,new mD(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>BP(e,t,n))}(e,n,r)){const s=new mD(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(BP(e,n,a)&&!i[VP(a)]){const n=new mD([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[VP(a)]=n}return Object.assign({},i,o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new mD(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function BP(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function VP(e){return e.outlet||"primary"}function UP(e){return e.data||{}}function zP(e){return e.resolve||{}}function HP(e,t,n,r,i){return function(s){return s.pipe(Q(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){return new FP(e,t,n,r,i,s).recognize()}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(z(e=>Object.assign({},s,{targetSnapshot:e})))))}}function qP(e,t){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?G(i).pipe(AI(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return BA({});if(1===i.length){const s=i[0];return WP(e[s],t,n,r).pipe(z(e=>({[s]:e})))}const s={};return G(i).pipe(Q(i=>WP(e[i],t,n,r).pipe(z(e=>(s[i]=e,e))))).pipe(uI(),z(()=>s))}(e._resolve,e,t,r).pipe(z(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,VD(e,n).resolve),null)))}(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return w(kI(e,t),eI(1),lI(t))(n)}:function(t){return w(kI((t,n,r)=>e(t,n,r+1)),eI(1))(t)}}((e,t)=>e),z(e=>n)):BA(n)}))}}function WP(e,t,n,r){const i=xP(e,t,r);return i.resolve?hD(i.resolve(t,n)):hD(i(t,n))}function GP(e){return function(t){return t.pipe(wI(t=>{const n=e(t);return n?G(n).pipe(z(()=>t)):G([t])}))}}class QP{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const KP=new Be("ROUTES");class YP{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(z(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new tD(aD(r.injector.get(KP)).map(sD),r)}))}loadModuleFactory(e){return"string"==typeof e?G(this.loader.load(e)):hD(e()).pipe(Q(e=>e instanceof it?BA(e):G(this.compiler.compileModuleAsync(e))))}}class XP{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ZP(e){throw e}function JP(e,t,n){return t.parse("/")}function eN(e,t){return BA(null)}class tN{constructor(e,t,n,r,i,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=ZP,this.malformedUriErrorHandler=JP,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:eN,afterPreactivation:eN},this.urlHandlingStrategy=new XP,this.routeReuseStrategy=new QP,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=i.get(rt),this.console=i.get(Nh);const l=i.get(eu);this.isNgZoneEnabled=l instanceof eu,this.resetConfig(a),this.currentUrlTree=new pD(new mD([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new YP(s,o,e=>this.triggerEvent(new zI(e)),e=>this.triggerEvent(new HI(e))),this.routerState=$D(this.currentUrlTree,this.rootComponentType),this.transitions=new VA({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(KA(e=>0!==e.id),z(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),wI(e=>{let n=!1,r=!1;return BA(e).pipe(rI(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),wI(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return BA(e).pipe(wI(e=>{const n=this.transitions.getValue();return t.next(new RI(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?LA:[e]}),wI(e=>Promise.resolve(e)),wP(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),rI(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),HP(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),rI(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),rI(e=>{const n=new jI(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new RI(n,this.serializeUrl(r),i,s);t.next(a);const l=$D(r,this.rootComponentType).snapshot;return BA(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),LA}),GP(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),rI(e=>{const t=new $I(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),z(e=>Object.assign({},e,{guards:SP(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),IP(this.ngModule.injector,e=>this.triggerEvent(e)),rI(e=>{if(hP(e.guardsResult)){const t=JI(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),rI(e=>{const t=new BI(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),KA(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new FI(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),GP(e=>{if(e.guards.canActivateChecks.length)return BA(e).pipe(rI(e=>{const t=new VI(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),qP(this.paramsInheritanceStrategy,this.ngModule.injector),rI(e=>{const t=new UI(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),GP(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),z(e=>{const t=function(e,t,n){const r=QD(e,t._root,n?n._root:void 0);return new jD(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),rI(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),z(e=>(new aP(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),rI({next(){n=!0},complete(){n=!0}}),II(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new FI(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),dI(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=hP(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new FI(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new LI(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return LA}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){nD(e),this.config=e.map(sD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t;Hr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let h=null;if(o)switch(o){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),KD(l,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){Hr()&&this.isNgZoneEnabled&&!eu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=hP(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(hP(e))return uD(this.currentUrlTree,e,t);const n=this.parseUrl(e);return uD(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new MI(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((e,t)=>{s=e,o=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class nN{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Hr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:iN(this.skipLocationChange),replaceUrl:iN(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:iN(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:iN(this.preserveFragment)})}}nN.decorators=[{type:dh,args:[{selector:":not(a):not(area)[routerLink]"}]}],nN.ctorParameters=()=>[{type:tN},{type:BD},{type:String,decorators:[{type:Ce,args:["tabindex"]}]},{type:Da},{type:ka}],nN.propDecorators={queryParams:[{type:fh}],fragment:[{type:fh}],queryParamsHandling:[{type:fh}],preserveFragment:[{type:fh}],skipLocationChange:[{type:fh}],replaceUrl:[{type:fh}],state:[{type:fh}],routerLink:[{type:fh}],preserveQueryParams:[{type:fh}],onClick:[{type:vh,args:["click"]}]};class rN{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof MI&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Hr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:iN(this.skipLocationChange),replaceUrl:iN(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:iN(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:iN(this.preserveFragment)})}}function iN(e){return""===e||!!e}rN.decorators=[{type:dh,args:[{selector:"a[routerLink],area[routerLink]"}]}],rN.ctorParameters=()=>[{type:tN},{type:BD},{type:$x}],rN.propDecorators={target:[{type:yh,args:["attr.target"]},{type:fh}],queryParams:[{type:fh}],fragment:[{type:fh}],queryParamsHandling:[{type:fh}],preserveFragment:[{type:fh}],skipLocationChange:[{type:fh}],replaceUrl:[{type:fh}],state:[{type:fh}],href:[{type:yh}],routerLink:[{type:fh}],preserveQueryParams:[{type:fh}],onClick:[{type:vh,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class sN{constructor(e,t,n,r,i){this.router=e,this.element=t,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof MI&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}sN.decorators=[{type:dh,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],sN.ctorParameters=()=>[{type:tN},{type:ka},{type:Da},{type:nN,decorators:[{type:ve}]},{type:rN,decorators:[{type:ve}]}],sN.propDecorators={links:[{type:Uo,args:[nN,{descendants:!0}]}],linksWithHrefs:[{type:Uo,args:[rN,{descendants:!0}]}],routerLinkActiveOptions:[{type:fh}],routerLinkActive:[{type:fh}]};class oN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new aN,this.attachRef=null}}class aN{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new oN,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class lN{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ch,this.deactivateEvents=new ch,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=e._futureSnapshot.routeConfig.component,r=(t=t||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,s=new cN(e,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}lN.decorators=[{type:dh,args:[{selector:"router-outlet",exportAs:"outlet"}]}],lN.ctorParameters=()=>[{type:aN},{type:Ja},{type:Ca},{type:String,decorators:[{type:Ce,args:["name"]}]},{type:qs}],lN.propDecorators={activateEvents:[{type:gh,args:["activate"]}],deactivateEvents:[{type:gh,args:["deactivate"]}]};class cN{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===BD?this.route:e===aN?this.childContexts:this.parent.get(e,t)}}class hN{}class uN{preload(e,t){return BA(null)}}class dN{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i;this.loader=new YP(t,n,t=>e.triggerEvent(new zI(t)),t=>e.triggerEvent(new HI(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(KA(e=>e instanceof MI),AI(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(rt);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return G(n).pipe(Z(),z(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Q(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}dN.decorators=[{type:oo}],dN.ctorParameters=()=>[{type:tN},{type:wu},{type:zh},{type:ho},{type:hN}];class pN{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof RI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof MI&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof KI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new KI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const mN=[lN,nN,rN,sN,YI],fN=new Be("ROUTER_CONFIGURATION"),gN=new Be("ROUTER_FORROOT_GUARD"),yN=[Vx,{provide:vD,useClass:_D},{provide:tN,useFactory:function(e,t,n,r,i,s,o,a,l={},c,h){const u=new tN(null,t,n,r,i,s,o,aD(a));c&&(u.urlHandlingStrategy=c);h&&(u.routeReuseStrategy=h);l.errorHandler&&(u.errorHandler=l.errorHandler);l.malformedUriErrorHandler&&(u.malformedUriErrorHandler=l.malformedUriErrorHandler);if(l.enableTracing){const e=uO();u.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}l.onSameUrlNavigation&&(u.onSameUrlNavigation=l.onSameUrlNavigation);l.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=l.paramsInheritanceStrategy);l.urlUpdateStrategy&&(u.urlUpdateStrategy=l.urlUpdateStrategy);l.relativeLinkResolution&&(u.relativeLinkResolution=l.relativeLinkResolution);return u},deps:[_u,vD,aN,Vx,ho,wu,zh,KP,fN,[class{},new ve],[class{},new ve]]},aN,{provide:BD,useFactory:function(e){return e.routerState.root},deps:[tN]},{provide:wu,useClass:Su},dN,uN,class{preload(e,t){return t().pipe(dI(()=>BA(null)))}},{provide:fN,useValue:{enableTracing:!1}}];function vN(){return new mu("Router",tN)}class _N{constructor(e,t){}static forRoot(e,t){return{ngModule:_N,providers:[yN,EN(e),{provide:gN,useFactory:CN,deps:[[tN,new ve,new be]]},{provide:fN,useValue:t||{}},{provide:$x,useFactory:wN,deps:[Lx,[new ye(Bx),new ve],fN]},{provide:pN,useFactory:bN,deps:[tN,lO,fN]},{provide:hN,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:uN},{provide:mu,multi:!0,useFactory:vN},[SN,{provide:Sh,multi:!0,useFactory:xN,deps:[SN]},{provide:TN,useFactory:kN,deps:[SN]},{provide:Dh,multi:!0,useExisting:TN}]]}}static forChild(e){return{ngModule:_N,providers:[EN(e)]}}}function bN(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new pN(e,t,n)}function wN(e,t,n={}){return n.useHash?new zx(e,t):new Hx(e,t)}function CN(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function EN(e){return[{provide:Bo,multi:!0,useValue:e},{provide:KP,multi:!0,useValue:e}]}_N.decorators=[{type:Ch,args:[{declarations:mN,exports:mN,entryComponents:[YI]}]}],_N.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:ye,args:[gN]}]},{type:tN,decorators:[{type:ve}]}];class SN{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(jx,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(tN),r=this.injector.get(fN);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?BA(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(fN),n=this.injector.get(dN),r=this.injector.get(pN),i=this.injector.get(tN),s=this.injector.get(_u);e===s.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function xN(e){return e.appInitializer.bind(e)}function kN(e){return e.bootstrapListener.bind(e)}SN.decorators=[{type:oo}],SN.ctorParameters=()=>[{type:ho}];const TN=new Be("Router Initializer");new Na("8.2.14");class ON{}class AN{}class IN{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof IN?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new IN;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof IN?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class DN{encodeKey(e){return PN(e)}encodeValue(e){return PN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function PN(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class NN{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new DN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;if(e.length>0){e.split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)})}return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new NN({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function RN(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function MN(e){return"undefined"!=typeof Blob&&e instanceof Blob}function FN(e){return"undefined"!=typeof FormData&&e instanceof FormData}class LN{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new IN),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),r=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+r+e}}else this.params=new NN,this.urlWithParams=t}serializeBody(){return null===this.body?null:RN(this.body)||MN(this.body)||FN(this.body)||"string"==typeof this.body?this.body:this.body instanceof NN?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:FN(this.body)?null:MN(this.body)?this.body.type||null:RN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof NN?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new LN(t,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const jN={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};jN[jN.Sent]="Sent",jN[jN.UploadProgress]="UploadProgress",jN[jN.ResponseHeader]="ResponseHeader",jN[jN.DownloadProgress]="DownloadProgress",jN[jN.Response]="Response",jN[jN.User]="User";class $N{constructor(e,t=200,n="OK"){this.headers=e.headers||new IN,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BN extends $N{constructor(e={}){super(e),this.type=jN.ResponseHeader}clone(e={}){return new BN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VN extends $N{constructor(e={}){super(e),this.type=jN.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new VN({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class UN extends $N{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function zN(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class HN{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof LN)r=e;else{let i=void 0;i=n.headers instanceof IN?n.headers:new IN(n.headers);let s=void 0;n.params&&(s=n.params instanceof NN?n.params:new NN({fromObject:n.params})),r=new LN(e,t,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=BA(r).pipe(AI(e=>this.handler.handle(e)));if(e instanceof LN||"events"===n.observe)return i;const s=i.pipe(KA(e=>e instanceof VN));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(z(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(z(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(z(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(z(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new NN).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,zN(n,t))}post(e,t,n={}){return this.request("POST",e,zN(n,t))}put(e,t,n={}){return this.request("PUT",e,zN(n,t))}}HN.decorators=[{type:oo}],HN.ctorParameters=()=>[{type:ON}];class qN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const WN=new Be("HTTP_INTERCEPTORS");class GN{intercept(e,t){return t.handle(e)}}GN.decorators=[{type:oo}];let QN=0;class KN{}class YN{constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return`ng_jsonp_callback_${QN++}`}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");return new E(t=>{const n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let s=null,o=!1,a=!1;this.callbackMap[n]=e=>{delete this.callbackMap[n],a||(s=e,o=!0)};const l=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},c=e=>{a||(l(),o?(t.next(new VN({body:s,status:200,statusText:"OK",url:r})),t.complete()):t.error(new UN({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},h=e=>{a||(l(),t.error(new UN({error:e,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",c),i.addEventListener("error",h),this.document.body.appendChild(i),t.next({type:jN.Sent}),()=>{a=!0,i.removeEventListener("load",c),i.removeEventListener("error",h),l()}})}}YN.decorators=[{type:oo}],YN.ctorParameters=()=>[{type:KN},{type:void 0,decorators:[{type:ye,args:[oO]}]}];class XN{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}XN.decorators=[{type:oo}],XN.ctorParameters=()=>[{type:YN}];const ZN=/^\)\]\}',?\n/;class JN{}class eR{constructor(){}build(){return new XMLHttpRequest}}eR.decorators=[{type:oo}],eR.ctorParameters=()=>[];class tR{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new E(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new IN(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new BN({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(ZN,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=e,c&&(c=!1,l={error:h,text:l})}}c?(t.next(new VN({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new UN({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new UN({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:jN.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},h=e=>{let n={type:jN.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",h)),n.send(r),t.next({type:jN.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",h)),n.abort()}})}}tR.decorators=[{type:oo}],tR.ctorParameters=()=>[{type:JN}];const nR=new Be("XSRF_COOKIE_NAME"),rR=new Be("XSRF_HEADER_NAME");class iR{}class sR{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mk(e,this.cookieName),this.lastCookieString=e),this.lastToken}}sR.decorators=[{type:oo}],sR.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:String,decorators:[{type:ye,args:[Ih]}]},{type:String,decorators:[{type:ye,args:[nR]}]}];class oR{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}oR.decorators=[{type:oo}],oR.ctorParameters=()=>[{type:iR},{type:String,decorators:[{type:ye,args:[rR]}]}];class aR{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(WN,[]);this.chain=e.reduceRight((e,t)=>new qN(e,t),this.backend)}return this.chain.handle(e)}}aR.decorators=[{type:oo}],aR.ctorParameters=()=>[{type:AN},{type:ho}];class lR{static disable(){return{ngModule:lR,providers:[{provide:oR,useClass:GN}]}}static withOptions(e={}){return{ngModule:lR,providers:[e.cookieName?{provide:nR,useValue:e.cookieName}:[],e.headerName?{provide:rR,useValue:e.headerName}:[]]}}}lR.decorators=[{type:Ch,args:[{providers:[oR,{provide:WN,useExisting:oR,multi:!0},{provide:iR,useClass:sR},{provide:nR,useValue:"XSRF-TOKEN"},{provide:rR,useValue:"X-XSRF-TOKEN"}]}]}];class cR{}cR.decorators=[{type:Ch,args:[{imports:[lR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[HN,{provide:ON,useClass:aR},tR,{provide:AN,useExisting:tR},eR,{provide:JN,useExisting:eR}]}]}];(class{}).decorators=[{type:Ch,args:[{providers:[YN,{provide:KN,useFactory:function(){return"object"==typeof window?window:{}}},{provide:WN,useClass:XN,multi:!0}]}]}];const hR={headers:new IN({"Content-Type":"application/json"}),withCredentials:!0},uR="https://darts-web-server.herokuapp.com/";let dR=class{constructor(e){this.http=e}login(e,t){return this.http.post(uR+"admin/login",{user:{email:e,password:t}},hR)}logout(){return this.http.post(uR+"admin/logout",{},hR)}isLoggedIn(){return this.http.get(uR+"admin/isLoggedIn",hR)}addCamera(e){return this.http.post(uR+"admin/cameras/",{camera:e},hR)}getCameras(){return this.http.get(uR+"admin/cameras/",hR)}getCamera(e){return this.http.get(uR+"admin/cameras/"+e,hR)}searchCamerasAtLocation(e){return this.http.get(uR+"admin/cameras/search/"+e,hR)}updateCamera(e,t){return this.http.put(uR+"admin/cameras/"+e,{camera:t},hR)}deleteCamera(e){return this.http.delete(uR+"admin/cameras/"+e,hR)}autoAssign(){return this.http.post(uR+"admin/cameras/autoassign/",{},hR)}addServer(e){return this.http.post(uR+"admin/servers/",{server:e},hR)}getServers(){return this.http.get(uR+"admin/servers/",hR)}getServer(e){return this.http.get(uR+"admin/servers/"+e,hR)}updateServer(e,t){return this.http.put(uR+"admin/servers/"+e,{server:t},hR)}deleteServer(e){return this.http.delete(uR+"admin/servers/"+e,hR)}getAvailablePeople(){return this.http.get(uR+"admin/qrunit/person",hR)}addQRUnit(e){return this.http.post(uR+"admin/qrunit/",{qrunit:e},hR)}getCameraPreprocessingValues(e){return this.http.get(uR+"admin/cameras/"+e+"/preprocessing",hR)}updateCameraPreprocessingValues(e,t){return this.http.put(uR+"admin/cameras/"+e+"/preprocessing",{pre:t},hR)}};dR.ctorParameters=()=>[{type:HN}],dR=r.b([oo({providedIn:"root"})],dR);class pR{}function mR(e,t){return{type:7,name:e,definitions:t,options:{}}}function fR(e,t=null){return{type:4,styles:t,timings:e}}function gR(e,t=null){return{type:2,steps:e,options:t}}function yR(e){return{type:6,styles:e,offset:null}}function vR(e,t,n){return{type:0,name:e,styles:t,options:n}}function _R(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function bR(e){Promise.resolve(null).then(e)}class wR{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class CR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?bR(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}let ER=class{constructor(e){this.el=e}getContainerElement(){return this.el.nativeElement}};ER.ctorParameters=()=>[{type:ka}],ER=Object(r.b)([dh({selector:"[toastContainer]",exportAs:"toastContainer"})],ER);let SR=class{};SR=Object(r.b)([Ch({declarations:[ER],exports:[ER]})],SR);class xR{constructor(e,t,n,r,i,s){this.toastId=e,this.config=t,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new A,this._onAction=new A,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const kR={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},TR=new Be("ToastConfig");class OR{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class AR extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,n){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n}attachComponentPortal(e,t){const n=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let IR=class{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}};IR.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],IR.\u0275prov=xe({factory:function(){return new IR(Ye(oO))},token:IR,providedIn:"root"}),IR=Object(r.b)([oo({providedIn:"root"}),Object(r.e)(0,ye(oO))],IR);class DR{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let PR=class{constructor(e,t,n,r){this._overlayContainer=e,this._componentFactoryResolver=t,this._appRef=n,this._document=r,this._paneElements=new Map}create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new AR(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new DR(this._createPortalHost(e))}};PR.ctorParameters=()=>[{type:IR},{type:Ca},{type:_u},{type:void 0,decorators:[{type:ye,args:[oO]}]}],PR.\u0275prov=xe({factory:function(){return new PR(Ye(IR),Ye(Ca),Ye(_u),Ye(oO))},token:PR,providedIn:"root"}),PR=Object(r.b)([oo({providedIn:"root"}),Object(r.e)(3,ye(oO))],PR);class NR{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new A,this._activate=new A,this._manualClose=new A,this._resetTimeout=new A,this._countDuplicate=new A}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class RR{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,n){return e===xR?this._toastPackage:this._parentInjector.get(e,t,n)}}let MR=class{constructor(e,t,n,r,i){this.overlay=t,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,t,n={},r=""){return this._preBuildNotification(r,e,t,this.applyConfig(n))}success(e,t,n={}){const r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}error(e,t,n={}){const r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}info(e,t,n={}){const r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}warning(e,t,n={}){const r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}clear(e){for(const t of this.toasts)if(void 0!==e){if(t.toastId===e)return void t.toastRef.manualClose()}else t.toastRef.manualClose()}remove(e){const t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const e=this.toasts[this.currentlyActive].toastRef;e.isInactive()||(this.currentlyActive=this.currentlyActive+1,e.activate())}return!0}findDuplicate(e,t,n){for(const r of this.toasts)if(r.message===e)return r.toastRef.onDuplicate(t,n),r;return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,n,r)):this._buildNotification(e,t,n,r)}_buildNotification(e,t,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(t&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=t;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const o=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=t;t&&r.enableHtml&&(a=this.sanitizer.sanitize(vi.HTML,t));const l=new NR(o),c=new xR(this.index,r,a,n,e,l),h=new RR(c,this._injector),u=new OR(r.toastComponent,h),d=o.attach(u,this.toastrConfig.newestOnTop);l.componentInstance=d.instance;const p={toastId:this.index,message:t||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:d};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}};MR.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[TR]}]},{type:PR},{type:ho},{type:lA},{type:eu}],MR.\u0275prov=xe({factory:function(){return new MR(Ye(TR),Ye(PR),Ye(Ve),Ye(lA),Ye(eu))},token:MR,providedIn:"root"}),MR=Object(r.b)([oo({providedIn:"root"}),Object(r.e)(0,ye(TR))],MR);let FR=class{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime(),t=this.hideTime-e;this.width=t/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}};var LR;FR.ctorParameters=()=>[{type:MR},{type:xR},{type:eu}],Object(r.b)([yh("class")],FR.prototype,"toastClasses",void 0),Object(r.b)([yh("@flyInOut")],FR.prototype,"state",void 0),Object(r.b)([yh("style.display")],FR.prototype,"displayStyle",null),Object(r.b)([vh("click")],FR.prototype,"tapToast",null),Object(r.b)([vh("mouseenter")],FR.prototype,"stickAround",null),Object(r.b)([vh("mouseleave")],FR.prototype,"delayedHideToast",null),FR=Object(r.b)([ph({selector:"[toast-component]",template:'\n  <button *ngIf="options.closeButton" (click)="remove()" class="toast-close-button" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n  <div *ngIf="title" [class]="options.titleClass" [attr.aria-label]="title">\n    {{ title }} <ng-container *ngIf="duplicatesCount">[{{ duplicatesCount + 1 }}]</ng-container>\n  </div>\n  <div *ngIf="message && options.enableHtml" role="alertdialog" aria-live="polite"\n    [class]="options.messageClass" [innerHTML]="message">\n  </div>\n  <div *ngIf="message && !options.enableHtml" role="alertdialog" aria-live="polite"\n    [class]="options.messageClass" [attr.aria-label]="message">\n    {{ message }}\n  </div>\n  <div *ngIf="options.progressBar">\n    <div class="toast-progress" [style.width]="width + \'%\'"></div>\n  </div>\n  ',animations:[mR("flyInOut",[vR("inactive",yR({opacity:0})),vR("active",yR({opacity:1})),vR("removed",yR({opacity:0})),_R("inactive => active",fR("{{ easeTime }}ms {{ easing }}")),_R("active => removed",fR("{{ easeTime }}ms {{ easing }}"))])],preserveWhitespaces:!1})],FR);const jR=Object.assign(Object.assign({},kR),{toastComponent:FR});let $R=LR=class{static forRoot(e={}){return{ngModule:LR,providers:[{provide:TR,useValue:{default:jR,config:e}}]}}};$R=LR=Object(r.b)([Ch({imports:[iO],declarations:[FR],exports:[FR],entryComponents:[FR]})],$R);let BR=class{static forRoot(e={}){return{ngModule:$R,providers:[{provide:TR,useValue:{default:kR,config:e}}]}}};var VR;BR=Object(r.b)([Ch({imports:[iO]})],BR);let UR=class{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime(),t=this.hideTime-e;this.width=t/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};UR.ctorParameters=()=>[{type:MR},{type:xR},{type:_u}],Object(r.b)([yh("class")],UR.prototype,"toastClasses",void 0),Object(r.b)([yh("style.display")],UR.prototype,"displayStyle",null),Object(r.b)([vh("click")],UR.prototype,"tapToast",null),Object(r.b)([vh("mouseenter")],UR.prototype,"stickAround",null),Object(r.b)([vh("mouseleave")],UR.prototype,"delayedHideToast",null),UR=Object(r.b)([ph({selector:"[toast-component]",template:'\n  <button *ngIf="options.closeButton" (click)="remove()" class="toast-close-button" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n  <div *ngIf="title" [class]="options.titleClass" [attr.aria-label]="title">\n    {{ title }} <ng-container *ngIf="duplicatesCount">[{{ duplicatesCount + 1 }}]</ng-container>\n  </div>\n  <div *ngIf="message && options.enableHtml" role="alert" aria-live="polite"\n    [class]="options.messageClass" [innerHTML]="message">\n  </div>\n  <div *ngIf="message && !options.enableHtml" role="alert" aria-live="polite"\n    [class]="options.messageClass" [attr.aria-label]="message">\n    {{ message }}\n  </div>\n  <div *ngIf="options.progressBar">\n    <div class="toast-progress" [style.width]="width + \'%\'"></div>\n  </div>\n  '})],UR);const zR=Object.assign(Object.assign({},kR),{toastComponent:UR});let HR=VR=class{static forRoot(e={}){return{ngModule:VR,providers:[{provide:TR,useValue:{default:zR,config:e}}]}}};HR=VR=Object(r.b)([Ch({imports:[iO],declarations:[UR],exports:[UR],entryComponents:[UR]})],HR);let qR=class{constructor(e){this.toastr=e,this.err=e=>{e.message&&(e=e.message),this.toastr.error(e,"Error")},this.succ=e=>{e.message&&(e=e.message),this.toastr.success(e,"Success")},this.info=e=>{e.message&&(e=e.message),this.toastr.info(e,"Information")}}};qR.ctorParameters=()=>[{type:MR}],qR=r.b([oo({providedIn:"root"})],qR);let WR=class{constructor(e,t){this.adminService=e,this.toaster=t,this.search={cameras:{query:"",cameras:[],location:null}},this.clearCamerasSearchQuery=()=>{this.search.cameras.query="",this.search.cameras.location=null,this.getCameras()},this.searchForCamerasAtLocation=()=>{this.toaster.info("Looking for cameras, please wait!");var e=this.search.cameras.query;""!=e?this.adminService.searchCamerasAtLocation(e).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(this.toaster.succ(e.succ),this.search.cameras.cameras=e.cameras,this.search.cameras.location=e.location)},e=>{this.toaster.err(e)},()=>{}):this.getCameras()},this.servers=[],this.cameras=[],this.getCameras=()=>{this.adminService.getCameras().subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.cameras=e.cameras)},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){this.getCameras(),this.adminService.getServers().subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.servers=e.servers)},e=>{this.toaster.err(e)},()=>{})}};WR.ctorParameters=()=>[{type:dR},{type:qR}],WR=r.b([ph({selector:"app-admin-home",template:r.c(n("vTgS")).default,styles:[r.c(n("QlxH")).default]})],WR);let GR=class{constructor(){}ngOnInit(){}};GR=r.b([ph({selector:"app-main-home",template:r.c(n("0wxl")).default,styles:[r.c(n("1iS/")).default]})],GR);let QR=class{constructor(e,t,n){this.adminService=e,this.router=t,this.toaster=n}login(){this.toaster.info("Please wait! Working on it"),this.adminService.login(this.email,this.password).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["admin/home"]))},e=>{this.toaster.err(e)},()=>{})}};QR.ctorParameters=()=>[{type:dR},{type:tN},{type:qR}],QR=r.b([ph({selector:"app-admin-login",template:r.c(n("QgpJ")).default,styles:[r.c(n("D3jF")).default]})],QR);let KR=class{constructor(e,t,n){this.adminService=e,this.router=t,this.toaster=n,this.comsats={zoom:16,longitude:73.156456,latitude:33.651592},this.locationSelected=!1,this.locationCoords={longitude:0,latitude:0},this.addCamera=()=>{if(""!=this.url&&0!=this.locationCoords.latitude&&0!=this.locationCoords.longitude){let e={url:this.url,longitude:this.locationCoords.longitude,latitude:this.locationCoords.latitude};this.adminService.addCamera(e).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["admin/cameras/"+e.camera._id]))},e=>{this.toaster.err(e)},()=>{})}else this.toaster.err("Please fill in all the details")},this.choseThisLocation=e=>{console.log(e),this.locationSelected=!0,this.locationCoords.latitude=e.coords.lat,this.locationCoords.longitude=e.coords.lng}}ngOnInit(){}};KR.ctorParameters=()=>[{type:dR},{type:tN},{type:qR}],KR=r.b([ph({selector:"app-add-camera",template:r.c(n("K+Jz")).default,styles:[r.c(n("jkg5")).default]})],KR);let YR=class{constructor(e,t,n,r){this.adminService=e,this.activatedRoute=t,this.toaster=n,this.router=r,this.validCameraVideoUrl=!0,this.validServerVideoUrl=!0,this.videoOrigin="camera",this.servers=[],this.choseThisLocation=e=>{this.camera.latitude=e.coords.lat,this.camera.longitude=e.coords.lng},this.updateCamera=()=>{this.adminService.updateCamera(this.cameraId,this.camera).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&this.toaster.succ(e.succ.message)},e=>{this.toaster.err(e)},()=>{})},this.deleteCamera=()=>{this.adminService.deleteCamera(this.cameraId).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["admin/home"]))},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){this.cameraId=this.activatedRoute.snapshot.paramMap.get("cameraId"),this.adminService.getServers().subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.servers=e.servers)},e=>{this.toaster.err(e)},()=>{}),this.adminService.getCamera(this.cameraId).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.camera=e.camera,e.server&&(this.server=e.server))},e=>{this.toaster.err(e)},()=>{})}};YR.ctorParameters=()=>[{type:dR},{type:BD},{type:qR},{type:tN}],YR=r.b([ph({selector:"app-view-camera",template:r.c(n("LaJB")).default,styles:[r.c(n("9SiX")).default]})],YR);let XR=class{constructor(e,t,n){this.adminService=e,this.router=t,this.toaster=n,this.comsats={zoom:16,longitude:73.156456,latitude:33.651592},this.locationSelected=!1,this.locationCoords={longitude:0,latitude:0},this.choseThisLocation=e=>{console.log(e),this.locationSelected=!0,this.locationCoords.latitude=e.coords.lat,this.locationCoords.longitude=e.coords.lng},this.addServer=()=>{if(""!=this.url&&""!=this.name&&0!=this.locationCoords.latitude&&0!=this.locationCoords.longitude){let e={url:this.url,name:this.name,longitude:this.locationCoords.longitude,latitude:this.locationCoords.latitude};this.adminService.addServer(e).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["admin/servers/"+e.server._id]))},e=>{this.toaster.err(e)},()=>{})}else this.toaster.err("Please fill in all the details")}}ngOnInit(){}};XR.ctorParameters=()=>[{type:dR},{type:tN},{type:qR}],XR=r.b([ph({selector:"app-add-server",template:r.c(n("fTmq")).default,styles:[r.c(n("i958")).default]})],XR);let ZR=class{constructor(e,t,n){this.adminService=e,this.activatedRoute=t,this.toaster=n,this.server={_id:"",longitude:0,latitude:0,url:"",name:"",cameras:[]},this.choseThisLocation=e=>{this.server.latitude=e.coords.lat,this.server.longitude=e.coords.lng},this.updateServer=()=>{this.adminService.updateServer(this.serverId,this.server).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&this.toaster.succ(e.succ.message)},e=>{this.toaster.err(e)},()=>{})},this.deleteServer=()=>{this.adminService.deleteServer(this.serverId).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&this.toaster.succ(e.succ.message)},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){this.serverId=this.activatedRoute.snapshot.paramMap.get("serverId"),this.adminService.getServer(this.serverId).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.server=e.server)},e=>{this.toaster.err(e)},()=>{})}};ZR.ctorParameters=()=>[{type:dR},{type:BD},{type:qR}],ZR=r.b([ph({selector:"app-view-server",template:r.c(n("AQs/")).default,styles:[r.c(n("/ZYw")).default]})],ZR);const JR={headers:new IN({"Content-Type":"application/json"}),withCredentials:!0},eM="https://darts-web-server.herokuapp.com/";let tM=class{constructor(e){this.http=e,this.mGetCameras=()=>this.http.get(eM+"authoritative/map/cameras",JR),this.mGetAlerts=()=>this.http.get(eM+"authoritative/map/alerts",JR),this.mGetServers=()=>this.http.get(eM+"authoritative/map/servers",JR),this.mGetQRUnits=()=>this.http.get(eM+"authoritative/map/qrunits",JR),this.mSearchLocation=e=>this.http.get(eM+"authoritative/map/search/"+e,JR),this.getSuspectAlerts=e=>this.http.get(eM+"authoritative/map/alerts/"+e,JR)}login(e,t){return this.http.post(eM+"authoritative/login",{user:{email:e,password:t}},JR)}logout(){return this.http.post(eM+"authoritative/logout",{},JR)}isLoggedIn(){return this.http.get(eM+"authoritative/isLoggedIn",JR)}addSuspect(e){return this.http.post(eM+"authoritative/suspects/",{suspect:e},JR)}getSuspect(e){return this.http.get(eM+"authoritative/suspects/"+e,JR)}getSuspects(){return this.http.get(eM+"authoritative/suspects/",JR)}updateSuspect(e){return this.http.put(eM+"authoritative/suspects/"+e._id,{suspect:e},JR)}deleteSuspect(e){return this.http.delete(eM+"authoritative/suspects/"+e,JR)}searchSuspects(e){return this.http.get(eM+"authoritative/suspects/search/"+e,JR)}getAvailablePeopleAdmin(){return this.http.get(eM+"authoritative/admin/person",JR)}addAdmin(e){return this.http.post(eM+"authoritative/admin/",{admin:e},JR)}getAvailablePeopleAuthoritative(){return this.http.get(eM+"authoritative/authoritative/person",JR)}addAp(e){return this.http.post(eM+"authoritative/authoritative/",{ap:e},JR)}getCamera(e){return this.http.get(eM+"authoritative/map/camera/"+e,JR)}getAlert(e){return this.http.get(eM+"authoritative/map/alert/"+e,JR)}};tM.ctorParameters=()=>[{type:HN}],tM=r.b([oo({providedIn:"root"})],tM);let nM=class{constructor(e,t,n){this.authoritativeService=e,this.router=t,this.toaster=n}ngOnInit(){}loginx(){this.toaster.info("Please wait! Working on it"),this.authoritativeService.login(this.email,this.password).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["authoritative/home"]))},e=>{this.toaster.err(e)},()=>{})}};nM.ctorParameters=()=>[{type:tM},{type:tN},{type:qR}],nM=r.b([ph({selector:"app-authoritative-login",template:r.c(n("1erT")).default,styles:[r.c(n("TXW0")).default]})],nM);let rM=class{constructor(e,t){this.authoritativeService=e,this.toaster=t,this.search={suspects:{query:"",suspects:[]}},this.clearSuspectsSearchQuery=()=>{this.search.suspects.query="",console.log(this.search),this.getSuspects()},this.searchForSuspects=()=>{this.toaster.info("Looking for suspects, please wait!");var e=this.search.suspects.query;""!=e?this.authoritativeService.searchSuspects(e).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(this.toaster.succ(e.succ),this.search.suspects.suspects=e.suspects)},e=>{this.toaster.err(e)},()=>{}):this.getSuspects()},this.getSuspects=()=>{this.authoritativeService.getSuspects().subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.suspects=e.suspects)},e=>{this.toaster.err(e)},()=>{})},this.suspects=[]}ngOnInit(){this.search={suspects:{query:"",suspects:[]}},this.getSuspects()}};rM.ctorParameters=()=>[{type:tM},{type:qR}],rM=r.b([ph({selector:"app-authoritative-home",template:r.c(n("kiN4")).default,styles:[r.c(n("2wNt")).default]})],rM);let iM=class{constructor(e,t,n){this.authoritativeService=e,this.router=t,this.toaster=n,this.suspect={fullName:"",gender:"",tags:""},this.addSuspect=()=>{this.suspect.tags=this.suspect.tags.split(","),this.authoritativeService.addSuspect(this.suspect).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["authoritative/suspects/"+e.suspect._id]))},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){}};iM.ctorParameters=()=>[{type:tM},{type:tN},{type:qR}],iM=r.b([ph({selector:"app-add-suspect",template:r.c(n("im4X")).default,styles:[r.c(n("Qr12")).default]})],iM);class sM{constructor(e){var t;this.rawFile=e;let n=!(!(t=e)||!(t.nodeName||t.prop&&t.attr&&t.find))?e.value:e;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}_createFromFakePath(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}_createFromObject(e){this.size=e.size,this.type=e.type,this.name=e.name}}class oM{constructor(e,t,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=n,this.file=new sM(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}upload(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(e){return{form:e}}onProgress(e){return{progress:e}}onSuccess(e,t,n){return{response:e,status:t,headers:n}}onError(e,t,n){return{response:e,status:t,headers:n}}onCancel(e,t,n){return{response:e,status:t,headers:n}}onComplete(e,t,n){return{response:e,status:t,headers:n}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(e){this.onBuildForm(e)}_onProgress(e){this.progress=e,this.onProgress(e)}_onSuccess(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,n)}_onError(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,n)}_onCancel(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,n)}_onComplete(e,t,n){this.onComplete(e,t,n),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}class aM{static getMimeClass(e){let t="application";return-1!==this.mime_psd.indexOf(e.type)?t="image":e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}static fileTypeDetection(e){let t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=e.split(".");if(n.length<2)return"application";let r=n[n.length-1].toLowerCase();return void 0===t[r]?"application":t[r]}}aM.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],aM.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],aM.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],aM.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],aM.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"];class lM{constructor(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:e=>e._file,formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new ch}setOptions(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(e,t,n){let r=[];for(let a of e)r.push(a);let i=this._getFilters(n),s=this.queue.length,o=[];r.map(e=>{t||(t=this.options);let n=new sM(e);if(this._isValidFile(n,i,t)){let n=new oM(this,e,t);o.push(n),this.queue.push(n),this._onAfterAddingFile(n)}else{let e=i[this._failFilterIndex];this._onWhenAddingFileFailed(n,e,t)}}),this.queue.length!==s&&(this._onAfterAddingAll(o),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(e){let t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(e){let t=this.getIndexOfItem(e),n=this.queue[t],r=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[r](n))}cancelItem(e){let t=this.getIndexOfItem(e),n=this.queue[t],r=this.options.isHTML5?n._xhr:n._form;n&&n.isUploading&&r.abort()}uploadAll(){let e=this.getNotUploadedItems().filter(e=>!e.isUploading);e.length&&(e.map(e=>e._prepareToUploading()),e[0].upload())}cancelAll(){this.getNotUploadedItems().map(e=>e.cancel())}isFile(e){return function(e){return File&&e instanceof File}(e)}isFileLikeObject(e){return e instanceof sM}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.isUploaded)}getReadyItems(){return this.queue.filter(e=>e.isReady&&!e.isUploading).sort((e,t)=>e.index-t.index)}destroy(){}onAfterAddingAll(e){return{fileItems:e}}onBuildItemForm(e,t){return{fileItem:e,form:t}}onAfterAddingFile(e){return{fileItem:e}}onWhenAddingFileFailed(e,t,n){return{item:e,filter:t,options:n}}onBeforeUploadItem(e){return{fileItem:e}}onProgressItem(e,t){return{fileItem:e,progress:t}}onProgressAll(e){return{progress:e}}onSuccessItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onErrorItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onCancelItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onCompleteItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onCompleteAll(){}_mimeTypeFilter(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}_fileSizeFilter(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}_fileTypeFilter(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(aM.getMimeClass(e)))}_onErrorItem(e,t,n,r){e._onError(t,n,r),this.onErrorItem(e,t,n,r)}_onCompleteItem(e,t,n,r){e._onComplete(t,n,r),this.onCompleteItem(e,t,n,r);let i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(e){return t=>t?e[t.toLowerCase()]||void 0:e}_xhrTransport(e){let t,n=this,r=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);const n=()=>t.append(e.alias,e._file,e.file.name);this.options.parametersBeforeFiles||n(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(n=>{let r=this.options.additionalParameter[n];"string"==typeof r&&r.indexOf("{{file_name}}")>=0&&(r=r.replace("{{file_name}}",e.file.name)),t.append(n,r)}),this.options.parametersBeforeFiles&&n()}if(r.upload.onprogress=t=>{let n=Math.round(t.lengthComputable?100*t.loaded/t.total:0);this._onProgressItem(e,n)},r.onload=()=>{let t=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,t);this["_on"+(this._isSuccessCode(r.status)?"Success":"Error")+"Item"](e,n,r.status,t),this._onCompleteItem(e,n,r.status,t)},r.onerror=()=>{let t=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,t);this._onErrorItem(e,n,r.status,t),this._onCompleteItem(e,n,r.status,t)},r.onabort=()=>{let t=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,t);this._onCancelItem(e,n,r.status,t),this._onCompleteItem(e,n,r.status,t)},r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials,this.options.headers)for(let i of this.options.headers)r.setRequestHeader(i.name,i.value);if(e.headers.length)for(let i of e.headers)r.setRequestHeader(i.name,i.value);this.authToken&&r.setRequestHeader(this.authTokenHeader,this.authToken),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&n.response.emit(r.responseText)},this.options.formatDataFunctionIsAsync?t.then(e=>r.send(JSON.stringify(e))):r.send(t),this._render()}_getTotalProgress(e=0){if(this.options.removeAfterUpload)return e;let t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,r=100/this.queue.length,i=e*r/100;return Math.round(n*r+i)}_getFilters(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){let t=e.match(/[^\s,]+/g);return this.options.filters.filter(e=>-1!==t.indexOf(e.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(e,t,n){return this._failFilterIndex=-1,!t.length||t.every(t=>(this._failFilterIndex++,t.fn.call(this,e,n)))}_isSuccessCode(e){return e>=200&&e<300||304===e}_transformResponse(e,t){return e}_parseHeaders(e){let t,n,r,i={};return e?(e.split("\n").map(e=>{r=e.indexOf(":"),t=e.slice(0,r).trim().toLowerCase(),n=e.slice(r+1).trim(),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}_onWhenAddingFileFailed(e,t,n){this.onWhenAddingFileFailed(e,t,n)}_onAfterAddingFile(e){this.onAfterAddingFile(e)}_onAfterAddingAll(e){this.onAfterAddingAll(e)}_onBeforeUploadItem(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}_onBuildItemForm(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}_onProgressItem(e,t){let n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()}_onSuccessItem(e,t,n,r){e._onSuccess(t,n,r),this.onSuccessItem(e,t,n,r)}_onCancelItem(e,t,n,r){e._onCancel(t,n,r),this.onCancelItem(e,t,n,r)}}class cM{constructor(e){this.onFileSelected=new ch,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){let e=this.element.nativeElement.files,t=this.getOptions(),n=this.getFilters();this.uploader.addToQueue(e,t,n),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}}cM.decorators=[{type:dh,args:[{selector:"[ng2FileSelect]"}]}],cM.ctorParameters=()=>[{type:ka}],cM.propDecorators={uploader:[{type:fh}],onFileSelected:[{type:gh}],onChange:[{type:vh,args:["change"]}]};class hM{constructor(e){this.fileOver=new ch,this.onFileDrop=new ch,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}onDrop(e){let t=this._getTransfer(e);if(!t)return;let n=this.getOptions(),r=this.getFilters();this._preventAndStop(e),this.uploader.addToQueue(t.files,n,r),this.fileOver.emit(!1),this.onFileDrop.emit(t.files)}onDragOver(e){let t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),this.fileOver.emit(!0))}onDragLeave(e){this.element&&e.currentTarget===this.element[0]||(this._preventAndStop(e),this.fileOver.emit(!1))}_getTransfer(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer}_preventAndStop(e){e.preventDefault(),e.stopPropagation()}_haveFiles(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))}}hM.decorators=[{type:dh,args:[{selector:"[ng2FileDrop]"}]}],hM.ctorParameters=()=>[{type:ka}],hM.propDecorators={uploader:[{type:fh}],fileOver:[{type:gh}],onFileDrop:[{type:gh}],onDrop:[{type:vh,args:["drop",["$event"]]}],onDragOver:[{type:vh,args:["dragover",["$event"]]}],onDragLeave:[{type:vh,args:["dragleave",["$event"]]}]};class uM{}uM.decorators=[{type:Ch,args:[{imports:[iO],declarations:[hM,cM],exports:[hM,cM]}]}];new IN({"Content-Type":"application/json"});let dM=class{constructor(e){this.http=e,this.getRoute=e=>{for(var t="",n=0;n<e.length;n++){var r=e[n];t+=r.lat+","+r.lng+";"}var i="http://api.tplmaps.com:8888/route?points="+t+"&reroute=false&pointsencoded=false&apikey=$2a$10$EAVaIVvXe3gESbS8skWZZe4vpCIazE7q5sDUpL3P1HgyTS5wD8Y8q";return console.log(i),this.http.get(i)}}};function pM(){throw Error("Host already has a portal attached")}dM.ctorParameters=()=>[{type:HN}],dM=r.b([oo({providedIn:"root"})],dM);class mM{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&pM(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class fM extends mM{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class gM extends mM{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class yM{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&pM(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof fM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof gM?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vM extends yM{constructor(e,t,n,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.detectChanges(),n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class _M extends gM{constructor(e,t){super(e,t)}}_M.decorators=[{type:dh,args:[{selector:"[cdkPortal]",exportAs:"cdkPortal"}]}],_M.ctorParameters=()=>[{type:Xa},{type:Ja}];class bM extends _M{}bM.decorators=[{type:dh,args:[{selector:"[cdk-portal], [portal]",exportAs:"cdkPortal",providers:[{provide:_M,useExisting:bM}]}]}];class wM extends yM{constructor(e,t){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new ch}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}}wM.decorators=[{type:dh,args:[{selector:"[cdkPortalOutlet]",exportAs:"cdkPortalOutlet",inputs:["portal: cdkPortalOutlet"]}]}],wM.ctorParameters=()=>[{type:Ca},{type:Ja}],wM.propDecorators={attached:[{type:gh}]};class CM extends wM{}CM.decorators=[{type:dh,args:[{selector:"[cdkPortalHost], [portalHost]",exportAs:"cdkPortalHost",inputs:["portal: cdkPortalHost"],providers:[{provide:wM,useExisting:CM}]}]}];class EM{}EM.decorators=[{type:Ch,args:[{exports:[_M,wM,bM,CM],declarations:[_M,wM,bM,CM]}]}];class SM{constructor(e,t){this._parentInjector=e,this._customTokens=t}get(e,t){const n=this._customTokens.get(e);return void 0!==n?n:this._parentInjector.get(e,t)}}function xM(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class kM extends p{constructor(e,t){super()}schedule(e,t=0){return this}}class TM extends kM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class OM{constructor(e,t=OM.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}OM.now=()=>Date.now();class AM extends OM{constructor(e,t=OM.now){super(e,()=>AM.delegate&&AM.delegate!==this?AM.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return AM.delegate&&AM.delegate!==this?AM.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const IM=new AM(TM);function DM(e,t=IM){return n=>n.lift(new PM(e,t))}class PM{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new NM(e,this.dueTime,this.scheduler))}}class NM extends g{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(RM,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function RM(e){e.debouncedNext()}let MM,FM;try{MM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(JK){MM=!1}class LM{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}LM.decorators=[{type:oo,args:[{providedIn:"root"}]}],LM.ctorParameters=()=>[{type:Object,decorators:[{type:ve},{type:ye,args:[Ih]}]}],LM.ngInjectableDef=xe({factory:function(){return new LM(Ye(Ih,8))},token:LM,providedIn:"root"});class jM{}jM.decorators=[{type:Ch,args:[{}]}];const $M=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function BM(){if(FM)return FM;if("object"!=typeof document||!document)return FM=new Set($M),FM;let e=document.createElement("input");return FM=new Set($M.filter(t=>(e.setAttribute("type",t),e.type===t))),FM}let VM;function UM(e){return function(){if(null==VM&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>VM=!0}))}finally{VM=VM||!1}return VM}()?e:!!e.capture}const zM={NORMAL:0,NEGATED:1,INVERTED:2};let HM;function qM(){if("object"!=typeof document||!document)return zM.NORMAL;if(!HM){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.height="1px",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),HM=zM.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,HM=0===e.scrollLeft?zM.NEGATED:zM.INVERTED),e.parentNode.removeChild(e)}return HM}function WM(e){return null!=e&&"false"!==`${e}`}function GM(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function QM(e){return Array.isArray(e)?e:[e]}function KM(e){return null==e?"":"string"==typeof e?e:`${e}px`}function YM(e){return e instanceof ka?e.nativeElement:e}zM[zM.NORMAL]="NORMAL",zM[zM.NEGATED]="NEGATED",zM[zM.INVERTED]="INVERTED";class XM{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}XM.decorators=[{type:oo,args:[{providedIn:"root"}]}],XM.ngInjectableDef=xe({factory:function(){return new XM},token:XM,providedIn:"root"});class ZM{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=YM(e);return new E(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new A,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}ZM.decorators=[{type:oo,args:[{providedIn:"root"}]}],ZM.ctorParameters=()=>[{type:XM}],ZM.ngInjectableDef=xe({factory:function(){return new ZM(Ye(XM))},token:ZM,providedIn:"root"});class JM{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new ch,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=WM(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=GM(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(DM(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}JM.decorators=[{type:dh,args:[{selector:"[cdkObserveContent]",exportAs:"cdkObserveContent"}]}],JM.ctorParameters=()=>[{type:ZM},{type:ka},{type:eu}],JM.propDecorators={event:[{type:gh,args:["cdkObserveContent"]}],disabled:[{type:fh,args:["cdkObserveContentDisabled"]}],debounce:[{type:fh}]};class eF{}eF.decorators=[{type:Ch,args:[{exports:[JM],declarations:[JM],providers:[XM]}]}];function tF(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}let nF=0;const rF=new Map;let iF=null;class sF{constructor(e){this._document=e}describe(e,t){this._canBeDescribed(e,t)&&("string"!=typeof t?(this._setMessageId(t),rF.set(t,{messageElement:t,referenceCount:0})):rF.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}removeDescription(e,t){if(this._isElementNode(e)){if(this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t),"string"==typeof t){const e=rF.get(t);e&&0===e.referenceCount&&this._deleteMessageElement(t)}iF&&0===iF.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const e=this._document.querySelectorAll("[cdk-describedby-host]");for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");iF&&this._deleteMessagesContainer(),rF.clear()}_createMessageElement(e){const t=this._document.createElement("div");this._setMessageId(t),t.textContent=e,this._createMessagesContainer(),iF.appendChild(t),rF.set(e,{messageElement:t,referenceCount:0})}_setMessageId(e){e.id||(e.id=`cdk-describedby-message-${nF++}`)}_deleteMessageElement(e){const t=rF.get(e),n=t&&t.messageElement;iF&&n&&iF.removeChild(n),rF.delete(e)}_createMessagesContainer(){if(!iF){const e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode.removeChild(e),iF=this._document.createElement("div"),iF.id="cdk-describedby-message-container",iF.setAttribute("aria-hidden","true"),iF.style.display="none",this._document.body.appendChild(iF)}}_deleteMessagesContainer(){iF&&iF.parentNode&&(iF.parentNode.removeChild(iF),iF=null)}_removeCdkDescribedByReferenceIds(e){const t=tF(e,"aria-describedby").filter(e=>0!=e.indexOf("cdk-describedby-message"));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=rF.get(t);!function(e,t,n){const r=tF(e,t);r.some(e=>e.trim()==n.trim())||(r.push(n.trim()),e.setAttribute(t,r.join(" ")))}(e,"aria-describedby",n.messageElement.id),e.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(e,t){const n=rF.get(t);n.referenceCount--,function(e,t,n){const r=tF(e,t).filter(e=>e!=n.trim());r.length?e.setAttribute(t,r.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",n.messageElement.id),e.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(e,t){const n=tF(e,"aria-describedby"),r=rF.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const n=null==t?"":`${t}`.trim(),r=e.getAttribute("aria-label");return!!n&&(!r||r.trim()!==n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}sF.decorators=[{type:oo,args:[{providedIn:"root"}]}],sF.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],sF.ngInjectableDef=xe({factory:function(){return new sF(Ye(oO))},token:sF,providedIn:"root"});new ve,new be;class oF{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new A,this._typeaheadSubscription=p.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new A,this.change=new A,e instanceof uh&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){if(this._items.length&&this._items.some(e=>"function"!=typeof e.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(rI(e=>this._pressedLetters.push(e)),DM(e),KA(()=>this._pressedLetters.length>0),z(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const r=(this._activeItemIndex+n)%t.length,i=t[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(e){const t=this._activeItemIndex;this.updateActiveItem(e),this._activeItemIndex!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||xM(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}updateActiveItemIndex(e){this.updateActiveItem(e)}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length,i=t[r];if(!this._skipPredicateFn(i))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof uh?this._items.toArray():this._items}}class aF extends oF{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}class lF{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(JK){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){const e=t&&t.nodeName.toLowerCase();if(-1===hF(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===e)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}let r=e.nodeName.toLowerCase(),i=hF(e);if(e.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0)}isFocusable(e){return function(e){if(function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e))return!1;return function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||cF(e)}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}function cF(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function hF(e){if(!cF(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}lF.decorators=[{type:oo,args:[{providedIn:"root"}]}],lF.ctorParameters=()=>[{type:LM}],lF.ngInjectableDef=xe({factory:function(){return new lF(Ye(LM))},token:lF,providedIn:"root"});class uF{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], `+`[cdkFocusRegion${e}], `+`[cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated `+"attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated attribute `+"will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Hr()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(fI(1)).subscribe(e)}}class dF{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new uF(e,this._checker,this._ngZone,this._document,t)}}dF.decorators=[{type:oo,args:[{providedIn:"root"}]}],dF.ctorParameters=()=>[{type:lF},{type:eu},{type:void 0,decorators:[{type:ye,args:[oO]}]}],dF.ngInjectableDef=xe({factory:function(){return new dF(Ye(lF),Ye(eu),Ye(oO))},token:dF,providedIn:"root"});class pF{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=WM(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=WM(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}pF.decorators=[{type:dh,args:[{selector:"[cdkTrapFocus]",exportAs:"cdkTrapFocus"}]}],pF.ctorParameters=()=>[{type:ka},{type:dF},{type:void 0,decorators:[{type:ye,args:[oO]}]}],pF.propDecorators={enabled:[{type:fh,args:["cdkTrapFocus"]}],autoCapture:[{type:fh,args:["cdkTrapFocusAutoCapture"]}]};const mF=new Be("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});const fF=new Be("LIVE_ANNOUNCER_DEFAULT_OPTIONS");class gF{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}gF.decorators=[{type:oo,args:[{providedIn:"root"}]}],gF.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:ye,args:[mF]}]},{type:eu},{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[fF]}]}],gF.ngInjectableDef=xe({factory:function(){return new gF(Ye(mF,8),Ye(eu),Ye(oO),Ye(fF,8))},token:gF,providedIn:"root"});class yF{constructor(e,t,n,r){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=r,this._politeness="off"}get politeness(){return this._politeness}set politeness(e){this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}yF.decorators=[{type:dh,args:[{selector:"[cdkAriaLive]",exportAs:"cdkAriaLive"}]}],yF.ctorParameters=()=>[{type:ka},{type:gF},{type:ZM},{type:eu}],yF.propDecorators={politeness:[{type:fh,args:["cdkAriaLive"]}]};new ve,new be,new ve,new ye(mF);const vF=UM({passive:!0,capture:!0});class _F{constructor(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=e.composedPath?e.composedPath()[0]:e.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(e,t=!1){if(!this._platform.isBrowser)return BA(null);const n=YM(e);if(this._elementInfo.has(n)){let e=this._elementInfo.get(n);return e.checkChildren=t,e.subject.asObservable()}let r={unlisten:()=>{},checkChildren:t,subject:new A};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=e=>this._onFocus(e,n),s=e=>this._onBlur(e,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",s,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",s,!0)},r.subject.asObservable()}stopMonitoring(e){const t=YM(e),n=this._elementInfo.get(t);n&&(n.unlisten(),n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())}focusVia(e,t,n){const r=YM(e);this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_setClasses(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(e){let t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);if(!n||!n.checkChildren&&t!==e.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,vF),document.addEventListener("mousedown",this._documentMousedownListener,vF),document.addEventListener("touchstart",this._documentTouchstartListener,vF),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,vF),document.removeEventListener("mousedown",this._documentMousedownListener,vF),document.removeEventListener("touchstart",this._documentTouchstartListener,vF),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}_F.decorators=[{type:oo,args:[{providedIn:"root"}]}],_F.ctorParameters=()=>[{type:eu},{type:LM}],_F.ngInjectableDef=xe({factory:function(){return new _F(Ye(eu),Ye(LM))},token:_F,providedIn:"root"});class bF{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new ch,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}bF.decorators=[{type:dh,args:[{selector:"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]"}]}],bF.ctorParameters=()=>[{type:ka},{type:_F}],bF.propDecorators={cdkFocusChange:[{type:gh}]};new ve,new be;(class{}).decorators=[{type:Ch,args:[{imports:[iO,jM,eF],declarations:[yF,pF,bF],exports:[yF,pF,bF]}]}];const wF=new Be("cdk-dir-doc",{providedIn:"root",factory:function(){return Xe(oO)}});class CF{constructor(e){if(this.value="ltr",this.change=new ch,e){const t=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null,r=t||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}CF.decorators=[{type:oo,args:[{providedIn:"root"}]}],CF.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:ye,args:[wF]}]}],CF.ngInjectableDef=xe({factory:function(){return new CF(Ye(wF,8))},token:CF,providedIn:"root"});class EF{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new ch}get dir(){return this._dir}set dir(e){const t=this._dir,n=e?e.toLowerCase():e;this._rawDir=e,this._dir="ltr"===n||"rtl"===n?n:"ltr",t!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}EF.decorators=[{type:dh,args:[{selector:"[dir]",providers:[{provide:CF,useExisting:EF}],host:{"[attr.dir]":"_rawDir"},exportAs:"dir"}]}],EF.propDecorators={change:[{type:gh,args:["dirChange"]}],dir:[{type:fh}]};class SF{}SF.decorators=[{type:Ch,args:[{exports:[EF],declarations:[EF]}]}];Object.prototype.toString;function xF(e,t,n,r){return i(n)&&(r=n,n=void 0),r?xF(e,t,n).pipe(z(e=>c(e)?r(...e):r(e))):new E(r=>{!function e(t,n,r,i,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,s),o=()=>e.removeEventListener(n,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),o=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),o=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,r,i,s)}i.add(o)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)})}const kF=new class extends AM{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends TM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let TF=1;const OF={};const AF={setImmediate(e){const t=TF++;return OF[t]=e,Promise.resolve().then(()=>function(e){const t=OF[e];t&&t()}(t)),t},clearImmediate(e){delete OF[e]}};const IF=new class extends AM{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends TM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=AF.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(AF.clearImmediate(t),e.scheduled=void 0)}});function DF(e,t){return n=>n.lift(new PF(e,t))}class PF{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new NF(e,this.compare,this.keySelector))}}class NF extends g{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}class RF{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new MF(e,this.durationSelector))}}class MF extends U{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=V(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function FF(e){return!c(e)&&e-parseFloat(e)+1>=0}function LF(e=0,t,n){let r=-1;return FF(t)?r=Number(t)<1?1:Number(t):D(t)&&(n=t),D(n)||(n=IM),new E(t=>{const i=FF(e)?e:+e-n.now();return n.schedule(jF,i,{index:0,period:r,subscriber:t})})}function jF(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function $F(e,t=IM){return n=()=>LF(e,t),function(e){return e.lift(new RF(n))};var n}function BF(e){return t=>t.lift(new VF(e))}class VF{constructor(e){this.notifier=e}call(e,t){const n=new UF(e),r=V(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class UF extends U{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}class zF{call(e,t){return t.subscribe(new HF(e))}}class HF extends g{constructor(e){super(e),this.hasPrev=!1}_next(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e}}const qF=new class extends AM{}(class extends TM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}});function WF(e,t){return new E(t?n=>t.schedule(GF,0,{error:e,subscriber:n}):t=>t.error(e))}function GF({error:e,subscriber:t}){t.error(e)}var QF;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(QF||(QF={}));class KF{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return BA(this.value);case"E":return WF(this.error);case"C":return jA()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new KF("N",e):KF.undefinedValueNotification}static createError(e){return new KF("E",void 0,e)}static createComplete(){return KF.completeNotification}}KF.completeNotification=new KF("C"),KF.undefinedValueNotification=new KF("N",void 0);class YF{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new XF(e,this.scheduler,this.delay))}}class XF extends g{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(XF.dispatch,this.delay,new ZF(e,this.destination)))}_next(e){this.scheduleMessage(KF.createNext(e))}_error(e){this.scheduleMessage(KF.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(KF.createComplete()),this.unsubscribe()}}class ZF{constructor(e,t){this.notification=e,this.destination=t}}class JF extends A{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new eL(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new k;if(this.isStopped||this.hasError?s=p.EMPTY:(this.observers.push(e),s=new T(this,e)),r&&e.add(e=new XF(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||qF).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class eL{constructor(e,t){this.time=e,this.value=t}}function tL(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){o++,i&&!a||(a=!1,i=new JF(e,t,r),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,i.complete()}}));const h=i.subscribe(this);this.add(()=>{o--,h.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}class nL extends class{}{constructor(e){super(),this._data=e}connect(){return this._data instanceof E?this._data:BA(this._data)}disconnect(){}}class rL{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new A,this.onChange=this.changed,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){if(e.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}class iL{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}iL.decorators=[{type:oo,args:[{providedIn:"root"}]}],iL.ngInjectableDef=xe({factory:function(){return new iL},token:iL,providedIn:"root"});const sL=new Be("VIRTUAL_SCROLL_STRATEGY");class oL{constructor(e,t,n){this._scrolledIndexChange=new A,this.scrolledIndexChange=this._scrolledIndexChange.pipe(DF()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,n){if(n<t)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.measureScrollOffset(),t=e/this._itemSize,n=this._viewport.getRenderedRange(),r={start:n.start,end:n.end},i=this._viewport.getViewportSize(),s=this._viewport.getDataLength(),o=e-r.start*this._itemSize;if(o<this._minBufferPx&&0!=r.start){const e=Math.ceil((this._maxBufferPx-o)/this._itemSize);r.start=Math.max(0,r.start-e),r.end=Math.min(s,Math.ceil(t+(i+this._minBufferPx)/this._itemSize))}else{const n=r.end*this._itemSize-(e+i);if(n<this._minBufferPx&&r.end!=s){const e=Math.ceil((this._maxBufferPx-n)/this._itemSize);e>0&&(r.end=Math.min(s,r.end+e),r.start=Math.max(0,Math.floor(t-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(r),this._viewport.setRenderedContentOffset(this._itemSize*r.start),this._scrolledIndexChange.next(Math.floor(t))}}class aL{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new oL(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=GM(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=GM(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=GM(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}aL.decorators=[{type:dh,args:[{selector:"cdk-virtual-scroll-viewport[itemSize]",providers:[{provide:sL,useFactory:function(e){return e._scrollStrategy},deps:[Pe(()=>aL)]}]}]}],aL.propDecorators={itemSize:[{type:fh}],minBufferPx:[{type:fh}],maxBufferPx:[{type:fh}]};class lL{constructor(e,t){this._ngZone=e,this._platform=t,this._scrolled=new A,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new E(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe($F(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):BA()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(KA(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_scrollableContainsElement(e,t){let n=t.nativeElement,r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xF(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}lL.decorators=[{type:oo,args:[{providedIn:"root"}]}],lL.ctorParameters=()=>[{type:eu},{type:LM}],lL.ngInjectableDef=xe({factory:function(){return new lL(Ye(eu),Ye(LM))},token:lL,providedIn:"root"});new ve,new be;class cL{constructor(e,t,n,r){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=r,this._destroyed=new A,this._elementScrolled=new E(e=>this.ngZone.runOutsideAngular(()=>xF(this.elementRef.nativeElement,"scroll").pipe(BF(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;e.left=null==e.left?n?e.end:e.start:e.left,e.right=null==e.right?n?e.start:e.end:e.right,null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&qM()!=zM.NORMAL?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),qM()==zM.INVERTED?e.left=e.right:qM()==zM.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":"left":"end"==e&&(e=n?"left":"right"),n&&qM()==zM.INVERTED?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:n&&qM()==zM.NEGATED?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}cL.decorators=[{type:dh,args:[{selector:"[cdk-scrollable], [cdkScrollable]"}]}],cL.ctorParameters=()=>[{type:ka},{type:lL},{type:eu},{type:CF,decorators:[{type:ve}]}];const hL="undefined"!=typeof requestAnimationFrame?kF:IF;class uL extends cL{constructor(e,t,n,r,i,s){if(super(e,s,n,i),this.elementRef=e,this._changeDetectorRef=t,this._scrollStrategy=r,this._detachedSubject=new A,this._renderedRangeSubject=new A,this._orientation="vertical",this.scrolledIndexChange=new E(e=>this._scrollStrategy.scrolledIndexChange.subscribe(t=>Promise.resolve().then(()=>this.ngZone.run(()=>e.next(t))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],!r)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.')}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(xI(null),$F(0,hL)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),super.ngOnDestroy()}attach(e){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(BF(this._detachedSubject)).subscribe(e=>{const t=e.length;t!==this._dataLength&&(this._dataLength=t,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){var t,n;t=this._renderedRange,n=e,(t.start!=n.start||t.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){const n=this.dir&&"rtl"==this.dir.value,r="horizontal"==this.orientation,i=r?"X":"Y";let s=`translate${i}(${Number((r&&n?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===t&&(s+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){const n={behavior:t};"horizontal"===this.orientation?n.start=e:n.top=e,this.scrollTo(n)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this.ngZone.run(()=>this._changeDetectorRef.markForCheck()),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform;const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const t of e)t()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}function dL(e,t){const n=t;if(!n.getBoundingClientRect)return 0;const r=n.getBoundingClientRect();return"horizontal"==e?r.width:r.height}uL.decorators=[{type:ph,args:[{selector:"cdk-virtual-scroll-viewport",template:'<div #contentWrapper class="cdk-virtual-scroll-content-wrapper"><ng-content></ng-content></div><div class="cdk-virtual-scroll-spacer" [style.width]="_totalContentWidth" [style.height]="_totalContentHeight"></div>',styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],host:{class:"cdk-virtual-scroll-viewport","[class.cdk-virtual-scroll-orientation-horizontal]":'orientation === "horizontal"',"[class.cdk-virtual-scroll-orientation-vertical]":'orientation !== "horizontal"'},encapsulation:ht.None,changeDetection:lt.OnPush,providers:[{provide:cL,useExisting:uL}]}]}],uL.ctorParameters=()=>[{type:ka},{type:qs},{type:eu},{type:void 0,decorators:[{type:ve},{type:ye,args:[sL]}]},{type:CF,decorators:[{type:ve}]},{type:lL}],uL.propDecorators={orientation:[{type:fh}],scrolledIndexChange:[{type:gh}],_contentWrapper:[{type:Ho,args:["contentWrapper",{static:!0}]}]};class pL{constructor(e,t,n,r,i){this._viewContainerRef=e,this._template=t,this._differs=n,this._viewport=r,this.viewChange=new A,this._dataSourceChanges=new A,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(xI(null),e=>e.lift(new zF),wI(([e,t])=>this._changeDataSource(e,t)),tL(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new A,this.dataStream.subscribe(e=>{this._data=e,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(BF(this._destroyed)).subscribe(e=>{this._renderedRange=e,i.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e;const t=function(e){return e&&"function"==typeof e.connect}(e)?e:new nL(e instanceof E?e:Array.prototype.slice.call(e||[]));this._dataSourceChanges.next(t)}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,n)=>e(t+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}measureRangeSize(e,t){if(e.start>=e.end)return 0;if(e.start<this._renderedRange.start||e.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const n=e.start-this._renderedRange.start;let r=0,i=e.end-e.start;for(;i--;){const e=this._viewContainerRef.get(i+n);let s=e?e.rootNodes.length:0;for(;s--;)r+=dL(t,e.rootNodes[s])}return r}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let e of this._templateCache)e.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):BA()}_updateContext(){const e=this._data.length;let t=this._viewContainerRef.length;for(;t--;){let n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(e){e.forEachOperation((e,t,n)=>{if(null==e.previousIndex){this._insertViewForNewItem(n).context.$implicit=e.item}else if(null==n)this._cacheView(this._detachView(t));else{const r=this._viewContainerRef.get(t);this._viewContainerRef.move(r,n),r.context.$implicit=e.item}}),e.forEachIdentityChange(e=>{this._viewContainerRef.get(e.currentIndex).context.$implicit=e.item});const t=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const e=this._viewContainerRef.get(n);e.context.index=this._renderedRange.start+n,e.context.count=t,this._updateComputedContextProperties(e.context)}}_cacheView(e){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(e);else{const t=this._viewContainerRef.indexOf(e);-1===t?e.destroy():this._viewContainerRef.remove(t)}}_insertViewForNewItem(e){return this._insertViewFromCache(e)||this._createEmbeddedViewAt(e)}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_createEmbeddedViewAt(e){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},e)}_insertViewFromCache(e){const t=this._templateCache.pop();return t&&this._viewContainerRef.insert(t,e),t||null}_detachView(e){return this._viewContainerRef.detach(e)}}pL.decorators=[{type:dh,args:[{selector:"[cdkVirtualFor][cdkVirtualForOf]"}]}],pL.ctorParameters=()=>[{type:Ja},{type:Xa},{type:qa},{type:uL,decorators:[{type:be}]},{type:eu}],pL.propDecorators={cdkVirtualForOf:[{type:fh}],cdkVirtualForTrackBy:[{type:fh}],cdkVirtualForTemplate:[{type:fh}],cdkVirtualForTemplateCacheSize:[{type:fh}]};class mL{}mL.decorators=[{type:Ch,args:[{imports:[SF,jM],exports:[SF,aL,cL,pL,uL],declarations:[aL,cL,pL,uL]}]}];(class{}).decorators=[{type:Ch,args:[{imports:[mL],exports:[mL]}]}];class fL{constructor(e,t){this._platform=e,t.runOutsideAngular(()=>{this._change=e.isBrowser?J(xF(window,"resize"),xF(window,"orientationchange")):BA(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($F(e)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}fL.decorators=[{type:oo,args:[{providedIn:"root"}]}],fL.ctorParameters=()=>[{type:LM},{type:eu}],fL.ngInjectableDef=xe({factory:function(){return new fL(Ye(LM),Ye(eu))},token:fL,providedIn:"root"});new ve,new be;class gL{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=KM(-this._previousScrollPosition.left),e.style.top=KM(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=this._document.body,n=e.style,r=t.style,i=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),n.scrollBehavior=r.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),n.scrollBehavior=i,r.scrollBehavior=s}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}function yL(){return Error("Scroll strategy has already been attached.")}class vL{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){if(this._overlayRef)throw yL();this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _L{enable(){}disable(){}attach(){}}function bL(e,t){return t.some(t=>{const n=e.bottom<t.top,r=e.top>t.bottom,i=e.right<t.left,s=e.left>t.right;return n||r||i||s})}function wL(e,t){return t.some(t=>{const n=e.top<t.top,r=e.bottom>t.bottom,i=e.left<t.left,s=e.right>t.right;return n||r||i||s})}class CL{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw yL();this._overlayRef=e}enable(){if(!this._scrollSubscription){const e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();bL(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EL{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new _L,this.close=e=>new vL(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new gL(this._viewportRuler,this._document),this.reposition=e=>new CL(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}EL.decorators=[{type:oo,args:[{providedIn:"root"}]}],EL.ctorParameters=()=>[{type:lL},{type:fL},{type:eu},{type:void 0,decorators:[{type:ye,args:[oO]}]}],EL.ngInjectableDef=xe({factory:function(){return new EL(Ye(lL),Ye(fL),Ye(eu),Ye(oO))},token:EL,providedIn:"root"});class SL{constructor(e){if(this.scrollStrategy=new _L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class xL{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class kL{}class TL{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}function OL(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "top", "bottom" or "center".')}function AL(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "start", "end" or "center".')}TL.ctorParameters=()=>[{type:xL},{type:kL,decorators:[{type:ve}]}];class IL{constructor(e){this._attachedOverlays=[],this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEventSubscriptions>0){t[n]._keydownEvents.next(e);break}},this._document=e}ngOnDestroy(){this._detach()}add(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}IL.decorators=[{type:oo,args:[{providedIn:"root"}]}],IL.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],IL.ngInjectableDef=xe({factory:function(){return new IL(Ye(oO))},token:IL,providedIn:"root"});new ve,new be;class DL{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}DL.decorators=[{type:oo,args:[{providedIn:"root"}]}],DL.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],DL.ngInjectableDef=xe({factory:function(){return new DL(Ye(oO))},token:DL,providedIn:"root"});new ve,new be;class PL{constructor(e,t,n,r,i,s,o,a){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new A,this._attachments=new A,this._detachments=new A,this._locationChanges=p.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEventsObservable=new E(e=>{const t=this._keydownEvents.subscribe(e);return this._keydownEventSubscriptions++,()=>{t.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new A,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(fI(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign({},this._config,e),this._updateElementSize()}setDirection(e){this._config=Object.assign({},this._config,{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=KM(this._config.width),e.height=KM(this._config.height),e.minWidth=KM(this._config.minWidth),e.minHeight=KM(this._config.minHeight),e.maxWidth=KM(this._config.maxWidth),e.maxHeight=KM(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;QM(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.asObservable().pipe(BF(J(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}class NL{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new A,this._resizeSubscription=p.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&RL(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){let{x:i,y:s}=e,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let l=0-i,c=i+t.width-n.width,h=0-s,u=s+t.height-n.height,d=this._subtractOverflows(t.width,l,c),p=this._subtractOverflows(t.height,h,u),m=d*p;return{visibleArea:m,isCompletelyWithinViewport:t.width*t.height===m,fitsInViewportVertically:p===t.height,fitsInViewportHorizontally:d==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=e.fitsInViewportVertically||null!=s&&s<=r,l=e.fitsInViewportHorizontally||null!=o&&o<=i;return a&&l}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(e.x+t.width-r.right,0),s=Math.max(e.y+t.height-r.bottom,0),o=Math.max(r.top-n.top-e.y,0),a=Math.max(r.left-n.left-e.x,0);let l=0,c=0;return l=t.width<=r.width?a||-i:e.x<this._viewportMargin?r.left-n.left-e.x:0,c=t.height<=r.height?o||-s:e.y<this._viewportMargin?r.top-n.top-e.y:0,this._previousPushAmount={x:l,y:c},{x:e.x+l,y:e.y+c}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new TL(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}const a="start"===t.overlayX&&!r||"end"===t.overlayX&&r;let l,c,h;if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=n.width-e.x+this._viewportMargin,l=e.x-this._viewportMargin;else if(a)c=e.x,l=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;l=2*t,c=e.x-t,l>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-r/2)}return{top:s,left:c,bottom:o,right:h,width:l,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=KM(n.height),r.top=KM(n.top),r.bottom=KM(n.bottom),r.width=KM(n.width),r.left=KM(n.left),r.right=KM(n.right),"center"===t.overlayX?r.alignItems="center":r.alignItems="end"===t.overlayX?"flex-end":"flex-start","center"===t.overlayY?r.justifyContent="center":r.justifyContent="bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=KM(e)),i&&(r.maxWidth=KM(i))}this._lastBoundingBoxSize=n,RL(this._boundingBox.style,r)}_resetBoundingBoxStyles(){RL(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){RL(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();RL(n,this._getExactOverlayY(t,e,r)),RL(n,this._getExactOverlayX(t,e,r))}else n.position="static";let r="",i=this._getOffset(t,"x"),s=this._getOffset(t,"y");i&&(r+=`translateX(${i}px) `),s&&(r+=`translateY(${s}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),RL(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:null,bottom:null},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;if(i.y-=s,"bottom"===e.overlayY){const e=this._document.documentElement.clientHeight;r.bottom=`${e-(i.y+this._overlayRect.height)}px`}else r.top=KM(i.y);return r}_getExactOverlayX(e,t,n){let r,i={left:null,right:null},s=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r){const e=this._document.documentElement.clientWidth;i.right=`${e-(s.x+this._overlayRect.width)}px`}else i.left=KM(s.x);return i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wL(e,n),isOriginOutsideView:bL(e,n),isOverlayClipped:wL(t,n),isOverlayOutsideView:bL(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(e=>{AL("originX",e.originX),OL("originY",e.originY),AL("overlayX",e.overlayX),OL("overlayY",e.overlayY)})}_addPanelClasses(e){this._pane&&QM(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ka)return e.nativeElement.getBoundingClientRect();if(e instanceof HTMLElement)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function RL(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}class ML{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new NL(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new xL(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class FL{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();e.position=this._cssPosition,e.marginLeft="100%"===n.width?"0":this._leftOffset,e.marginTop="100%"===n.height?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,"100%"===n.width?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}class LL{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new FL}connectedTo(e,t,n){return new ML(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new NL(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}LL.decorators=[{type:oo,args:[{providedIn:"root"}]}],LL.ctorParameters=()=>[{type:fL},{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:LM},{type:DL}],LL.ngInjectableDef=xe({factory:function(){return new LL(Ye(fL),Ye(oO),Ye(LM),Ye(DL))},token:LL,providedIn:"root"});let jL=0;class $L{constructor(e,t,n,r,i,s,o,a,l,c){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new SL(e);return i.direction=i.direction||this._directionality.value,new PL(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id=`cdk-overlay-${jL++}`,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(_u)),new vM(e,this._componentFactoryResolver,this._appRef,this._injector)}}$L.decorators=[{type:oo}],$L.ctorParameters=()=>[{type:EL},{type:DL},{type:Ca},{type:LL},{type:IL},{type:ho},{type:eu},{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:CF},{type:Vx,decorators:[{type:ve}]}];const BL=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],VL=new Be("cdk-connected-overlay-scroll-strategy");class UL{constructor(e){this.elementRef=e}}UL.decorators=[{type:dh,args:[{selector:"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]",exportAs:"cdkOverlayOrigin"}]}],UL.ctorParameters=()=>[{type:ka}];class zL{constructor(e,t,n,r,i){this._overlay=e,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=p.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new ch,this.positionChange=new ch,this.attach=new ch,this.detach=new ch,this.overlayKeydown=new ch,this._templatePortal=new gM(t,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=WM(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=WM(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=WM(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=WM(e)}get push(){return this._push}set push(e){this._push=WM(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=BL),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||xM(e)||(e.preventDefault(),this._detachOverlay())})}_buildConfig(){const e=this._position=this._createPositionStrategy(),t=new SL({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e.positionChanges.subscribe(e=>this.positionChange.emit(e)),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}zL.decorators=[{type:dh,args:[{selector:"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]",exportAs:"cdkConnectedOverlay"}]}],zL.ctorParameters=()=>[{type:$L},{type:Xa},{type:Ja},{type:void 0,decorators:[{type:ye,args:[VL]}]},{type:CF,decorators:[{type:ve}]}],zL.propDecorators={origin:[{type:fh,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:fh,args:["cdkConnectedOverlayPositions"]}],offsetX:[{type:fh,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:fh,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:fh,args:["cdkConnectedOverlayWidth"]}],height:[{type:fh,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:fh,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:fh,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:fh,args:["cdkConnectedOverlayBackdropClass"]}],panelClass:[{type:fh,args:["cdkConnectedOverlayPanelClass"]}],viewportMargin:[{type:fh,args:["cdkConnectedOverlayViewportMargin"]}],scrollStrategy:[{type:fh,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:fh,args:["cdkConnectedOverlayOpen"]}],hasBackdrop:[{type:fh,args:["cdkConnectedOverlayHasBackdrop"]}],lockPosition:[{type:fh,args:["cdkConnectedOverlayLockPosition"]}],flexibleDimensions:[{type:fh,args:["cdkConnectedOverlayFlexibleDimensions"]}],growAfterOpen:[{type:fh,args:["cdkConnectedOverlayGrowAfterOpen"]}],push:[{type:fh,args:["cdkConnectedOverlayPush"]}],backdropClick:[{type:gh}],positionChange:[{type:gh}],attach:[{type:gh}],detach:[{type:gh}],overlayKeydown:[{type:gh}]};const HL={provide:VL,deps:[$L],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class qL{}qL.decorators=[{type:Ch,args:[{imports:[SF,EM,mL],exports:[zL,UL,mL],declarations:[zL,UL],providers:[$L,HL]}]}];class WL extends DL{constructor(e){super(e)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){if(!this._containerElement)return;(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){const t=this._getEventName();t&&(this._fullScreenListener&&this._document.removeEventListener(t,this._fullScreenListener),this._document.addEventListener(t,e),this._fullScreenListener=e)}_getEventName(){if(!this._fullScreenEventName){const e=this._document;e.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":e.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":e.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":e.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const e=this._document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}WL.decorators=[{type:oo,args:[{providedIn:"root"}]}],WL.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]}],WL.ngInjectableDef=xe({factory:function(){return new WL(Ye(oO))},token:WL,providedIn:"root"});const GL=new Na("8.2.3");function QL(){return"undefined"!=typeof process}function KL(e){switch(e.length){case 0:return new wR;case 1:return e[0];default:return new CR(e)}}function YL(e,t,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(e=>{const n=e.offset,r=n==l,h=r&&c||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}h[r]=a}),r||a.push(h),c=h,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function XL(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&ZL(n,"start",e)));break;case"done":e.onDone(()=>r(n&&ZL(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&ZL(n,"destroy",e)))}}function ZL(e,t,n){const r=n.totalTime,i=!!n.disabled,s=JL(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,i),o=e._data;return null!=o&&(s._data=o),s}function JL(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ej(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function tj(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let nj=(e,t)=>!1;let rj=(e,t)=>!1;let ij=(e,t,n)=>[];const sj=QL();(sj||"undefined"!=typeof Element)&&(nj=(e,t)=>e.contains(t),rj=(()=>{if(sj||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):rj}})(),ij=(e,t,n)=>{let r=[];if(n)r.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&r.push(n)}return r});let oj=null,aj=!1;function lj(e){oj||(oj=function(){if("undefined"!=typeof document)return document.body;return null}()||{},aj=!!oj.style&&"WebkitAppearance"in oj.style);let t=!0;if(oj.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in oj.style,!t&&aj)){t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in oj.style}return t}const cj=rj,hj=nj,uj=ij;function dj(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}class pj{validateStyleProperty(e){return lj(e)}matchesElement(e,t){return cj(e,t)}containsElement(e,t){return hj(e,t)}query(e,t,n){return uj(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new wR(n,r)}}pj.decorators=[{type:oo}];class mj{}mj.NOOP=new pj;function fj(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:gj(parseFloat(t[1]),t[2])}function gj(e,t){switch(t){case"s":return 1e3*e;default:return e}}function yj(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){const r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let i,s=0,o="";if("string"==typeof e){const n=e.match(r);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=gj(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(s=gj(parseFloat(a),n[4]));const l=n[5];l&&(o=l)}else i=e;if(!n){let n=!1,r=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:o}}(e,t,n)}function vj(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function _j(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else vj(e,n);return n}function bj(e,t,n){return n?t+":"+n+";":""}function wj(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=bj(0,r,e.style.getPropertyValue(r))}for(const n in e.style){if(!e.style.hasOwnProperty(n)||n.startsWith("_"))continue;t+=bj(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n])}e.setAttribute("style",t)}function Cj(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=Ij(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),QL()&&wj(e))}function Ej(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Ij(t);e.style[n]=""}),QL()&&wj(e))}function Sj(e){return Array.isArray(e)?1==e.length?e[0]:gR(e):e}const xj=new RegExp("{{\\s*(.+?)\\s*}}","g");function kj(e){let t=[];if("string"==typeof e){const n=e.toString();let r;for(;r=xj.exec(n);)t.push(r[1]);xj.lastIndex=0}return t}function Tj(e,t,n){const r=e.toString(),i=r.replace(xj,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function Oj(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Aj=/-+([a-z0-9])/g;function Ij(e){return e.replace(Aj,(...e)=>e[1].toUpperCase())}function Dj(e,t){return 0===e||0===t}function Pj(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach((function(t){n[t]=Rj(e,t)}))}}return t}function Nj(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Rj(e,t){return window.getComputedStyle(e)[t]}function Mj(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(jj(i,o));const a="*"==i&&"*"==o;"<"!=s[0]||a||t.push(jj(o,i))}(e,n,t)):n.push(e),n}const Fj=new Set(["true","1"]),Lj=new Set(["false","0"]);function jj(e,t){const n=Fj.has(e)||Lj.has(e),r=Fj.has(t)||Lj.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?Fj.has(e):Lj.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?Fj.has(t):Lj.has(t)),o&&a}}const $j=new RegExp("s*:selfs*,?","g");function Bj(e,t,n){return new Vj(e).build(t,n)}class Vj{constructor(e){this._driver=e}build(e,t){const n=new Uj(t);return this._resetContextStyleTimingState(n),Nj(this,Sj(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(zj(e)){const t=e;Object.keys(t).forEach(e=>{kj(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=Oj(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Nj(this,Sj(e.animation),t);return{type:1,matchers:Mj(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Hj(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Nj(this,e,t)),options:Hj(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=Nj(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:Hj(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e){return qj(yj(e,t).duration,0,"")}const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=qj(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||yj(r,t),qj(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:yR({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=yR(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(zj(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t){if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=kj(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(zj(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(zj(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));const u=c-1,d=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return l.forEach((e,r)=>{const s=h>0?r==u?1:h*r:i[r],o=s*m;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Nj(this,Sj(e.animation),t),options:Hj(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Hj(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Hj(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);t&&(e=e.replace($j,""));return[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,ej(t.collectedStyles,t.currentQuerySelector,{});const o=Nj(this,Sj(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Hj(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:yj(e.timings,t.errors,!0);return{type:12,animation:Nj(this,Sj(e.animation),t),timings:n,options:null}}}class Uj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function zj(e){return!Array.isArray(e)&&"object"==typeof e}function Hj(e){var t;return e?(e=vj(e)).params&&(e.params=(t=e.params)?vj(t):null):e={},e}function qj(e,t,n){return{duration:e,delay:t,easing:n}}function Wj(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Gj{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qj=new RegExp(":enter","g"),Kj=new RegExp(":leave","g");function Yj(e,t,n,r,i,s={},o={},a,l,c=[]){return(new Xj).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class Xj{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new Gj;const h=new Jj(e,t,l,r,i,c,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),Nj(this,n,h);const u=h.timelines.filter(e=>e.containsAnimation());if(u.length&&Object.keys(o).length){const e=u[u.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,h.errors,a)}return u.length?u.map(e=>e.buildKeyframes()):[Wj(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?fj(n.duration):null,s=null!=n.delay?fj(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Nj(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zj);const e=fj(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Nj(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?fj(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),Nj(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return yj(t.params?Tj(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{const n=e.offset||0;s.forwardTime(n*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?fj(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zj);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),Nj(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();const l=o.currentTimeline.currentTime;s=Math.max(s,l)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Nj(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Zj={};class Jj{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zj,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new e$(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=fj(n.duration)),null!=n.delay&&(r.delay=fj(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=Tj(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new Jj(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Zj,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new t$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(Qj,"."+this._enterClassName)).replace(Kj,"."+this._leaveClassName);const t=1!=n;let r=this._driver.query(this.element,e,t);0!==n&&(r=n<0?r.slice(r.length+n,r.length):r.slice(0,n)),o.push(...r)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class e${constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new e$(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]="*"})):_j(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=Tj(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{const n=e[t];this._currentKeyframe[t]=n}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=_j(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):"*"==r&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?Oj(e.values()):[],s=t.size?Oj(t.values()):[];if(n){const e=r[0],t=vj(e);e.offset=0,t.offset=1,r=[e,t]}return Wj(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class t$ extends e${constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=_j(e[0],!1);a.offset=0,i.push(a);const l=_j(e[0],!1);l.offset=n$(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=_j(e[r],!1);const a=t+o.offset*n;o.offset=n$(a/s),i.push(o)}n=s,t=0,r="",e=i}return Wj(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function n$(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class r${}class i$ extends r${normalizePropertyName(e,t){return Ij(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(s$[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const s$=function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function o$(e,t,n,r,i,s,o,a,l,c,h,u,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const a$={};class l${constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||a$,d=o&&o.params||a$,p=this.buildStyles(n,d,h),m=a&&a.params||a$,f=this.buildStyles(r,m,h),g=new Set,y=new Map,v=new Map,_="void"===r,b={params:Object.assign({},u,m)},w=c?[]:Yj(e,t,this.ast.animation,i,s,p,f,b,l,h);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),h.length)return o$(t,this._triggerName,n,r,_,p,f,[],[],y,v,C,h);w.forEach(e=>{const n=e.element,r=ej(y,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=ej(v,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const E=Oj(g.values());return o$(t,this._triggerName,n,r,_,p,f,w,E,y,v,C)}}class c${constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=vj(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=Tj(s,r,t)),n[e]=s})}}),n}}class h${constructor(e,t){var n,r;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{const t=e.options&&e.options.params||{};this.states[e.name]=new c$(e.style,t)}),u$(this.states,"true","1"),u$(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new l$(e,t,this.states))}),this.fallbackTransition=(n=e,r=this.states,new l$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},r))}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function u$(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const d$=new Gj;class p${constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=Bj(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=YL(this._driver,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=Yj(this._driver,t,i,"ng-enter","ng-leave",{},{},n,d$,r),s.forEach(e=>{const t=ej(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=KL(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=JL(t,"","","");return XL(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n){const n=r[0]||{};return void this.create(e,t,n)}const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const m$=[],f$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class y${constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=function(e){return null!=e?e:null}(r),n){const t=vj(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const v$=new y$("void");class _${constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,k$(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=ej(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=ej(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(k$(e,"ng-trigger"),k$(e,"ng-trigger-"+t),a[t]=v$),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new w$(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(k$(e,"ng-trigger"),k$(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new y$(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=v$),!("void"===l.value)&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Ej(e,n),Cj(e,r)})}return}const c=ej(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=i.matchTransition(a.value,l.value,e,l.params),u=!1;if(!h){if(!r)return;h=i.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(k$(e,"ng-animate-queued"),s.onStart(()=>{T$(e,"ng-animate-queued")})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,".ng-trigger",!0).forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&KL(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const r=t.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(e)[r]||v$,o=new y$("void"),a=new w$(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;){if(n.statesByElement.get(t)){r=!0;break}}}}this.prepareLeaveAnimationListeners(e),r?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){k$(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=JL(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,XL(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class b${constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new _$(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--){const n=this._namespaceList[i];if(this.driver.containsElement(n.hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(C$(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!C$(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),k$(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),T$(e,"ng-animate-disabled"))}removeNode(e,t,n,r){if(C$(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return C$(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return KL(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=f$,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){k$(this.collectedEnterElements[n],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){const e=this.collectedLeaveElements[n];this.processLeaveNode(e)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?KL(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new Gj,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=x$(u,this.collectedEnterElements),p=new Map;let m=0;d.forEach((e,t)=>{const n="ng-enter"+m++;p.set(t,n),e.forEach(e=>k$(e,n))});const f=[],g=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const e=this.collectedLeaveElements[I],t=e.__ng_removed;t&&t.setForRemoval&&(f.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const v=new Map,_=x$(u,Array.from(g));_.forEach((e,t)=>{const n="ng-leave"+m++;v.set(t,n),e.forEach(e=>k$(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>T$(e,n))}),_.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>T$(e,n))}),f.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--){this._namespaceList[I].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(b.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!h||!this.driver.containsElement(h,i),u=v.get(i),d=p.get(i),m=this._buildInstruction(e,n,d,u,c);if(m.errors&&m.errors.length)return void w.push(m);if(c)return t.onStart(()=>Ej(i,m.fromStyles)),t.onDestroy(()=>Cj(i,m.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>Ej(i,m.fromStyles)),t.onDestroy(()=>Cj(i,m.toStyles)),void r.push(t);m.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,m.timelines);const f={instruction:m,player:t,element:i};s.push(f),m.queriedElements.forEach(e=>ej(o,e,[]).push(t)),m.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),m.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})})}if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,E=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{ej(C,t,[]).push(e),e.destroy()})});const S=f.filter(e=>A$(e,a,l)),x=new Map;S$(x,this.driver,y,l,"*").forEach(e=>{A$(e,a,l)&&S.push(e)});const k=new Map;d.forEach((e,t)=>{S$(k,this.driver,new Set(e),a,"!")}),S.forEach(e=>{const t=x.get(e),n=k.get(e);x.set(e,Object.assign({},t,n))});const T=[],O=[],A={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(c.has(t))return s.onDestroy(()=>Cj(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=A;if(E.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>E.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,C,i,k,x);if(s.setRealPlayer(n),e===A)T.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=KL(t)),r.push(s)}}else Ej(t,o.fromStyles),s.onDestroy(()=>Cj(t,o.toStyles)),O.push(s),c.has(t)&&r.push(s)}),O.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=KL(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let I=0;I<f.length;I++){const e=f[I],t=e.__ng_removed;if(T$(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,".ng-animating",!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?O$(this,e,r):this.processLeaveNode(e)}return f.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||"void"==i;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>(!n||n==e.namespaceId)&&(!r||r==e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.triggerName,i=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:r;for(const a of t.timelines){const e=a.element,r=e!==i,l=ej(n,e,[]);this._getPreviousPlayers(e,r,s,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Ej(i,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,l=[],c=new Set,h=new Set,u=t.timelines.map(t=>{const u=t.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new wR(t.duration,t.delay);const p=u!==a,m=function(e){const t=[];return function e(t,n){for(let r=0;r<t.length;r++){const i=t[r];i instanceof CR?e(i.players,n):n.push(i)}}(e,t),t}((n.get(u)||m$).map(e=>e.getRealPlayer())).filter(e=>{const t=e;return!!t.element&&t.element===u}),f=i.get(u),g=s.get(u),y=YL(this.driver,this._normalizer,0,t.keyframes,f,g),v=this._buildPlayer(t,y,m);if(t.subTimeline&&r&&h.add(u),p){const t=new w$(e,o,u);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{ej(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>k$(e,"ng-animating"));const d=KL(u);return d.onDestroy(()=>{c.forEach(e=>T$(e,"ng-animating")),Cj(a,t.toStyles)}),h.forEach(e=>{ej(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new wR(e.duration,e.delay)}}class w${constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new wR,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>XL(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ej(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function C$(e){return e&&1===e.nodeType}function E$(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function S$(e,t,n,r,i){const s=[];n.forEach(e=>s.push(E$(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=g$,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>E$(e,s[a++])),o}function x$(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let s=i.get(t);if(s)return s;const o=t.parentNode;return s=n.has(o)?o:r.has(o)?1:e(o),i.set(t,s),s}(e);1!==t&&n.get(t).push(e)}),n}function k$(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function T$(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function O$(e,t,n){KL(n).onDone(()=>e.processLeaveNode(t))}function A$(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class I${constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new b$(e,t,n),this._timelineEngine=new p$(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=Bj(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new h$(e,t)}(r,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=tj(n),s=r;this._timelineEngine.command(e,t,i,s)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=tj(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function D$(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=N$(t[0]),t.length>1&&(r=N$(t[t.length-1]))):t&&(n=N$(t)),n||r?new P$(e,n,r):null}class P${constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=P$.initialStylesByElement.get(e);r||P$.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Cj(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cj(this._element,this._initialStyles),this._endStyles&&(Cj(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(P$.initialStylesByElement.delete(this._element),this._startStyles&&(Ej(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ej(this._element,this._endStyles),this._endStyles=null),Cj(this._element,this._initialStyles),this._state=3)}}P$.initialStylesByElement=new WeakMap;function N$(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];R$(i)&&(t=t||{},t[i]=e[i])}return t}function R$(e){return"display"===e||"position"===e}class M${constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=V$(e,"").trim();let r=0;n.length&&(r=function(e,t){let n=0;for(let r=0;r<e.length;r++){e.charAt(r)===t&&n++}return n}(n,",")+1,t=`${n}, ${t}`);B$(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$$(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){F$(this._element,this._name,"paused")}resume(){F$(this._element,this._name,"running")}setPosition(e){const t=L$(this._element,this._name);this._position=e*this._duration,B$(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$$(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=V$(e,"").split(","),r=j$(n,t);if(r>=0){n.splice(r,1);const t=n.join(",");B$(e,"",t)}}(this._element,this._name))}}function F$(e,t,n){B$(e,"PlayState",n,L$(e,t))}function L$(e,t){const n=V$(e,"");if(n.indexOf(",")>0){return j$(n.split(","),t)}return j$([n],t)}function j$(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function $$(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function B$(e,t,n,r){const i="animation"+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function V$(e,t){return e.style["animation"+t]}class U${constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){if(this._state>=1)return;this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new M$(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Rj(this.element,n))})}this.currentSnapshot=e}}class z$ extends wR{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=dj(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class H${constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return lj(e)}matchesElement(e,t){return cj(e,t)}containsElement(e,t){return hj(e,t)}query(e,t,n){return uj(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>dj(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(e,t,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(e=>e instanceof U$),l={};Dj(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};if(e){(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})})}return t}(t=Pj(e,t,l));if(0==n)return new z$(e,c);const h=`gen_css_kf_${this._count++}`,u=this.buildKeyframeElement(e,h,t);document.querySelector("head").appendChild(u);const d=D$(e,t),p=new U$(e,t,h,n,r,i,c,d);return p.onDestroy(()=>{var e;(e=u).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class q${constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Rj(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class W${constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(G$().toString()),this._cssKeyframesDriver=new H$}validateStyleProperty(e){return lj(e)}matchesElement(e,t){return cj(e,t)}containsElement(e,t){return hj(e,t)}query(e,t,n){return uj(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof q$);Dj(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=D$(e,t=Pj(e,t=t.map(e=>_j(e,!1)),l));return new q$(e,t,a,h)}}function G$(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Q$ extends pR{constructor(e,t){super(),this._nextAnimationId=0;const n={id:"0",encapsulation:ht.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(t.body,n)}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?gR(e):e;return X$(this._renderer,null,t,"register",[n]),new K$(t,this._renderer)}}Q$.decorators=[{type:oo}],Q$.ctorParameters=()=>[{type:Aa},{type:void 0,decorators:[{type:ye,args:[oO]}]}];class K$ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Y$(this._id,e,t||{},this._renderer)}}class Y${constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return X$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function X$(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}class Z${constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new J$("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,e),t.data.animation.forEach(t=>this.engine.registerTrigger(r,i,e,t.name,t)),new eB(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}Z$.decorators=[{type:oo}],Z$.ctorParameters=()=>[{type:Aa},{type:I$},{type:eu}];class J${constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class eB extends J${constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(e){const t=e.indexOf("."),n=e.substring(0,t),r=e.substr(t+1);return[n,r]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{const t=e._data||-1;this.factory.scheduleListenerCallback(t,n,e)})}return this.delegate.listen(e,t,n)}}class tB extends I${constructor(e,t,n){super(e.body,t,n)}}tB.decorators=[{type:oo}],tB.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:mj},{type:r$}];const nB=new Be("AnimationModuleType"),rB=[{provide:pR,useClass:Q$},{provide:r$,useFactory:function(){return new i$}},{provide:I$,useClass:tB},{provide:Aa,useFactory:function(e,t,n){return new Z$(e,t,n)},deps:[$O,I$,eu]}],iB=[{provide:mj,useFactory:function(){return"function"==typeof G$()?new W$:new H$}},{provide:nB,useValue:"BrowserAnimations"},...rB],sB=[{provide:mj,useClass:pj},{provide:nB,useValue:"NoopAnimations"},...rB];class oB{}oB.decorators=[{type:Ch,args:[{exports:[_A],providers:iB}]}];(class{}).decorators=[{type:Ch,args:[{exports:[_A],providers:sB}]}];new Na("8.2.3");class aB{}aB.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",aB.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",aB.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",aB.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class lB{}lB.COMPLEX="375ms",lB.ENTERING="225ms",lB.EXITING="195ms";const cB=new Na("8.2.3");const hB=new Be("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class uB{constructor(e,t){this._sanityChecksEnabled=e,this._hammerLoader=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Hr()&&!this._isTestEnv()}_isTestEnv(){const e=this._window;return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){cB.full!==GL.full&&console.warn("The Angular Material version ("+cB.full+") does not match the Angular CDK version ("+GL.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function dB(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=WM(e)}}}function pB(e,t){return class extends e{get color(){return this._color}set color(e){const n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.color=t}}}function mB(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new A}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,r=this.ngControl?this.ngControl.control:null,i=n.isErrorState(r,t);i!==e&&(this.errorState=i,this.stateChanges.next())}}}uB.decorators=[{type:Ch,args:[{imports:[SF],exports:[SF]}]}],uB.ctorParameters=()=>[{type:Boolean,decorators:[{type:ve},{type:ye,args:[hB]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[nA]}]}];const fB=new Be("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Xe(Rh)}});class gB{constructor(){this._localeChanges=new A}get localeChanges(){return this._localeChanges}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const yB=new Be("mat-date-formats");let vB;try{vB="undefined"!=typeof Intl}catch(JK){vB=!1}const _B={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},bB=EB(31,e=>String(e+1)),wB={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},CB=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function EB(e,t){const n=Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n}class SB extends gB{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(vB){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return EB(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return _B[e]}getDateNames(){if(vB){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return EB(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return bB}getDayOfWeekNames(e){if(vB){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return EB(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return wB[e]}getYearName(e){if(vB){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(e,t,n);if(r.getMonth()!=t)throw Error(`Invalid date "${n}" for month with index "${t}".`);return r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(vB){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign({},t,{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(CB.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const r=new Date(e,t,n);return e>=0&&e<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}SB.decorators=[{type:oo}],SB.ctorParameters=()=>[{type:String,decorators:[{type:ve},{type:ye,args:[fB]}]},{type:LM}];class xB{}xB.decorators=[{type:Ch,args:[{imports:[jM],providers:[{provide:gB,useClass:SB}]}]}];const kB={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};(class{}).decorators=[{type:Ch,args:[{imports:[xB],providers:[{provide:yB,useValue:kB}]}]}];(class{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))}}).decorators=[{type:oo}];class TB{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}TB.decorators=[{type:oo,args:[{providedIn:"root"}]}],TB.ngInjectableDef=xe({factory:function(){return new TB},token:TB,providedIn:"root"});const OB=new Be("MAT_HAMMER_OPTIONS"),AB=["longpress","slide","slidestart","slideend","slideright","slideleft"],IB={on:()=>{},off:()=>{}};class DB extends rA{constructor(e,t){super(),this._hammerOptions=e,this.events=AB,t&&t._checkHammerIsAvailable()}buildHammer(e){const t="undefined"!=typeof window?window.Hammer:null;if(!t)return IB;const n=new t(e,this._hammerOptions||void 0),r=new t.Pan,i=new t.Swipe,s=new t.Press,o=this._createRecognizer(r,{event:"slide",threshold:0},i),a=this._createRecognizer(s,{event:"longpress",time:500});return r.recognizeWith(i),a.recognizeWith(o),n.add([i,s,r,o,a]),n}_createRecognizer(e,t,...n){let r=new e.constructor(t);return n.push(e),n.forEach(e=>r.recognizeWith(e)),r}}DB.decorators=[{type:oo}],DB.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:ye,args:[OB]}]},{type:uB,decorators:[{type:ve}]}];class PB{}PB.decorators=[{type:dh,args:[{selector:"[mat-line], [matLine]",host:{class:"mat-line"}}]}];(class{}).decorators=[{type:Ch,args:[{imports:[uB],exports:[PB,uB],declarations:[PB]}]}];const NB={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};NB[NB.FADING_IN]="FADING_IN",NB[NB.VISIBLE]="VISIBLE",NB[NB.FADING_OUT]="FADING_OUT",NB[NB.HIDDEN]="HIDDEN";class RB{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=NB.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const MB={enterDuration:450,exitDuration:400},FB=UM({passive:!0});class LB{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=e=>{const t=function(e){return 0===e.buttons}(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))},this._onTouchStart=e=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{const t=e.state===NB.VISIBLE||e.config.terminateOnPointerUp&&e.state===NB.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))},r.isBrowser&&(this._containerElement=YM(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},MB,n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");var h;c.classList.add("mat-ripple-element"),c.style.left=`${o-s}px`,c.style.top=`${a-s}px`,c.style.height=`${2*s}px`,c.style.width=`${2*s}px`,c.style.backgroundColor=n.color||null,c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),h=c,window.getComputedStyle(h).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new RB(this,c,n);return u.state=NB.FADING_IN,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=NB.VISIBLE,n.persistent||e&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign({},MB,e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=NB.FADING_OUT,this._runTimeoutOutsideZone(()=>{e.state=NB.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=YM(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>{t.addEventListener(n,e,FB)})}),this._triggerElement=t)}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((e,t)=>{this._triggerElement.removeEventListener(t,e,FB)})}}const jB=new Be("mat-ripple-global-options");class $B{constructor(e,t,n,r,i){this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new LB(this,t,e,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,e))}}$B.decorators=[{type:dh,args:[{selector:"[mat-ripple], [matRipple]",exportAs:"matRipple",host:{class:"mat-ripple","[class.mat-ripple-unbounded]":"unbounded"}}]}],$B.ctorParameters=()=>[{type:ka},{type:eu},{type:LM},{type:void 0,decorators:[{type:ve},{type:ye,args:[jB]}]},{type:String,decorators:[{type:ve},{type:ye,args:[nB]}]}],$B.propDecorators={color:[{type:fh,args:["matRippleColor"]}],unbounded:[{type:fh,args:["matRippleUnbounded"]}],centered:[{type:fh,args:["matRippleCentered"]}],radius:[{type:fh,args:["matRippleRadius"]}],animation:[{type:fh,args:["matRippleAnimation"]}],disabled:[{type:fh,args:["matRippleDisabled"]}],trigger:[{type:fh,args:["matRippleTrigger"]}]};class BB{}BB.decorators=[{type:Ch,args:[{imports:[uB,jM],exports:[$B,uB],declarations:[$B]}]}];class VB{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}VB.decorators=[{type:ph,args:[{encapsulation:ht.None,changeDetection:lt.OnPush,selector:"mat-pseudo-checkbox",styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],template:"",host:{class:"mat-pseudo-checkbox","[class.mat-pseudo-checkbox-indeterminate]":'state === "indeterminate"',"[class.mat-pseudo-checkbox-checked]":'state === "checked"',"[class.mat-pseudo-checkbox-disabled]":"disabled","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"'}}]}],VB.ctorParameters=()=>[{type:String,decorators:[{type:ve},{type:ye,args:[nB]}]}],VB.propDecorators={state:[{type:fh}],disabled:[{type:fh}]};class UB{}UB.decorators=[{type:Ch,args:[{exports:[VB],declarations:[VB]}]}];const zB=dB(class{});let HB=0;class qB extends zB{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${HB++}`}}qB.decorators=[{type:ph,args:[{selector:"mat-optgroup",exportAs:"matOptgroup",template:'<label class="mat-optgroup-label" [id]="_labelId">{{ label }}<ng-content></ng-content></label><ng-content select="mat-option, ng-container"></ng-content>',encapsulation:ht.None,changeDetection:lt.OnPush,inputs:["disabled"],styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}"],host:{class:"mat-optgroup",role:"group","[class.mat-optgroup-disabled]":"disabled","[attr.aria-disabled]":"disabled.toString()","[attr.aria-labelledby]":"_labelId"}}]}],qB.propDecorators={label:[{type:fh}]};let WB=0;class GB{constructor(e,t=!1){this.source=e,this.isUserInput=t}}const QB=new Be("MAT_OPTION_PARENT_COMPONENT");class KB{constructor(e,t,n,r){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${WB++}`,this.onSelectionChange=new ch,this._stateChanges=new A}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=WM(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||xM(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new GB(this,e))}}KB.decorators=[{type:ph,args:[{selector:"mat-option",exportAs:"matOption",host:{role:"option","[attr.tabindex]":"_getTabIndex()","[class.mat-selected]":"selected","[class.mat-option-multiple]":"multiple","[class.mat-active]":"active","[id]":"id","[attr.aria-selected]":"_getAriaSelected()","[attr.aria-disabled]":"disabled.toString()","[class.mat-option-disabled]":"disabled","(click)":"_selectViaInteraction()","(keydown)":"_handleKeydown($event)",class:"mat-option"},styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],template:'<mat-pseudo-checkbox *ngIf="multiple" class="mat-option-pseudo-checkbox" [state]="selected ? \'checked\' : \'\'" [disabled]="disabled"></mat-pseudo-checkbox><span class="mat-option-text"><ng-content></ng-content></span><div class="mat-option-ripple" mat-ripple [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="disabled || disableRipple"></div>',encapsulation:ht.None,changeDetection:lt.OnPush}]}],KB.ctorParameters=()=>[{type:ka},{type:qs},{type:void 0,decorators:[{type:ve},{type:ye,args:[QB]}]},{type:qB,decorators:[{type:ve}]}],KB.propDecorators={value:[{type:fh}],id:[{type:fh}],disabled:[{type:fh}],onSelectionChange:[{type:gh}]};(class{}).decorators=[{type:Ch,args:[{imports:[BB,iO,UB],exports:[KB,qB],declarations:[KB,qB]}]}];const YB=new Be("mat-label-global-options");class XB{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const ZB=[vR("void, exit",yR({opacity:0,transform:"scale(0.7)"})),vR("enter",yR({transform:"none"})),_R("* => enter",fR("150ms cubic-bezier(0, 0, 0.2, 1)",yR({transform:"none",opacity:1}))),_R("* => void, * => exit",fR("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",yR({opacity:0})))],JB={dialogContainer:mR("dialogContainer",ZB),slideDialog:mR("slideDialog",ZB)};function eV(){throw Error("Attempting to attach dialog content after content is already attached")}class tV extends yM{constructor(e,t,n,r,i){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._document=r,this._config=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new ch,this._ariaLabelledBy=i.ariaLabelledBy||null}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&eV(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&eV(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}_trapFocus(){const e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const t=this._document.activeElement;t===e||e.contains(t)||e.focus()}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}tV.decorators=[{type:ph,args:[{selector:"mat-dialog-container",template:"<ng-template cdkPortalOutlet></ng-template>",styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:ht.None,changeDetection:lt.Default,animations:[JB.dialogContainer],host:{class:"mat-dialog-container",tabindex:"-1","aria-modal":"true","[attr.id]":"_id","[attr.role]":"_config.role","[attr.aria-labelledby]":"_config.ariaLabel ? null : _ariaLabelledBy","[attr.aria-label]":"_config.ariaLabel","[attr.aria-describedby]":"_config.ariaDescribedBy || null","[@dialogContainer]":"_state","(@dialogContainer.start)":"_onAnimationStart($event)","(@dialogContainer.done)":"_onAnimationDone($event)"}}]}],tV.ctorParameters=()=>[{type:ka},{type:dF},{type:qs},{type:void 0,decorators:[{type:ve},{type:ye,args:[oO]}]},{type:XB}],tV.propDecorators={_portalOutlet:[{type:Ho,args:[wM,{static:!0}]}]};let nV=0;class rV{constructor(e,t,n,r=`mat-dialog-${nV++}`){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new A,this._afterClosed=new A,this._beforeClosed=new A,this._state=0,t._id=r,t._animationStateChanged.pipe(KA(e=>"done"===e.phaseName&&"enter"===e.toState),fI(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(KA(e=>"done"===e.phaseName&&"exit"===e.toState),fI(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(KA(e=>27===e.keyCode&&!this.disableClose&&!xM(e))).subscribe(e=>{e.preventDefault(),this.close()})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(KA(e=>"start"===e.phaseName),fI(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const iV=new Be("MatDialogData"),sV=new Be("mat-dialog-default-options"),oV=new Be("mat-dialog-scroll-strategy");const aV={provide:oV,deps:[$L],useFactory:function(e){return()=>e.scrollStrategies.block()}};class lV{constructor(e,t,n,r,i,s,o){this._overlay=e,this._injector=t,this._location=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new A,this._afterOpenedAtThisLevel=new A,this._ariaHiddenElements=new Map,this.afterAllClosed=GA(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(xI(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign({},t,e)}(t,this._defaultOptions||new XB)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),r=this._attachDialogContainer(n,t),i=this._attachDialogContent(e,r,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new SL({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new SM(n||this._injector,new WeakMap([[XB,t]])),i=new fM(tV,t.viewContainerRef,r,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,r){const i=new rV(n,t,this._location,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{i.disableClose||i.close()}),e instanceof Xa)t.attachTemplatePortal(new gM(e,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,t),s=t.attachComponentPortal(new fM(e,void 0,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(e,t,n){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=new WeakMap([[tV,n],[iV,e.data],[rV,t]]);return!e.direction||r&&r.get(CF,null)||i.set(CF,{value:e.direction,change:BA()}),new SM(r||this._injector,i)}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}lV.decorators=[{type:oo}],lV.ctorParameters=()=>[{type:$L},{type:ho},{type:Vx,decorators:[{type:ve}]},{type:XB,decorators:[{type:ve},{type:ye,args:[sV]}]},{type:void 0,decorators:[{type:ye,args:[oV]}]},{type:lV,decorators:[{type:ve},{type:be}]},{type:DL}];let cV=0;class hV{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=mV(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}}hV.decorators=[{type:dh,args:[{selector:"[mat-dialog-close], [matDialogClose]",exportAs:"matDialogClose",host:{"(click)":"dialogRef.close(dialogResult)","[attr.aria-label]":"ariaLabel || null","[attr.type]":"type"}}]}],hV.ctorParameters=()=>[{type:rV,decorators:[{type:ve}]},{type:ka},{type:lV}],hV.propDecorators={ariaLabel:[{type:fh,args:["aria-label"]}],type:[{type:fh}],dialogResult:[{type:fh,args:["mat-dialog-close"]}],_matDialogClose:[{type:fh,args:["matDialogClose"]}]};class uV{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n,this.id=`mat-dialog-title-${cV++}`}ngOnInit(){this._dialogRef||(this._dialogRef=mV(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}uV.decorators=[{type:dh,args:[{selector:"[mat-dialog-title], [matDialogTitle]",exportAs:"matDialogTitle",host:{class:"mat-dialog-title","[id]":"id"}}]}],uV.ctorParameters=()=>[{type:rV,decorators:[{type:ve}]},{type:ka},{type:lV}],uV.propDecorators={id:[{type:fh}]};class dV{}dV.decorators=[{type:dh,args:[{selector:"[mat-dialog-content], mat-dialog-content, [matDialogContent]",host:{class:"mat-dialog-content"}}]}];class pV{}function mV(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}pV.decorators=[{type:dh,args:[{selector:"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]",host:{class:"mat-dialog-actions"}}]}];class fV{}fV.decorators=[{type:Ch,args:[{imports:[iO,qL,EM,uB],exports:[tV,hV,uV,dV,pV,uB],declarations:[tV,hV,uV,pV,dV],providers:[lV,aV],entryComponents:[tV]}]}];let gV=class{constructor(e,t){this.data=e,this.dialogRef=t,this.yes=new ch,this.no=new ch,this.handleBtnYes=()=>{console.log("yes"),this.yes.emit("yes pressed")},this.handleBtnNo=()=>{console.log("no"),this.no.emit("no pressed")}}ngOnInit(){}};gV.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[iV]}]},{type:rV}],r.b([gh()],gV.prototype,"yes",void 0),r.b([gh()],gV.prototype,"no",void 0),gV=r.b([ph({selector:"app-temp-dialog",template:r.c(n("UmqL")).default,styles:[r.c(n("ej1j")).default]}),r.e(0,ye(iV))],gV);let yV=class{constructor(e,t,n,r,i,s){this.authoritativeService=e,this.activatedRoute=t,this.tplapi=n,this.toaster=r,this.router=i,this.dialog=s,this.clickOnImage=e=>{var t=this.dialog.open(gV,{data:{btnNo:"Delete",btnYes:"View",description:"You selected an image, what you do want to do with it?",title:"Image selected!"}});t.componentInstance.no.subscribe(n=>{this.toaster.info("Deleting image!");var r=this.suspect.pictures.indexOf(e);r>-1&&(this.suspect.pictures.splice(r,1),this.updateSuspect()),t.close()}),t.componentInstance.yes.subscribe(n=>{this.toaster.succ(n),window.open(e,"_blank"),t.close()})},this.viewAlert=e=>{console.log("working"),this.router.navigate(["authoritative/alert/"+e._id])},this.alerts=[],this.scaledSize={width:30,height:30},this.comsats={zoom:16,longitude:73.156456,latitude:33.651592},this.paths={},this.tpl=[],this.generatePaths=()=>{for(var e=0;e<this.alerts.length;e++){var t=this.alerts[e],n=t.suspectId._id,r=Object.keys(this.paths),i={lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)};r.indexOf(n)>-1?this.paths[n].push(i):this.paths[n]=[i]}this.paths_keys=Object.keys(this.paths),this.tpl=[],this.paths_keys.forEach(e=>{var t=this.paths[e];this.tplapi.getRoute(t).subscribe(e=>{e.err||e.error?this.toaster.err(e.err||e.error):this.tpl.push(e.p[0].p)},e=>{console.log(e)})})},this.suspect={_id:"",fullName:"",gender:"",pictures:[],tags:[]},this.uploadFiles=()=>{this.uploader.uploadAll(),this.toaster.info("pictures are being uploaded")},this.showUnitOnMap=(e,t)=>{console.log(e);for(var n=0;n<t.length;n++)if(t[n]._id==e){console.log("found");var r=t[n];console.log(r.latitude,r.longitude),this.comsats.latitude=parseFloat(r.latitude),this.comsats.longitude=parseFloat(r.longitude);break}},this.deleteSuspect=()=>{this.toaster.info("Deleting suspect! Please wait"),this.authoritativeService.deleteSuspect(this.suspectId).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(this.toaster.succ(e.succ),this.router.navigate(["/authoritative/home"]))},e=>{this.toaster.err(e)},()=>{})},this.updateSuspect=()=>{this.toaster.info("Updating suspect! Please wait"),this.authoritativeService.updateSuspect(this.suspect).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.toaster.succ(e.succ),this.suspect=e.suspect)},e=>{this.toaster.err(e)},()=>{})}}updateSuspectTags(e){console.log(e),this.suspect.tags=e}ngOnInit(){this.suspectId=this.activatedRoute.snapshot.paramMap.get("suspectId"),this.uploader=new lM({url:"https://darts-web-server.herokuapp.com/authoritative/suspects/"+this.suspectId+"/picture",method:"PUT",itemAlias:"picture"}),this.uploader.response.subscribe(e=>{(e=JSON.parse(e)).err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.toaster.succ(e.succ),this.suspect=e.suspect,this.suspect.pictures.push(e.frame_url),console.log(this.suspect))},e=>{this.toaster.err(e)},()=>{}),this.authoritativeService.getSuspect(this.suspectId).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.suspect=e.suspect)},e=>{this.toaster.err(e)},()=>{}),this.authoritativeService.getSuspectAlerts(this.suspectId).subscribe(e=>{if(e.err)this.toaster.err(e.err.message);else if(e.succ||!e.err){this.alerts=e.alerts,this.alerts.length>0&&(this.comsats.latitude=this.alerts[0].latitude,this.comsats.longitude=this.alerts[0].longitude),console.log(this.alerts[0].latitude,this.alerts[0].longitude);for(var t=0;t<this.alerts.length;t++){var n=this.alerts[t];n.icon={url:n.suspectId.pictures[0],scaledSize:this.scaledSize}}this.generatePaths()}},e=>{this.toaster.err(e)},()=>{})}};yV.ctorParameters=()=>[{type:tM},{type:BD},{type:dM},{type:qR},{type:tN},{type:lV}],yV=r.b([ph({selector:"app-view-suspect",template:r.c(n("bUol")).default,styles:[r.c(n("JG8K")).default]})],yV);let vV=class{constructor(e,t){this.adminService=e,this.toaster=t,this.result="Click on yes to start the process",this.autoAssign=()=>{this.result="",this.result+="Started\n",this.adminService.autoAssign().subscribe(e=>{e.err?(this.toaster.err(e.err.message),this.result+=e.err.message+"\n"):!e.succ&&e.err||(console.log(e),this.result+=e.succ.message+"\n")},e=>{this.toaster.err(e),this.result+=e+"\n"},()=>{})}}ngOnInit(){}};vV.ctorParameters=()=>[{type:dR},{type:qR}],vV=r.b([ph({selector:"app-auto-assign-camera",template:r.c(n("pLt3")).default,styles:[r.c(n("sXnP")).default]})],vV);let _V=class{constructor(e,t,n){this.adminService=e,this.router=t,this.toaster=n,this.name="",this.url="https://darts-web-server.herokuapp.com/admin/qrunit/person/",this.person={fullName:"",gender:""},this.people=[],this.col=["ID","Full Name","Gender","Picture","Actions"],this.members=[],this.qrunit={name:"",members:[]},this.removeMember=(e,t)=>{var n=this.members.splice(e,1);this.people.push(n[0])},this.personPictureSelected=e=>{console.log("File selected",e)},this.addPerson=()=>{console.log("works"),this.uploader.queue.length<=0?this.toaster.err("Please provide a picture!"):(this.uploader.uploadAll(),this.toaster.info("Please wait!"))},this.addAsMember=(e,t)=>{this.members.push(e),this.people.splice(t,1),console.log(t)},this.addQRUnit=()=>{this.qrunit.members=[];for(var e=0;e<this.members.length;e++)this.qrunit.members.push(this.members[e]._id);this.adminService.addQRUnit(this.qrunit).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["admin/qrunit/authenticate/"+e.auth_id]))},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){this.uploader=new lM({url:"http://localhost:3000/admin/qrunit/person/",method:"POST",itemAlias:"picture"}),this.uploader.response.subscribe(e=>{(e=JSON.parse(e)).err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.people.push(e.person),this.toaster.succ(e.succ.message),this.person.fullName="",this.person.gender="")},e=>{this.toaster.err(e)},()=>{}),this.uploader.onBuildItemForm=(e,t)=>{t.append("person",JSON.stringify(this.person))},this.adminService.getAvailablePeople().subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.people=e.people)},e=>{this.toaster.err(e)},()=>{})}};_V.ctorParameters=()=>[{type:dR},{type:tN},{type:qR}],_V=r.b([ph({selector:"app-add-qrunit",template:r.c(n("LRQ1")).default,styles:[r.c(n("C+Wy")).default]})],_V);let bV=class{constructor(e){this.activatedRoute=e,this.authId=""}ngOnInit(){this.authId=this.activatedRoute.snapshot.paramMap.get("authId")}};bV.ctorParameters=()=>[{type:BD}],bV=r.b([ph({selector:"app-qrunit-login-with-qrcode",template:r.c(n("8Fi6")).default,styles:[r.c(n("8IGC")).default]})],bV);let wV=class{constructor(e,t,n){this.authoritativeService=e,this.router=t,this.toaster=n,this.url="https://darts-web-server.herokuapp.com/authoritative/admin/person/",this.priv=[{name:"manage servers",checked:!1},{name:"manage cameras",checked:!1}],this.person={fullName:"",gender:""},this.name="",this.admin={email:"",personId:"",privileges:[]},this.people=[],this.personSelected={},this.personPictureSelected=e=>{console.log("File selected",e)},this.addPerson=()=>{console.log("works"),this.uploader.queue.length<=0?this.toaster.err("Please provide a picture!"):(this.uploader.uploadAll(),this.toaster.info("Please wait!"))},this.selectPerson=(e,t)=>{this.personSelected=e,this.admin.personId=e._id,console.log(t)},this.resetSelection=()=>{this.admin.personId=""},this.addAdmin=()=>{this.admin.privileges=[];for(var e=0;e<this.priv.length;e++)this.priv[e].checked&&this.admin.privileges.push(this.priv[e].name);this.authoritativeService.addAdmin(this.admin).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["authoritative/home/"]))},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){this.uploader=new lM({url:"http://localhost:3000/authoritative/admin/person/",method:"POST",itemAlias:"picture"}),this.uploader.response.subscribe(e=>{(e=JSON.parse(e)).err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.people.push(e.person),this.toaster.succ(e.succ.message),this.person.fullName="",this.person.gender="",this.selectPerson(e.person,0))},e=>{this.toaster.err(e)},()=>{}),this.uploader.onBuildItemForm=(e,t)=>{t.append("person",JSON.stringify(this.person))},this.authoritativeService.getAvailablePeopleAdmin().subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.people=e.people)},e=>{this.toaster.err(e)},()=>{})}personAdded(e){this.people.push(e),this.selectPerson(e,0)}};wV.ctorParameters=()=>[{type:tM},{type:tN},{type:qR}],wV=r.b([ph({selector:"app-add-admin",template:r.c(n("yDNF")).default,styles:[r.c(n("/8dp")).default]})],wV);let CV=class{constructor(e,t,n){this.authoritativeService=e,this.router=t,this.toaster=n,this.priv=[{name:"manage suspects",checked:!1},{name:"view map",checked:!1}],this.person={fullName:"",gender:""},this.name="",this.ap={email:"",personId:"",privileges:[]},this.people=[],this.personSelected={},this.personPictureSelected=e=>{console.log("File selected",e)},this.addPerson=()=>{console.log("works"),this.uploader.queue.length<=0?this.toaster.err("Please provide a picture!"):(this.uploader.uploadAll(),this.toaster.info("Please wait!"))},this.selectPerson=(e,t)=>{this.personSelected=e,this.ap.personId=e._id,console.log(t)},this.resetSelection=()=>{this.ap.personId=""},this.addAp=()=>{this.ap.privileges=[];for(var e=0;e<this.priv.length;e++)this.priv[e].checked&&this.ap.privileges.push(this.priv[e].name);this.authoritativeService.addAp(this.ap).subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.toaster.succ(e.succ.message),this.router.navigate(["authoritative/home/"]))},e=>{this.toaster.err(e)},()=>{})}}ngOnInit(){this.uploader=new lM({url:"http://localhost:3000/authoritative/admin/person/",method:"POST",itemAlias:"picture"}),this.uploader.response.subscribe(e=>{(e=JSON.parse(e)).err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.people.push(e.person),this.toaster.succ(e.succ.message),this.person.fullName="",this.person.gender="",this.selectPerson(e.person,0))},e=>{this.toaster.err(e)},()=>{}),this.uploader.onBuildItemForm=(e,t)=>{t.append("person",JSON.stringify(this.person))},this.authoritativeService.getAvailablePeopleAuthoritative().subscribe(e=>{e.err?this.toaster.err(e.err.message):e.succ&&(this.people=e.people)},e=>{this.toaster.err(e)},()=>{})}personAdded(e){this.people.push(e),this.selectPerson(e,0)}};CV.ctorParameters=()=>[{type:tM},{type:tN},{type:qR}],CV=r.b([ph({selector:"app-add-authoritative",template:r.c(n("6Z7b")).default,styles:[r.c(n("Npq/")).default]})],CV);class EV{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new SV(e,this.observables,this.project))}}class SV extends U{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let e=t[i];this.add(V(this,e,e,i))}}notifyNext(e,t,n,r,i){this.values[n]=t;const s=this.toRespond;if(s.length>0){const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class xV{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new kV(e,this.predicate))}}class kV extends g{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}class TV extends E{constructor(e,t=0,n=IF){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!FF(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=IF)}static create(e,t=0,n=IF){return new TV(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){const t=this.delayTime,n=this.source;return this.scheduler.schedule(TV.dispatch,t,{source:n,subscriber:e})}}class OV{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new TV(t,this.delay,this.scheduler).subscribe(e)}}var AV=n("Wcq6");function IV(){}class DV{constructor(e,t=qF){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule((function(t){r.runGuarded(()=>{e.apply(this,[t])})}),t,n)}}class PV{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",IV,{},IV,IV)),t.pipe(rI(n,n,n)).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class NV{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new DV(Zone.current)),this.insideAngular=e.run(()=>new DV(Zone.current,IM))}}function RV(e,t){return function(t){return(t=t.lift(new PV(e.ngZone))).pipe(function(e,t=0){return function(n){return n.lift(new OV(e,t))}}(e.outsideAngular),function(e,t=0){return function(n){return n.lift(new YF(e,t))}}(e.insideAngular))}}const MV=new Be("angularfire2.app.options"),FV=new Be("angularfire2.app.nameOrConfig");const LV=new Na("6.0.0");function jV(e,t,n){const r="string"==typeof n&&n||"[DEFAULT]",i="object"==typeof n&&n||{};return i.name=i.name||r,AV.apps.filter(e=>e&&e.name===i.name)[0]||t.runOutsideAngular(()=>Object(AV.initializeApp)(e,i))}const $V={provide:class{},useFactory:jV,deps:[MV,eu,[new ve,FV]]};class BV{constructor(e){Object(AV.registerVersion)("angularfire",LV.full,e.toString()),Object(AV.registerVersion)("angular",Ra.full)}static initializeApp(e,t){return{ngModule:BV,providers:[{provide:MV,useValue:e},{provide:FV,useValue:t}]}}}BV.decorators=[{type:Ch,args:[{providers:[$V]}]}],BV.ctorParameters=()=>[{type:Object,decorators:[{type:ye,args:[Ih]}]}];n("NSPt");function VV(e){return null==e}function UV(e){return"function"==typeof e.set}function zV(e,t){return UV(t)?t:e.ref(t)}function HV(e,t){if("string"==typeof e)return t.stringCase();if(UV(e))return t.firebaseCase();if(function(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function qV(e,t,n="on",r=IM){return new E(i=>{let s=null;return s=e[n](t,(e,t)=>{r.schedule(()=>{i.next({snapshot:e,prevKey:t})}),"once"==n&&r.schedule(()=>i.complete())},e=>{r.schedule(()=>i.error(e))}),"on"==n?{unsubscribe(){null!=s&&e.off(t,s)}}:{unsubscribe(){}}}).pipe(z(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),ce())}function WV(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function GV(e,t){const{payload:n,type:r,prevKey:i,key:s}=t,o=WV(e,s),a=function(e,t){if(VV(t))return 0;{const n=WV(e,t);return-1===n?e.length:n+1}}(e,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(o>-1){const r=e[o-1];(r&&r.key||null)!=i&&(e=e.filter(e=>e.payload.key!==n.key)).splice(a,0,t)}else{if(null==i)return[t,...e];(e=e.slice()).splice(a,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===s?t:e);case"child_moved":if(o>-1){const t=e.splice(o,1)[0];return(e=e.slice()).splice(a,0,t),e}return e;default:return e}}function QV(e){return(VV(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function KV(e,t,n){return function(e,t,n){return qV(e,"value","once",n).pipe(wI(r=>{const i=[BA(r)];return t.forEach(t=>i.push(qV(e,t,"on",n))),J(...i).pipe(kI(GV,[]))}),DF())}(e,t=QV(t),n)}function YV(e,t,n){return J(...(t=QV(t)).map(t=>qV(e,t,"on",n)))}function XV(e,t,n){return function(e,t,n){return function(e,t){return qV(e,"value","on",t).pipe(z(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(function(...e){return t=>{let n;"function"==typeof e[e.length-1]&&(n=e.pop());const r=e;return t.lift(new EV(r,n))}}(t),z(([e,t])=>{let n=e.lastKeyToLoad;const r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(r=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new xV(r))),z(e=>e.actions));var r}(e,YV(e,t).pipe(kI((e,t)=>[...e,t],[])),n)}function ZV(e,t){return function(n,r){return HV(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function JV(e,t){return function(){return qV(e,"value","on",t)}}const eU=new Be("angularfire2.realtimeDatabaseURL");class tU{constructor(e,t,n,r,i){this.schedulers=new NV(i),this.keepUnstableUntilFirst=RV(this.schedulers),this.database=i.runOutsideAngular(()=>jV(e,i,t).database(n||void 0))}list(e,t){const n=zV(this.database,e);let r=n;return t&&(r=t(n)),function(e,t){const n=t.schedulers.outsideAngular;return{query:e,update:ZV(e.ref,"update"),set:ZV(e.ref,"set"),push:t=>e.ref.push(t),remove:(r=e.ref,function(e){return e?HV(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}),snapshotChanges:r=>KV(e,r,n).pipe(t.keepUnstableUntilFirst),stateChanges:r=>YV(e,r,n).pipe(t.keepUnstableUntilFirst),auditTrail:r=>XV(e,r,n).pipe(t.keepUnstableUntilFirst),valueChanges:r=>KV(e,r,n).pipe(z(e=>e.map(e=>e.payload.val())),t.keepUnstableUntilFirst)};var r}(r,this)}object(e){const t=zV(this.database,e);return r=this,{query:n=t,snapshotChanges:()=>JV(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>JV(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,z(e=>e.payload.exists()?e.payload.val():null))};var n,r}createPushId(){return this.database.ref().push().key}}tU.decorators=[{type:oo,args:[{providedIn:"any"}]}],tU.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[MV]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[FV]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[eU]}]},{type:Object,decorators:[{type:ye,args:[Ih]}]},{type:eu}],tU.\u0275prov=xe({factory:function(){return new tU(Ye(MV),Ye(FV,8),Ye(eU,8),Ye(Ih),Ye(eu))},token:tU,providedIn:"any"});class nU{}nU.decorators=[{type:Ch,args:[{providers:[tU]}]}];let rU=class{constructor(e){this._db=e,this.getQRUnits=()=>this._db.object("/locations").valueChanges(),this.getAlerts=()=>this._db.object("/Alerts").valueChanges()}};rU.ctorParameters=()=>[{type:tU}],rU=r.b([oo({providedIn:"root"})],rU);let iU=class{constructor(e,t,n,r,i){this.fbdbs=e,this.apService=t,this.tplapi=n,this.router=r,this.toaster=i,this.viewLiveFeed=e=>{console.log("working"),this.router.navigate(["authoritative/live/"+e._id])},this.viewAlert=e=>{console.log("working"),this.router.navigate(["authoritative/alert/"+e._id])},this.search={query:"",results:[]},this.searchResults=[],this.searchLocation=e=>{""==e?this.search.results=[]:(console.log(e),this.apService.mSearchLocation(e).subscribe(e=>{console.log(e),e.err?this.toaster.err(e.err.message):this.search.results=e.locations.results},e=>{console.log(e)}))},this.moveMapOver=e=>{this.comsats.latitude=e.lat,this.comsats.longitude=e.lng,this.search.query="",this.search.results=[]},this.showQRUnit=e=>{console.log(e);for(var t=0;t<this.qrunits.length;t++)if(this.qrunits[t]._id==e){console.log("found");var n=this.qrunits[t];this.comsats.latitude=n.latitude,this.comsats.longitude=n.longitude;break}},this.showUnitOnMap=(e,t)=>{console.log(e);for(var n=0;n<t.length;n++)if(t[n]._id==e){console.log("found");var r=t[n];console.log(r.latitude,r.longitude),this.comsats.latitude=parseFloat(r.latitude),this.comsats.longitude=parseFloat(r.longitude);break}},this.filter={cameras:!0,servers:!0,qrunits:!0,alerts:!0,paths:!0},this.filter_keys=[],this.showRealTimeOperations=!0,this.comsats={zoom:16,longitude:73.156456,latitude:33.651592},this.scaledSize={width:30,height:30},this.labelOrigin={x:10,y:40},this.vehicle_icon={url:"./assets/images/map-icons/police.svg",scaledSize:this.scaledSize,labelOrigin:this.labelOrigin},this.camera_icon={url:"./assets/images/map-icons/cctv.svg",scaledSize:this.scaledSize,labelOrigin:this.labelOrigin},this.server_icon={url:"./assets/images/map-icons/database.svg",scaledSize:this.scaledSize,labelOrigin:this.labelOrigin},this.alert_icon={url:"./assets/images/map-icons/warning.svg",scaledSize:this.scaledSize,labelOrigin:this.labelOrigin},this.paths={},this.tpl={},this.tpl_keys=[],this.generatePaths=()=>{this.paths={};for(var e=0;e<this.alerts.length;e++){var t=this.alerts[e],n=t.suspectId._id,r=Object.keys(this.paths),i={lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)};r.indexOf(n)>-1?this.paths[n].push(i):this.paths[n]=[i]}this.paths_keys=Object.keys(this.paths),this.paths_keys.forEach(e=>{var t=e,n=this.paths[e];this.tplapi.getRoute(n).subscribe(e=>{e.err||e.error?this.toaster.err(e.err):(this.tpl[t]=e.p[0].p,this.tpl_keys=Object.keys(this.tpl))},e=>{console.log(e)})}),this.generateOnGoingOperationsPaths()},this.onGoingOperationsPaths={},this.onGoingOperationsPaths_keys=[],this.generateOnGoingOperationsPaths=()=>{null!=this.alerts&&(console.log("generating ongoing operations"),this.alerts.forEach(e=>{if(e.qrunit)if(e.closed_alert)delete this.onGoingOperationsPaths[e._id],this.onGoingOperationsPaths_keys=Object.keys(this.onGoingOperationsPaths);else{console.log("ongoing alert: "+e._id);let t=null;if(null!=this.qrunits&&this.qrunits.forEach(n=>{console.log(n,t,e),n._id==e.qrunit._id&&(t=n)}),null!=t){console.log("ongoing alert: ",e,", qrunit: ",t);let n=[];n.push({lat:t.latitude,lng:t.longitude}),n.push({lat:e.latitude,lng:e.longitude}),this.tplapi.getRoute(n).subscribe(t=>{if(t.err||t.error)this.toaster.err(t.err||t.error);else{let n=t.p[0].p;this.onGoingOperationsPaths[e._id]=n,this.onGoingOperationsPaths_keys=Object.keys(this.onGoingOperationsPaths)}},e=>{console.log(e)})}}}))},this.loadDataFromServer=()=>{this.apService.mGetCameras().subscribe(e=>{e.err?this.toaster.err(e.err):this.cameras=e.cameras},e=>{console.log(e)}),this.apService.mGetServers().subscribe(e=>{e.err?this.toaster.err(e.err):this.servers=e.servers},e=>{console.log(e)}),this.getAlertsFromServer(),this.apService.mGetQRUnits().subscribe(e=>{e.err?this.toaster.err(e.err):(this.qrunits=e.qrunits,this.getFirebaseUpdates())},e=>{console.log(e)})},this.getAlertsFromServer=()=>{this.apService.mGetAlerts().subscribe(e=>{if(e.err)this.toaster.err(e.err);else{this.alerts=e.alerts;for(var t=0;t<this.alerts.length;t++){this.alerts[t].icon=this.alert_icon}this.generatePaths()}},e=>{console.log(e)})},this.getFirebaseUpdates=()=>{this.fbdbs.getQRUnits().subscribe(e=>{this.items=[],Object.keys(e).map(t=>{var n=e[t];n._id=t,this.items.push(n);for(var r=0;r<this.qrunits.length;r++){var i=this.qrunits[r];if(i._id==t){i.longitude=n.longitude,i.latitude=n.latitude,this.qrunits[r]=i;break}}}),this.getAlertsFromServer()}),this.fbdbs.getAlerts().subscribe(e=>{this.getAlertsFromServer()})}}ngOnInit(){this.filter_keys=Object.keys(this.filter),console.log(this.filter_keys),this.loadDataFromServer()}};iU.ctorParameters=()=>[{type:rU},{type:tM},{type:dM},{type:tN},{type:qR}],iU=r.b([ph({selector:"app-test",template:r.c(n("M50W")).default,styles:[r.c(n("eouj")).default]})],iU);let sU=class{constructor(e,t,n){this.apService=e,this.activatedRoute=t,this.toaster=n,this.validCameraVideoUrl=!0,this.validServerVideoUrl=!0,this.videoOrigin="camera",this.servers=[]}ngOnInit(){this.cameraId=this.activatedRoute.snapshot.paramMap.get("cameraId"),this.apService.getCamera(this.cameraId).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.camera=e.camera,e.server&&(this.server=e.server))},e=>{this.toaster.err(e)},()=>{})}};sU.ctorParameters=()=>[{type:tM},{type:BD},{type:qR}],sU=r.b([ph({selector:"app-view-live-feed",template:r.c(n("iYqq")).default,styles:[r.c(n("+YLh")).default]})],sU);let oU=class{constructor(e,t,n){this.apService=e,this.activatedRoute=t,this.toaster=n,this.alertId="",this.alert={}}ngOnInit(){this.alertId=this.activatedRoute.snapshot.paramMap.get("alertId"),this.apService.getAlert(this.alertId).subscribe(e=>{e.err?this.toaster.err(e.err.message):!e.succ&&e.err||(console.log(e),this.alert=e.alert)},e=>{this.toaster.err(e)},()=>{})}};oU.ctorParameters=()=>[{type:tM},{type:BD},{type:qR}],oU=r.b([ph({selector:"app-view-alert",template:r.c(n("5EJm")).default,styles:[r.c(n("ODnt")).default]})],oU);let aU=class{constructor(e,t){this.dialog=e,this.toaster=t,this.location={}}open(){var e=this.dialog.open(gV,{data:{btnNo:"Delete",btnYes:"View",description:"You selected an image, what you do want to do with it?",title:"Image selected!"}});e.componentInstance.no.subscribe(t=>{this.toaster.err(t),e.close()}),e.componentInstance.yes.subscribe(t=>{this.toaster.succ(t),e.close()})}ngOnInit(){}};aU.ctorParameters=()=>[{type:lV},{type:qR}],aU=r.b([ph({selector:"app-tests-only",template:r.c(n("MYcZ")).default,styles:[r.c(n("TEEy")).default]})],aU);const lU=[{path:"",component:GR},{path:"admin/home",component:WR},{path:"admin/login",component:QR},{path:"admin/cameras/add",component:KR},{path:"admin/cameras/autoassign",component:vV},{path:"admin/cameras/:cameraId",component:YR},{path:"admin/servers/add",component:XR},{path:"admin/servers/:serverId",component:ZR},{path:"admin/qrunit/authenticate/:authId",component:bV},{path:"admin/qrunits/add",component:_V},{path:"authoritative/login",component:nM},{path:"authoritative/home",component:rM},{path:"authoritative/suspects/add",component:iM},{path:"authoritative/suspects/:suspectId",component:yV},{path:"authoritative/admins/add",component:wV},{path:"authoritative/authoritative/add",component:CV},{path:"authoritative/map",component:iU},{path:"authoritative/live/:cameraId",component:sU},{path:"authoritative/alert/:alertId",component:oU},{path:"test",component:aU}];let cU=class{};cU=r.b([Ch({imports:[_N.forRoot(lU)],exports:[_N]})],cU);let hU=class{constructor(e,t,n,r){this.adminService=e,this.authoritativeService=t,this.router=n,this.toaster=r,this.title="client",this.didAdminLogin=!1,this.didAuthoritativeLogin=!1}adminLogout(){this.toaster.info("Please wait! Working on it"),this.adminService.logout().subscribe(e=>{e.err?this.toaster.err(e.err.message):(this.toaster.succ(e.succ.message),this.router.navigate(["/"]))},e=>{console.error(e)},()=>{})}authoritativeLogout(){this.toaster.info("Please wait! Working on it"),this.authoritativeService.logout().subscribe(e=>{e.err?this.toaster.err(e.err.message):(this.toaster.succ(e.succ.message),this.router.navigate(["/"]))},e=>{console.error(e)},()=>{})}ngOnInit(){console.log("working"),this.adminService.isLoggedIn().subscribe(e=>{e.err?this.didAdminLogin=!1:this.didAdminLogin=!0,console.log(e)},e=>{console.error(e)},()=>{}),this.authoritativeService.isLoggedIn().subscribe(e=>{e.err?this.didAuthoritativeLogin=!1:this.didAuthoritativeLogin=!0,console.log(e)},e=>{console.error(e)},()=>{})}};function uU(...e){let t;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),0===e.length?LA:t?uU(e).pipe(z(e=>t(...e))):new E(t=>new dU(t,e))}hU.ctorParameters=()=>[{type:dR},{type:tM},{type:tN},{type:qR}],hU=r.b([ph({selector:"app-root",template:r.c(n("VzVu")).default,styles:[r.c(n("A3xY")).default]})],hU);class dU extends U{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=V(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}const pU=new Be("NgValueAccessor"),mU={provide:pU,useExisting:Pe(()=>fU),multi:!0};class fU{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}fU.decorators=[{type:dh,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[mU]}]}],fU.ctorParameters=()=>[{type:Da},{type:ka}];const gU={provide:pU,useExisting:Pe(()=>vU),multi:!0};const yU=new Be("CompositionEventMode");class vU{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=uO()?uO().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}vU.decorators=[{type:dh,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[gU]}]}],vU.ctorParameters=()=>[{type:Da},{type:ka},{type:Boolean,decorators:[{type:ve},{type:ye,args:[yU]}]}];class _U{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bU extends _U{get formDirective(){return null}get path(){return null}}function wU(){throw new Error("unimplemented")}class CU extends _U{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return wU()}get asyncValidator(){return wU()}}class EU{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const SU={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class xU extends EU{constructor(e){super(e)}}xU.decorators=[{type:dh,args:[{selector:"[formControlName],[ngModel],[formControl]",host:SU}]}],xU.ctorParameters=()=>[{type:CU,decorators:[{type:_e}]}];class kU extends EU{constructor(e){super(e)}}function TU(e){return null==e||0===e.length}kU.decorators=[{type:dh,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:SU}]}],kU.ctorParameters=()=>[{type:bU,decorators:[{type:_e}]}];const OU=new Be("NgValidators"),AU=new Be("NgAsyncValidators"),IU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class DU{static min(e){return t=>{if(TU(t.value)||TU(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(TU(t.value)||TU(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return TU(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return TU(e.value)?null:IU.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(TU(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return DU.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(TU(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(PU);return 0==t.length?null:function(e){return RU(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(PU);return 0==t.length?null:function(e){return uU(function(e,t){return t.map(t=>t(e))}(e,t).map(NU)).pipe(z(RU))}}}function PU(e){return null!=e}function NU(e){const t=ua(e)?G(e):e;if(!da(t))throw new Error("Expected validator to return Promise or Observable.");return t}function RU(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function MU(e){return e.validate?t=>e.validate(t):e}function FU(e){return e.validate?t=>e.validate(t):e}const LU={provide:pU,useExisting:Pe(()=>jU),multi:!0};class jU{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}jU.decorators=[{type:dh,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[LU]}]}],jU.ctorParameters=()=>[{type:Da},{type:ka}];const $U={provide:pU,useExisting:Pe(()=>VU),multi:!0};class BU{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)}}BU.decorators=[{type:oo}];class VU{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(CU),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}VU.decorators=[{type:dh,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[$U]}]}],VU.ctorParameters=()=>[{type:Da},{type:ka},{type:BU},{type:ho}],VU.propDecorators={name:[{type:fh}],formControlName:[{type:fh}],value:[{type:fh}]};const UU={provide:pU,useExisting:Pe(()=>zU),multi:!0};class zU{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}zU.decorators=[{type:dh,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[UU]}]}],zU.ctorParameters=()=>[{type:Da},{type:ka}];const HU='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',qU='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',WU='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',GU='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',QU='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ';class KU{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${HU}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${qU}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${GU}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${HU}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${qU}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${WU}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const YU={provide:pU,useExisting:Pe(()=>ZU),multi:!0};function XU(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class ZU{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Qo}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=XU(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}ZU.decorators=[{type:dh,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[YU]}]}],ZU.ctorParameters=()=>[{type:Da},{type:ka}],ZU.propDecorators={compareWith:[{type:fh}]};class JU{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(XU(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}JU.decorators=[{type:dh,args:[{selector:"option"}]}],JU.ctorParameters=()=>[{type:ka},{type:Da},{type:ZU,decorators:[{type:ve},{type:we}]}],JU.propDecorators={ngValue:[{type:fh,args:["ngValue"]}],value:[{type:fh,args:["value"]}]};const ez={provide:pU,useExisting:Pe(()=>nz),multi:!0};function tz(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class nz{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Qo}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}nz.decorators=[{type:dh,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ez]}]}],nz.ctorParameters=()=>[{type:Da},{type:ka}],nz.propDecorators={compareWith:[{type:fh}]};class rz{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(tz(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(tz(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function iz(e,t){return[...t.path,e]}function sz(e,t){e||cz(t,"Cannot find control with"),t.valueAccessor||cz(t,"No value accessor for form control with"),e.validator=DU.compose([e.validator,t.validator]),e.asyncValidator=DU.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&oz(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&oz(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function oz(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function az(e,t){null==e&&cz(t,"Cannot find control with"),e.validator=DU.compose([e.validator,t.validator]),e.asyncValidator=DU.composeAsync([e.asyncValidator,t.asyncValidator])}function lz(e){return cz(e,"There is no FormControl instance attached to form control element with")}function cz(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function hz(e){return null!=e?DU.compose(e.map(MU)):null}function uz(e){return null!=e?DU.composeAsync(e.map(FU)):null}function dz(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Qo(t,n.currentValue)}rz.decorators=[{type:dh,args:[{selector:"option"}]}],rz.ctorParameters=()=>[{type:ka},{type:Da},{type:nz,decorators:[{type:ve},{type:we}]}],rz.propDecorators={ngValue:[{type:fh,args:["ngValue"]}],value:[{type:fh,args:["value"]}]};const pz=[fU,zU,jU,ZU,nz,VU];function mz(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function fz(e,t){if(!t)return null;Array.isArray(t)||cz(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{var s;t.constructor===vU?n=t:(s=t,pz.some(e=>s.constructor===e)?(r&&cz(e,"More than one built-in value accessor matches form control with"),r=t):(i&&cz(e,"More than one custom value accessor matches form control with"),i=t))}),i||(r||(n||(cz(e,"No valid value accessor for form control with"),null)))}function gz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function yz(e,t,n,r){Hr()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(KU.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function vz(e){const t=bz(e)?e.validators:e;return Array.isArray(t)?hz(t):t||null}function _z(e,t){const n=bz(t)?t.asyncValidators:e;return Array.isArray(n)?uz(n):n||null}function bz(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class wz{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=vz(e)}setAsyncValidators(e){this.asyncValidator=_z(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=NU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Ez?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Sz&&e.at(t)||null,e))}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ch,this.statusChanges=new ch}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bz(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){const t=this._parent&&this._parent.dirty;return!e&&t&&!this._parent._anyControlsDirty()}}class Cz extends wz{constructor(e=null,t,n){super(vz(t),_z(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ez extends wz{constructor(e,t,n){super(vz(t),_z(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Cz?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Sz extends wz{constructor(e,t,n){super(vz(t),_z(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Cz?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const xz={provide:bU,useExisting:Pe(()=>Tz)},kz=Promise.resolve(null);class Tz extends bU{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ch,this.form=new Ez({},hz(e),uz(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){kz.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),sz(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){kz.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),gz(this._directives,e)})}addFormGroup(e){kz.then(()=>{const t=this._findContainer(e.path),n=new Ez({});az(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){kz.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){kz.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,mz(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}Tz.decorators=[{type:dh,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,ng-form,[ngForm]",providers:[xz],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Tz.ctorParameters=()=>[{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]}],Tz.propDecorators={options:[{type:fh,args:["ngFormOptions"]}]};class Oz{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${HU}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${QU}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${qU}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${GU}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${qU}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${GU}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Az=new Be("NgFormSelectorWarning");class Iz{constructor(e){(e&&"once"!==e||Iz._ngFormWarning)&&"always"!==e||(Oz.ngFormWarning(),Iz._ngFormWarning=!0)}}Iz._ngFormWarning=!1,Iz.decorators=[{type:dh,args:[{selector:"ngForm"}]}],Iz.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:ye,args:[Az]}]}];class Dz extends bU{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return iz(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return hz(this._validators)}get asyncValidator(){return uz(this._asyncValidators)}_checkParentType(){}}const Pz={provide:bU,useExisting:Pe(()=>Nz)};class Nz extends Dz{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Nz||this._parent instanceof Tz||Oz.modelGroupParentException()}}Nz.decorators=[{type:dh,args:[{selector:"[ngModelGroup]",providers:[Pz],exportAs:"ngModelGroup"}]}],Nz.ctorParameters=()=>[{type:bU,decorators:[{type:we},{type:be}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]}],Nz.propDecorators={name:[{type:fh,args:["ngModelGroup"]}]};const Rz={provide:CU,useExisting:Pe(()=>Fz)},Mz=Promise.resolve(null);class Fz extends CU{constructor(e,t,n,r){super(),this.control=new Cz,this._registered=!1,this.update=new ch,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=fz(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),dz(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?iz(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return hz(this._rawValidators)}get asyncValidator(){return uz(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sz(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Nz)&&this._parent instanceof Dz?Oz.formGroupNameException():this._parent instanceof Nz||this._parent instanceof Tz||Oz.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Oz.missingNameException()}_updateValue(e){Mz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Mz.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}Fz.decorators=[{type:dh,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Rz],exportAs:"ngModel"}]}],Fz.ctorParameters=()=>[{type:bU,decorators:[{type:ve},{type:we}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[pU]}]}],Fz.propDecorators={name:[{type:fh}],isDisabled:[{type:fh,args:["disabled"]}],model:[{type:fh,args:["ngModel"]}],options:[{type:fh,args:["ngModelOptions"]}],update:[{type:gh,args:["ngModelChange"]}]};class Lz{}Lz.decorators=[{type:dh,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}];const jz=new Be("NgModelWithFormControlWarning"),$z={provide:CU,useExisting:Pe(()=>Bz)};class Bz extends CU{constructor(e,t,n,r){super(),this._ngModelWarningConfig=r,this.update=new ch,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=fz(this,n)}set isDisabled(e){KU.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(sz(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),dz(e,this.viewModel)&&(yz("formControl",Bz,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return hz(this._rawValidators)}get asyncValidator(){return uz(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}Bz._ngModelWarningSentOnce=!1,Bz.decorators=[{type:dh,args:[{selector:"[formControl]",providers:[$z],exportAs:"ngForm"}]}],Bz.ctorParameters=()=>[{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[pU]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[jz]}]}],Bz.propDecorators={form:[{type:fh,args:["formControl"]}],isDisabled:[{type:fh,args:["disabled"]}],model:[{type:fh,args:["ngModel"]}],update:[{type:gh,args:["ngModelChange"]}]};const Vz={provide:bU,useExisting:Pe(()=>Uz)};class Uz extends bU{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new ch}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return sz(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){gz(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);az(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);az(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,mz(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(!function(e,t){t.valueAccessor.registerOnChange(()=>lz(t)),t.valueAccessor.registerOnTouched(()=>lz(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&sz(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=hz(this._validators);this.form.validator=DU.compose([this.form.validator,e]);const t=uz(this._asyncValidators);this.form.asyncValidator=DU.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||KU.missingFormException()}}Uz.decorators=[{type:dh,args:[{selector:"[formGroup]",providers:[Vz],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Uz.ctorParameters=()=>[{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]}],Uz.propDecorators={form:[{type:fh,args:["formGroup"]}],ngSubmit:[{type:gh}]};const zz={provide:bU,useExisting:Pe(()=>Hz)};class Hz extends Dz{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){Gz(this._parent)&&KU.groupParentException()}}Hz.decorators=[{type:dh,args:[{selector:"[formGroupName]",providers:[zz]}]}],Hz.ctorParameters=()=>[{type:bU,decorators:[{type:ve},{type:we},{type:be}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]}],Hz.propDecorators={name:[{type:fh,args:["formGroupName"]}]};const qz={provide:bU,useExisting:Pe(()=>Wz)};class Wz extends bU{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return iz(this.name,this._parent)}get validator(){return hz(this._validators)}get asyncValidator(){return uz(this._asyncValidators)}_checkParentType(){Gz(this._parent)&&KU.arrayParentException()}}function Gz(e){return!(e instanceof Hz||e instanceof Uz||e instanceof Wz)}Wz.decorators=[{type:dh,args:[{selector:"[formArrayName]",providers:[qz]}]}],Wz.ctorParameters=()=>[{type:bU,decorators:[{type:ve},{type:we},{type:be}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]}],Wz.propDecorators={name:[{type:fh,args:["formArrayName"]}]};const Qz={provide:CU,useExisting:Pe(()=>Kz)};class Kz extends CU{constructor(e,t,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new ch,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=fz(this,r)}set isDisabled(e){KU.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),dz(e,this.viewModel)&&(yz("formControlName",Kz,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return iz(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return hz(this._rawValidators)}get asyncValidator(){return uz(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Hz)&&this._parent instanceof Dz?KU.ngModelGroupException():this._parent instanceof Hz||this._parent instanceof Uz||this._parent instanceof Wz||KU.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}Kz._ngModelWarningSentOnce=!1,Kz.decorators=[{type:dh,args:[{selector:"[formControlName]",providers:[Qz]}]}],Kz.ctorParameters=()=>[{type:bU,decorators:[{type:ve},{type:we},{type:be}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[OU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[AU]}]},{type:Array,decorators:[{type:ve},{type:_e},{type:ye,args:[pU]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[jz]}]}],Kz.propDecorators={name:[{type:fh,args:["formControlName"]}],isDisabled:[{type:fh,args:["disabled"]}],model:[{type:fh,args:["ngModel"]}],update:[{type:gh,args:["ngModelChange"]}]};const Yz={provide:OU,useExisting:Pe(()=>Zz),multi:!0},Xz={provide:OU,useExisting:Pe(()=>Jz),multi:!0};class Zz{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?DU.required(e):null}registerOnValidatorChange(e){this._onChange=e}}Zz.decorators=[{type:dh,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Yz],host:{"[attr.required]":'required ? "" : null'}}]}],Zz.propDecorators={required:[{type:fh}]};class Jz extends Zz{validate(e){return this.required?DU.requiredTrue(e):null}}Jz.decorators=[{type:dh,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[Xz],host:{"[attr.required]":'required ? "" : null'}}]}];const eH={provide:OU,useExisting:Pe(()=>tH),multi:!0};class tH{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?DU.email(e):null}registerOnValidatorChange(e){this._onChange=e}}tH.decorators=[{type:dh,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[eH]}]}],tH.propDecorators={email:[{type:fh}]};const nH={provide:OU,useExisting:Pe(()=>rH),multi:!0};class rH{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=DU.minLength(parseInt(this.minlength,10))}}rH.decorators=[{type:dh,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[nH],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],rH.propDecorators={minlength:[{type:fh}]};const iH={provide:OU,useExisting:Pe(()=>sH),multi:!0};class sH{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=DU.maxLength(parseInt(this.maxlength,10))}}sH.decorators=[{type:dh,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[iH],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],sH.propDecorators={maxlength:[{type:fh}]};const oH={provide:OU,useExisting:Pe(()=>aH),multi:!0};class aH{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=DU.pattern(this.pattern)}}aH.decorators=[{type:dh,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[oH],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],aH.propDecorators={pattern:[{type:fh}]};const lH=[Lz,JU,rz,vU,jU,zU,fU,ZU,nz,VU,xU,kU,Zz,rH,sH,aH,Jz,tH],cH=[Fz,Nz,Tz,Iz],hH=[Bz,Uz,Kz,Hz,Wz];class uH{}uH.decorators=[{type:Ch,args:[{declarations:lH,exports:lH}]}];class dH{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,s=void 0;return null!=t&&(!function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null):(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0)),new Ez(n,{asyncValidators:i,updateOn:s,validators:r})}control(e,t,n){return new Cz(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new Sz(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){if(e instanceof Cz||e instanceof Ez||e instanceof Sz)return e;if(Array.isArray(e)){const t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)}}dH.decorators=[{type:oo}];new Na("8.2.14");class pH{static withConfig(e){return{ngModule:pH,providers:[{provide:Az,useValue:e.warnOnDeprecatedNgFormSelector}]}}}pH.decorators=[{type:Ch,args:[{declarations:cH,providers:[BU],exports:[uH,cH]}]}];class mH{static withConfig(e){return{ngModule:mH,providers:[{provide:jz,useValue:e.warnOnNgModelWithFormControl}]}}}mH.decorators=[{type:Ch,args:[{declarations:[hH],providers:[dH,BU],exports:[uH,hH]}]}];var fH,gH=n("pqID"),yH=n.n(gH);class vH{constructor(e){this.config=e,this.subscribersCounter=0,this.emptyConfig={url:"",options:{}},void 0===e&&(e=this.emptyConfig);const t=e.url,n=e.options;var r=yH.a?yH.a:gH;this.ioSocket=r(t,n)}of(e){this.ioSocket.of(e)}on(e,t){this.ioSocket.on(e,t)}once(e,t){this.ioSocket.once(e,t)}connect(){return this.ioSocket.connect()}disconnect(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(e,t,n){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(e,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(e){return this.subscribersCounter++,E.create(t=>(this.ioSocket.on(e,e=>{t.next(e)}),()=>{1===this.subscribersCounter&&this.ioSocket.removeListener(e)})).pipe(ce())}fromOneTimeEvent(e){return new Promise(t=>this.once(e,t))}}function _H(e){return new vH(e)}const bH=new Be("__SOCKET_IO_CONFIG__");let wH=fH=class{static forRoot(e){return{ngModule:fH,providers:[{provide:bH,useValue:e},{provide:vH,useFactory:_H,deps:[bH]}]}}};wH=fH=Object(r.b)([Ch({})],wH);var CH=n("MTcp");var EH=n("54nT");n("AfW+");const SH=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);class xH{constructor(e){this.el=e,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,kH(this.el)}handleChangeEvent(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),kH(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),kH(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}}Object(r.b)([vh("ionBlur",["$event.target"])],xH.prototype,"_handleBlurEvent",null);const kH=e=>{SH(()=>{const t=e.nativeElement,n=TH(t);OH(t,n);const r=t.closest("ion-item");r&&OH(r,n)})},TH=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const e=t.item(r);null!==e&&AH(e,"ng-")&&n.push(`ion-${e.substr(3)}`)}return n},OH=(e,t)=>{const n=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(e=>n.remove(e)),t.forEach(e=>n.add(e))},AH=(e,t)=>e.substr(0,t.length)===t;var IH;let DH=IH=class extends xH{constructor(e){super(e)}writeValue(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,kH(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}};var PH;DH.ctorParameters=()=>[{type:ka}],Object(r.b)([vh("ionChange",["$event.target"])],DH.prototype,"_handleIonChange",null),DH=IH=Object(r.b)([dh({selector:"ion-checkbox,ion-toggle",providers:[{provide:pU,useExisting:IH,multi:!0}]})],DH);let NH=PH=class extends xH{constructor(e){super(e)}_handleIonChange(e){this.handleChangeEvent(e,e.value)}registerOnChange(e){super.registerOnChange(t=>{e(""===t?null:parseFloat(t))})}};var RH;NH.ctorParameters=()=>[{type:ka}],Object(r.b)([vh("ionChange",["$event.target"])],NH.prototype,"_handleIonChange",null),NH=PH=Object(r.b)([dh({selector:"ion-input[type=number]",providers:[{provide:pU,useExisting:PH,multi:!0}]})],NH);let MH=RH=class extends xH{constructor(e){super(e)}_handleIonSelect(e){this.handleChangeEvent(e,e.checked)}};var FH;MH.ctorParameters=()=>[{type:ka}],Object(r.b)([vh("ionSelect",["$event.target"])],MH.prototype,"_handleIonSelect",null),MH=RH=Object(r.b)([dh({selector:"ion-radio",providers:[{provide:pU,useExisting:RH,multi:!0}]})],MH);let LH=FH=class extends xH{constructor(e){super(e)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}};var jH;LH.ctorParameters=()=>[{type:ka}],Object(r.b)([vh("ionChange",["$event.target"])],LH.prototype,"_handleChangeEvent",null),LH=FH=Object(r.b)([dh({selector:"ion-range, ion-select, ion-radio-group, ion-segment, ion-datetime",providers:[{provide:pU,useExisting:FH,multi:!0}]})],LH);let $H=jH=class extends xH{constructor(e){super(e)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}};$H.ctorParameters=()=>[{type:ka}],Object(r.b)([vh("ionChange",["$event.target"])],$H.prototype,"_handleInputEvent",null),$H=jH=Object(r.b)([dh({selector:"ion-input:not([type=number]),ion-textarea,ion-searchbar",providers:[{provide:pU,useExisting:jH,multi:!0}]})],$H);let BH=class{constructor(e,t){this.doc=e,this.backButton=new A,this.pause=new A,this.resume=new A,this.resize=new A,t.run(()=>{let n;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(e,n){return this.subscribe(r=>r.register(e,()=>t.run(n)))},UH(this.pause,e,"pause"),UH(this.resume,e,"resume"),UH(this.backButton,e,"ionBackButton"),UH(this.resize,this.win,"resize"),this._readyPromise=new Promise(e=>{n=e}),this.win&&this.win.cordova?e.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(e){return Object(CH.l)(this.win,e)}platforms(){return Object(CH.j)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return VH(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(e){const t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};BH.ctorParameters=()=>[{type:void 0,decorators:[{type:ye,args:[oO]}]},{type:eu}],BH.ngInjectableDef=xe({factory:function(){return new BH(Ye(oO),Ye(eu))},token:BH,providedIn:"root"}),BH=Object(r.b)([oo({providedIn:"root"}),Object(r.e)(0,ye(oO))],BH);const VH=(e,t)=>{t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},UH=(e,t,n)=>{t&&t.addEventListener(n,t=>{e.next(null!=t?t.detail:void 0)})};let zH=class{constructor(e,t,n,r){this.location=t,this.serializer=n,this.router=r,this.direction=qH,this.animated=WH,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(e=>{if(e instanceof RI){const t=e.restoredState?e.restoredState.navigationId:e.id;this.guessDirection=t<this.lastNavId?"back":"forward",this.guessAnimation=e.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?e.id:t}}),e.backButton.subscribeWithPriority(0,()=>this.pop())}navigateForward(e,t={}){return this.setDirection("forward",t.animated,t.animationDirection),this.navigate(e,t)}navigateBack(e,t={}){return this.setDirection("back",t.animated,t.animationDirection),this.navigate(e,t)}navigateRoot(e,t={}){return this.setDirection("root",t.animated,t.animationDirection),this.navigate(e,t)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection),this.location.back()}pop(){return Object(r.a)(this,void 0,void 0,(function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet}))}setDirection(e,t,n){this.direction=e,this.animated=HH(e,t,n)}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let e,t="root";return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=qH,this.animated=WH,{direction:t,animation:e}}navigate(e,t){if(Array.isArray(e))return this.router.navigate(e,t);{const n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object.assign({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)}}};zH.ctorParameters=()=>[{type:BH},{type:Vx},{type:vD},{type:tN,decorators:[{type:ve}]}],zH.ngInjectableDef=xe({factory:function(){return new zH(Ye(BH),Ye(Vx),Ye(vD),Ye(tN,8))},token:zH,providedIn:"root"}),zH=Object(r.b)([oo({providedIn:"root"}),Object(r.e)(3,ve())],zH);const HH=(e,t,n)=>{if(!1!==t)return void 0!==n?n:"forward"===e||"back"===e?e:"root"===e&&!0===t?"forward":void 0},qH="auto",WH=void 0,GH=(e,t)=>{const n=e.prototype;t.forEach(e=>{Object.defineProperty(n,e,{get(){return this.el[e]},set(t){this.z.runOutsideAngular(()=>this.el[e]=t)}})})},QH=(e,t)=>{const n=e.prototype;t.forEach(e=>{n[e]=function(){const t=arguments;return this.z.runOutsideAngular(()=>this.el[e].apply(this.el,t))}})},KH=(e,t,n)=>{n.forEach(n=>e[n]=xF(t,n))};function YH(e){return function(t){return e.inputs&&GH(t,e.inputs),e.methods&&QH(t,e.methods),t}}let XH=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};XH.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],XH=Object(r.b)([ph({selector:"ion-app",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],XH);let ZH=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};ZH.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],ZH=Object(r.b)([ph({selector:"ion-avatar",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],ZH);let JH=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};JH.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],JH=Object(r.b)([YH({inputs:["color","defaultHref","disabled","icon","mode","text","type"]}),ph({selector:"ion-back-button",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","defaultHref","disabled","icon","mode","text","type"]})],JH);let eq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionBackdropTap"])}};eq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],eq=Object(r.b)([YH({inputs:["stopPropagation","tappable","visible"]}),ph({selector:"ion-backdrop",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["stopPropagation","tappable","visible"]})],eq);let tq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};tq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],tq=Object(r.b)([YH({inputs:["color","mode"]}),ph({selector:"ion-badge",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode"]})],tq);let nq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionFocus","ionBlur"])}};nq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],nq=Object(r.b)([YH({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerDirection","shape","size","strong","target","type"]}),ph({selector:"ion-button",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerDirection","shape","size","strong","target","type"]})],nq);let rq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};rq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],rq=Object(r.b)([YH({inputs:["collapse"]}),ph({selector:"ion-buttons",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["collapse"]})],rq);let iq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};iq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],iq=Object(r.b)([YH({inputs:["button","color","disabled","download","href","mode","rel","routerDirection","target","type"]}),ph({selector:"ion-card",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["button","color","disabled","download","href","mode","rel","routerDirection","target","type"]})],iq);let sq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};sq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],sq=Object(r.b)([YH({inputs:["mode"]}),ph({selector:"ion-card-content",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["mode"]})],sq);let oq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};oq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],oq=Object(r.b)([YH({inputs:["color","mode","translucent"]}),ph({selector:"ion-card-header",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode","translucent"]})],oq);let aq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};aq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],aq=Object(r.b)([YH({inputs:["color","mode"]}),ph({selector:"ion-card-subtitle",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode"]})],aq);let lq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};lq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],lq=Object(r.b)([YH({inputs:["color","mode"]}),ph({selector:"ion-card-title",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode"]})],lq);let cq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange","ionFocus","ionBlur"])}};cq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],cq=Object(r.b)([YH({inputs:["checked","color","disabled","indeterminate","mode","name","value"]}),ph({selector:"ion-checkbox",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],cq);let hq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};hq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],hq=Object(r.b)([YH({inputs:["color","mode","outline"]}),ph({selector:"ion-chip",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode","outline"]})],hq);let uq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};uq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],uq=Object(r.b)([YH({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]}),ph({selector:"ion-col",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],uq);let dq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};dq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],dq=Object(r.b)([YH({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]}),ph({selector:"ion-content",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"]})],dq);let pq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};pq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],pq=Object(r.b)([YH({inputs:["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","displayTimezone","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"],methods:["open"]}),ph({selector:"ion-datetime",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","displayTimezone","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"]})],pq);let mq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};mq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],mq=Object(r.b)([YH({inputs:["activated","edge","horizontal","vertical"],methods:["close"]}),ph({selector:"ion-fab",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["activated","edge","horizontal","vertical"]})],mq);let fq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionFocus","ionBlur"])}};fq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],fq=Object(r.b)([YH({inputs:["activated","color","disabled","download","href","mode","rel","routerDirection","show","size","target","translucent","type"]}),ph({selector:"ion-fab-button",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["activated","color","disabled","download","href","mode","rel","routerDirection","show","size","target","translucent","type"]})],fq);let gq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};gq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],gq=Object(r.b)([YH({inputs:["activated","side"]}),ph({selector:"ion-fab-list",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["activated","side"]})],gq);let yq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};yq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],yq=Object(r.b)([YH({inputs:["mode","translucent"]}),ph({selector:"ion-footer",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["mode","translucent"]})],yq);let vq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};vq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],vq=Object(r.b)([YH({inputs:["fixed"]}),ph({selector:"ion-grid",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["fixed"]})],vq);let _q=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};_q.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],_q=Object(r.b)([YH({inputs:["collapse","mode","translucent"]}),ph({selector:"ion-header",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["collapse","mode","translucent"]})],_q);let bq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};bq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],bq=Object(r.b)([YH({inputs:["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]}),ph({selector:"ion-icon",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]})],bq);let wq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};wq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],wq=Object(r.b)([YH({inputs:["alt","src"]}),ph({selector:"ion-img",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["alt","src"]})],wq);let Cq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionInfinite"])}};Cq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Cq=Object(r.b)([YH({inputs:["disabled","position","threshold"],methods:["complete"]}),ph({selector:"ion-infinite-scroll",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["disabled","position","threshold"]})],Cq);let Eq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Eq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Eq=Object(r.b)([YH({inputs:["loadingSpinner","loadingText"]}),ph({selector:"ion-infinite-scroll-content",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["loadingSpinner","loadingText"]})],Eq);let Sq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};Sq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Sq=Object(r.b)([YH({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]}),ph({selector:"ion-input",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"]})],Sq);let xq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};xq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],xq=Object(r.b)([YH({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerDirection","target","type"]}),ph({selector:"ion-item",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerDirection","target","type"]})],xq);let kq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};kq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],kq=Object(r.b)([YH({inputs:["color","mode","sticky"]}),ph({selector:"ion-item-divider",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode","sticky"]})],kq);let Tq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Tq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Tq=Object(r.b)([ph({selector:"ion-item-group",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],Tq);let Oq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Oq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Oq=Object(r.b)([YH({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]}),ph({selector:"ion-item-option",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],Oq);let Aq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionSwipe"])}};Aq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Aq=Object(r.b)([YH({inputs:["side"]}),ph({selector:"ion-item-options",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["side"]})],Aq);let Iq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionDrag"])}};Iq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Iq=Object(r.b)([YH({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]}),ph({selector:"ion-item-sliding",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["disabled"]})],Iq);let Dq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Dq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Dq=Object(r.b)([YH({inputs:["color","mode","position"]}),ph({selector:"ion-label",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode","position"]})],Dq);let Pq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Pq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Pq=Object(r.b)([YH({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]}),ph({selector:"ion-list",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["inset","lines","mode"]})],Pq);let Nq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Nq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Nq=Object(r.b)([YH({inputs:["color","lines","mode"]}),ph({selector:"ion-list-header",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","lines","mode"]})],Nq);let Rq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};Rq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Rq=Object(r.b)([YH({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]}),ph({selector:"ion-menu",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"]})],Rq);let Mq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Mq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Mq=Object(r.b)([YH({inputs:["autoHide","color","disabled","menu","type"]}),ph({selector:"ion-menu-button",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["autoHide","color","disabled","menu","type"]})],Mq);let Fq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Fq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Fq=Object(r.b)([YH({inputs:["autoHide","menu"]}),ph({selector:"ion-menu-toggle",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["autoHide","menu"]})],Fq);let Lq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionNavWillChange","ionNavDidChange"])}};Lq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Lq=Object(r.b)([YH({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]}),ph({selector:"ion-nav",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["animated","animation","root","rootParams","swipeGesture"]})],Lq);let jq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};jq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],jq=Object(r.b)([YH({inputs:["component","componentProps","routerDirection"]}),ph({selector:"ion-nav-link",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["component","componentProps","routerDirection"]})],jq);let $q=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};$q.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],$q=Object(r.b)([YH({inputs:["color","mode"]}),ph({selector:"ion-note",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode"]})],$q);let Bq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Bq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Bq=Object(r.b)([YH({inputs:["buffer","color","mode","reversed","type","value"]}),ph({selector:"ion-progress-bar",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["buffer","color","mode","reversed","type","value"]})],Bq);let Vq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionFocus","ionBlur"])}};Vq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Vq=Object(r.b)([YH({inputs:["color","disabled","mode","name","value"]}),ph({selector:"ion-radio",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","disabled","mode","name","value"]})],Vq);let Uq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange"])}};Uq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Uq=Object(r.b)([YH({inputs:["allowEmptySelection","name","value"]}),ph({selector:"ion-radio-group",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["allowEmptySelection","name","value"]})],Uq);let zq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange","ionFocus","ionBlur"])}};zq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],zq=Object(r.b)([YH({inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]}),ph({selector:"ion-range",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]})],zq);let Hq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionRefresh","ionPull","ionStart"])}};Hq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Hq=Object(r.b)([YH({inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]}),ph({selector:"ion-refresher",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"]})],Hq);let qq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};qq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],qq=Object(r.b)([YH({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]}),ph({selector:"ion-refresher-content",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],qq);let Wq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Wq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Wq=Object(r.b)([ph({selector:"ion-reorder",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],Wq);let Gq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionItemReorder"])}};Gq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Gq=Object(r.b)([YH({inputs:["disabled"],methods:["complete"]}),ph({selector:"ion-reorder-group",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["disabled"]})],Gq);let Qq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Qq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Qq=Object(r.b)([YH({inputs:["type"],methods:["addRipple"]}),ph({selector:"ion-ripple-effect",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["type"]})],Qq);let Kq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Kq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Kq=Object(r.b)([ph({selector:"ion-row",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],Kq);let Yq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};Yq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Yq=Object(r.b)([YH({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","inputmode","mode","placeholder","searchIcon","showCancelButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]}),ph({selector:"ion-searchbar",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","inputmode","mode","placeholder","searchIcon","showCancelButton","spellcheck","type","value"]})],Yq);let Xq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange"])}};Xq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Xq=Object(r.b)([YH({inputs:["color","disabled","mode","scrollable","value"]}),ph({selector:"ion-segment",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","disabled","mode","scrollable","value"]})],Xq);let Zq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};Zq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Zq=Object(r.b)([YH({inputs:["disabled","layout","mode","type","value"]}),ph({selector:"ion-segment-button",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["disabled","layout","mode","type","value"]})],Zq);let Jq=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};Jq.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],Jq=Object(r.b)([YH({inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]}),ph({selector:"ion-select",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"]})],Jq);let eW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};eW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],eW=Object(r.b)([YH({inputs:["disabled","value"]}),ph({selector:"ion-select-option",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["disabled","value"]})],eW);let tW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};tW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],tW=Object(r.b)([YH({inputs:["animated"]}),ph({selector:"ion-skeleton-text",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["animated"]})],tW);let nW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};nW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],nW=Object(r.b)([ph({selector:"ion-slide",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],nW);let rW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};rW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],rW=Object(r.b)([YH({inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]}),ph({selector:"ion-slides",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["mode","options","pager","scrollbar"]})],rW);let iW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};iW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],iW=Object(r.b)([YH({inputs:["color","duration","name","paused"]}),ph({selector:"ion-spinner",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","duration","name","paused"]})],iW);let sW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionSplitPaneVisible"])}};sW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],sW=Object(r.b)([YH({inputs:["contentId","disabled","when"]}),ph({selector:"ion-split-pane",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["contentId","disabled","when"]})],sW);let oW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};oW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],oW=Object(r.b)([YH({inputs:["color","mode","selectedTab","translucent"]}),ph({selector:"ion-tab-bar",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode","selectedTab","translucent"]})],oW);let aW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};aW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],aW=Object(r.b)([YH({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]}),ph({selector:"ion-tab-button",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],aW);let lW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};lW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],lW=Object(r.b)([YH({inputs:["color","mode"]}),ph({selector:"ion-text",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode"]})],lW);let cW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};cW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],cW=Object(r.b)([YH({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]}),ph({selector:"ion-textarea",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"]})],cW);let hW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};hW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],hW=Object(r.b)([ph({selector:"ion-thumbnail",changeDetection:lt.OnPush,template:"<ng-content></ng-content>"})],hW);let uW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};uW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],uW=Object(r.b)([YH({inputs:["color","size"]}),ph({selector:"ion-title",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","size"]})],uW);let dW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,KH(this,this.el,["ionChange","ionFocus","ionBlur"])}};dW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],dW=Object(r.b)([YH({inputs:["checked","color","disabled","mode","name","value"]}),ph({selector:"ion-toggle",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["checked","color","disabled","mode","name","value"]})],dW);let pW=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};pW.ctorParameters=()=>[{type:qs},{type:ka},{type:eu}],pW=Object(r.b)([YH({inputs:["color","mode"]}),ph({selector:"ion-toolbar",changeDetection:lt.OnPush,template:"<ng-content></ng-content>",inputs:["color","mode"]})],pW);let mW=class{get(e,t){const n=gW();return n?n.get(e,t):null}getBoolean(e,t){const n=gW();return!!n&&n.getBoolean(e,t)}getNumber(e,t){const n=gW();return n?n.getNumber(e,t):0}set(e,t){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=gW();n&&n.set(e,t)}};mW.ngInjectableDef=xe({factory:function(){return new mW},token:mW,providedIn:"root"}),mW=Object(r.b)([oo({providedIn:"root"})],mW);const fW=new Be("USERCONFIG"),gW=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null};class yW{constructor(e={}){this.data=e}get(e){return this.data[e]}}let vW=class{constructor(e,t){this.zone=e,this.appRef=t}create(e,t,n){return new _W(e,t,n,this.appRef,this.zone)}};vW.ctorParameters=()=>[{type:eu},{type:_u}],vW=Object(r.b)([oo()],vW);class _W{constructor(e,t,n,r,i){this.resolver=e,this.injector=t,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,n,r){return this.zone.run(()=>new Promise(i=>{i(bW(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,n,r))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(e=>{const n=this.elRefMap.get(t);if(n){n.destroy(),this.elRefMap.delete(t);const e=this.elEventsMap.get(t);e&&(e(),this.elEventsMap.delete(t))}e()}))}}const bW=(e,t,n,r,i,s,o,a,l,c,h)=>{const u=t.resolveComponentFactory(l),d=ho.create({providers:SW(c),parent:n}),p=r?r.createComponent(u,r.length,d):u.create(d),m=p.instance,f=p.location.nativeElement;if(c&&Object.assign(m,c),h)for(const y of h)f.classList.add(y);const g=CW(e,m,f);return a.appendChild(f),r||i.attachView(p.hostView),p.changeDetectorRef.reattach(),s.set(f,p),o.set(f,g),f},wW=[CH.c,CH.a,CH.d,CH.b,CH.e],CW=(e,t,n)=>e.run(()=>{const e=wW.filter(e=>"function"==typeof t[e]).map(e=>{const r=n=>t[e](n.detail);return n.addEventListener(e,r),()=>n.removeEventListener(e,r)});return()=>e.forEach(e=>e())}),EW=new Be("NavParamsToken"),SW=e=>[{provide:EW,useValue:e},{provide:yW,useFactory:xW,deps:[EW]}],xW=e=>new yW(e),kW=(e,t)=>((e=e.filter(e=>e.stackId!==t.stackId)).push(t),e),TW=(e,t)=>(e.indexOf(t)>=0?e=e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):e.push(t),e),OW=(e,t)=>e.indexOf(t)>=0?e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):kW(e,t),AW=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},IW=(e,t)=>{if(!e)return;const n=DW(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},DW=e=>e.split("/").map(e=>e.trim()).filter(e=>""!==e),PW=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class NW{constructor(e,t,n,r,i,s){this.containerEl=t,this.router=n,this.navCtrl=r,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?DW(e):void 0}createView(e,t){const n=AW(this.router,t),r=e&&e.location&&e.location.nativeElement,i=CW(this.zone,e.instance,r);return{id:this.nextId++,stackId:IW(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:e,url:n}}getExistingView(e){const t=AW(this.router,e),n=this.views.find(e=>e.url===t);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(e){let{direction:t,animation:n}=this.navCtrl.consumeTransition();const r=this.activeView,i=((e,t)=>!t||e.stackId!==t.stackId)(e,r);i&&(t="back",n=void 0);const s=this.views.slice();let o;const a=this.router;a.getCurrentNavigation?o=a.getCurrentNavigation():a.navigations&&a.navigations.value&&(o=a.navigations.value),o&&o.extras&&o.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const l=this.views.includes(e),c=this.insertView(e,t);return l||e.ref.changeDetectorRef.detectChanges(),this.zone.runOutsideAngular(()=>this.wait(()=>(r&&r.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,r,n,this.canGoBack(1),!1).then(()=>RW(e,c,s,this.location)).then(()=>({enteringView:e,direction:t,animation:n,tabSwitch:i})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(t);if(n.length<=e)return Promise.resolve(!1);const r=n[n.length-e-1];let i=r.url;const s=r.savedData;if(s){const e=s.get("primary");e&&e.route&&e.route._routerState&&e.route._routerState.snapshot&&e.route._routerState.snapshot.url&&(i=e.route._routerState.snapshot.url)}return this.navCtrl.navigateBack(i,r.savedExtras).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),n=t[t.length-2];return this.wait(()=>this.transition(n,e,"back",this.canGoBack(2),!0))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&MW(this.activeView,this.views,this.views,this.location)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}destroy(){this.containerEl=void 0,this.views.forEach(PW),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((e,t,n)=>"root"===n?kW(e,t):"forward"===n?TW(e,t):OW(e,t))(this.views,e,t),this.views.slice()}transition(e,t,n,r,i){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const s=e?e.element:void 0,o=t?t.element:void 0,a=this.containerEl;return s&&s!==o&&(s.classList.add("ion-page"),s.classList.add("ion-page-invisible"),s.parentElement!==a&&a.appendChild(s),a.commit)?a.commit(s,o,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i}):Promise.resolve(!1)}wait(e){return Object(r.a)(this,void 0,void 0,(function*(){return void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0),this.runningTask=e()}))}}const RW=(e,t,n,r)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{MW(e,t,n,r),i()})}):Promise.resolve(),MW=(e,t,n,r)=>{n.filter(e=>!t.includes(e)).forEach(PW),t.forEach(t=>{const n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){const e=t.element;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}})};let FW=class{constructor(e,t,n,r,i,s,o,a,l,c,h,u,d){this.parentContexts=e,this.location=t,this.resolver=n,this.config=s,this.navCtrl=o,this.parentOutlet=d,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new VA(null),this.stackEvents=new ch,this.activateEvents=new ch,this.deactivateEvents=new ch,this.nativeEl=l.nativeElement,this.name=r||"primary",this.tabsPrefix="true"===i?AW(c,u):void 0,this.stackCtrl=new NW(this.tabsPrefix,this.nativeEl,c,o,h,a),e.onChildOutletCreated(this.name,this)}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:e=>this.stackCtrl.endBackTransition(e)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,t){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){this.activatedView.savedData=new Map(this.getContext().children.contexts),this.activatedView.savedExtras={};const e=this.getContext();if(e.route){const t=e.route.snapshot;this.activatedView.savedExtras.queryParams=t.queryParams,this.activatedView.savedExtras.fragment=t.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=e;let r=this.stackCtrl.getExistingView(e);if(r){n=this.activated=r.ref;const t=r.savedData;if(t){this.getContext().children.contexts=t}this.updateActivatedRouteProxy(n.instance,e)}else{const i=e._futureSnapshot.routeConfig.component,s=(t=t||this.resolver).resolveComponentFactory(i),o=this.parentContexts.getOrCreateContext(this.name).children,a=new VA(null),l=this.createActivatedRouteProxy(a,e),c=new LW(l,o,this.location.injector);n=this.activated=this.location.createComponent(s,this.location.length,c),a.next(n.instance),r=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(n.instance,l),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:e})}this.activatedView=r,this.stackCtrl.setActive(r).then(e=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(e)})}canGoBack(e=1,t){return this.stackCtrl.canGoBack(e,t)}pop(e=1,t){return this.stackCtrl.pop(e,t)}getLastUrl(e){const t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,t){const n=new BD;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n}proxyObservable(e,t){return e.pipe(KA(e=>!!e),wI(e=>this.currentActivatedRoute$.pipe(KA(t=>null!==t&&t.component===e),wI(e=>e&&e.activatedRoute[t]),DF())))}updateActivatedRouteProxy(e,t){const n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})}};FW.ctorParameters=()=>[{type:aN},{type:Ja},{type:Ca},{type:String,decorators:[{type:Ce,args:["name"]}]},{type:String,decorators:[{type:ve},{type:Ce,args:["tabs"]}]},{type:mW},{type:zH},{type:Vx},{type:ka},{type:tN},{type:eu},{type:BD},{type:FW,decorators:[{type:be},{type:ve}]}],Object(r.b)([gh()],FW.prototype,"stackEvents",void 0),Object(r.b)([gh("activate")],FW.prototype,"activateEvents",void 0),Object(r.b)([gh("deactivate")],FW.prototype,"deactivateEvents",void 0),FW=Object(r.b)([dh({selector:"ion-router-outlet",exportAs:"outlet",inputs:["animated","swipeGesture"]}),Object(r.e)(3,Ce("name")),Object(r.e)(4,ve()),Object(r.e)(4,Ce("tabs")),Object(r.e)(12,be()),Object(r.e)(12,ve())],FW);class LW{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===BD?this.route:e===aN?this.childContexts:this.parent.get(e,t)}}let jW=class{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new ch,this.ionTabsDidChange=new ch}onPageSelected(e){const t=e.enteringView.stackId;e.tabSwitch&&void 0!==t&&(this.tabBar&&(this.tabBar.selectedTab=t),this.ionTabsWillChange.emit({tab:t}),this.ionTabsDidChange.emit({tab:t}))}select(e){const t=this.outlet.getActiveStackId()===e,n=`${this.outlet.tabsPrefix}/${e}`;if(t){const t=this.outlet.getRootView(e),r=t&&n===t.url&&t.savedExtras;return this.navCtrl.navigateRoot(n,Object.assign({},r,{animated:!0,animationDirection:"back"}))}{const t=this.outlet.getLastRouteView(e),r=t&&t.url||n,i=t&&t.savedExtras;return this.navCtrl.navigateRoot(r,Object.assign({},i,{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}};jW.ctorParameters=()=>[{type:zH}],Object(r.b)([Ho("outlet",{read:FW,static:!1})],jW.prototype,"outlet",void 0),Object(r.b)([zo(oW,{static:!1})],jW.prototype,"tabBar",void 0),Object(r.b)([gh()],jW.prototype,"ionTabsWillChange",void 0),Object(r.b)([gh()],jW.prototype,"ionTabsDidChange",void 0),Object(r.b)([vh("ionTabButtonClick",["$event.detail.tab"])],jW.prototype,"select",null),jW=Object(r.b)([ph({selector:"ion-tabs",template:'\n    <ng-content select="[slot=top]"></ng-content>\n    <div class="tabs-inner">\n      <ion-router-outlet #outlet tabs="true" (stackEvents)="onPageSelected($event)"></ion-router-outlet>\n    </div>\n    <ng-content></ng-content>',styles:["\n    :host {\n      display: flex;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n\n      flex-direction: column;\n\n      width: 100%;\n      height: 100%;\n\n      contain: layout size style;\n      z-index: $z-index-page-container;\n    }\n    .tabs-inner {\n      position: relative;\n\n      flex: 1;\n\n      contain: layout size style;\n    }"]})],jW);let $W=class{constructor(e,t){this.routerOutlet=e,this.navCtrl=t}onClick(e){this.routerOutlet&&this.routerOutlet.canGoBack()?(this.routerOutlet.pop(),e.preventDefault()):null!=this.defaultHref&&(this.navCtrl.navigateBack(this.defaultHref),e.preventDefault())}};$W.ctorParameters=()=>[{type:FW,decorators:[{type:ve}]},{type:zH}],Object(r.b)([vh("click",["$event"])],$W.prototype,"onClick",null),$W=Object(r.b)([dh({selector:"ion-back-button",inputs:["defaultHref"]}),Object(r.e)(0,ve())],$W);let BW=class{constructor(e,t,n,r,i){this.el=e.nativeElement,e.nativeElement.delegate=r.create(t,n,i),KH(this,this.el,["ionNavDidChange","ionNavWillChange"])}};BW.ctorParameters=()=>[{type:ka},{type:Ca},{type:ho},{type:vW},{type:Ja}],BW=Object(r.b)([YH({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]}),dh({selector:"ion-nav"})],BW);let VW=class{constructor(e,t,n,r,i){this.locationStrategy=e,this.navCtrl=t,this.elementRef=n,this.router=r,this.routerLink=i,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){if(this.routerLink){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(e){this.navCtrl.setDirection(this.routerDirection),e.preventDefault()}};VW.ctorParameters=()=>[{type:$x},{type:zH},{type:ka},{type:tN},{type:nN,decorators:[{type:ve}]}],Object(r.b)([vh("click",["$event"])],VW.prototype,"onClick",null),VW=Object(r.b)([dh({selector:"[routerLink]",inputs:["routerDirection"]}),Object(r.e)(4,ve())],VW);let UW=class{constructor(e){this.templateRef=e}};UW.ctorParameters=()=>[{type:Xa}],UW=Object(r.b)([dh({selector:"[virtualFooter]"})],UW);let zW=class{constructor(e){this.templateRef=e}};zW.ctorParameters=()=>[{type:Xa}],zW=Object(r.b)([dh({selector:"[virtualHeader]"})],zW);let HW=class{constructor(e,t){this.templateRef=e,this.viewContainer=t}};HW.ctorParameters=()=>[{type:Xa},{type:Ja}],HW=Object(r.b)([dh({selector:"[virtualItem]"})],HW);let qW=class{constructor(e,t,n){this.z=e,this.iterableDiffers=t,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}ngOnChanges(e){if(this.trackBy&&"items"in e){const n=e.items.currentValue;if(void 0===this.differ&&null!=n)try{this.differ=this.iterableDiffers.find(n).create(this.trackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}'. VirtualScroll only supports binding to Iterables such as Arrays.`)}}}ngDoCheck(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)}nodeRender(e,t,n){return this.z.run(()=>{let r;if(e){r=this.refMap.get(e);const n=r.context;n.$implicit=t.value,n.index=t.index}else r=this.itmTmp.viewContainer.createEmbeddedView(this.getComponent(t.type),{$implicit:t.value,index:n},n),e=WW(r),this.refMap.set(e,r);return r.detectChanges(),e})}getComponent(e){switch(e){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")}};qW.ctorParameters=()=>[{type:eu},{type:qa},{type:ka}],Object(r.b)([zo(HW,{static:!1})],qW.prototype,"itmTmp",void 0),Object(r.b)([zo(zW,{static:!1})],qW.prototype,"hdrTmp",void 0),Object(r.b)([zo(UW,{static:!1})],qW.prototype,"ftrTmp",void 0),qW=Object(r.b)([YH({inputs:["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight","headerHeight","footerHeight"],methods:["checkEnd","checkRange","positionForItem"]}),ph({selector:"ion-virtual-scroll",template:"<ng-content></ng-content>",changeDetection:lt.OnPush,inputs:["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight","headerHeight","footerHeight","trackBy"]})],qW);const WW=e=>{const t=e.rootNodes;for(let n=0;n<t.length;n++)if(1===t[n].nodeType)return t[n];throw new Error("virtual element was not created")};class GW{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,n){return this.ctrl.dismiss(e,t,n)}getTop(){return this.ctrl.getTop()}}let QW=class extends GW{constructor(){super(CH.f)}};QW.ngInjectableDef=xe({factory:function(){return new QW},token:QW,providedIn:"root"}),QW=Object(r.b)([oo({providedIn:"root"})],QW);let KW=class extends GW{constructor(){super(CH.g)}};KW.ngInjectableDef=xe({factory:function(){return new KW},token:KW,providedIn:"root"}),KW=Object(r.b)([oo({providedIn:"root"})],KW);let YW=class extends GW{constructor(){super(CH.m)}};YW.ngInjectableDef=xe({factory:function(){return new YW},token:YW,providedIn:"root"}),YW=Object(r.b)([oo({providedIn:"root"})],YW);let XW=class{open(e){return CH.n.open(e)}close(e){return CH.n.close(e)}toggle(e){return CH.n.toggle(e)}enable(e,t){return CH.n.enable(e,t)}swipeGesture(e,t){return CH.n.swipeGesture(e,t)}isOpen(e){return CH.n.isOpen(e)}isEnabled(e){return CH.n.isEnabled(e)}get(e){return CH.n.get(e)}getOpen(){return CH.n.getOpen()}getMenus(){return CH.n.getMenus()}};XW.ngInjectableDef=xe({factory:function(){return new XW},token:XW,providedIn:"root"}),XW=Object(r.b)([oo({providedIn:"root"})],XW);let ZW=class extends GW{constructor(){super(CH.p)}};ZW.ngInjectableDef=xe({factory:function(){return new ZW},token:ZW,providedIn:"root"}),ZW=Object(r.b)([oo({providedIn:"root"})],ZW);let JW=class extends GW{constructor(e,t,n){super(CH.o),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};JW.ctorParameters=()=>[{type:vW},{type:Ca},{type:ho}],JW=Object(r.b)([oo()],JW);let eG=class extends GW{constructor(e,t,n){super(CH.q),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};eG.ctorParameters=()=>[{type:vW},{type:Ca},{type:ho}],eG=Object(r.b)([oo()],eG);let tG=class extends GW{constructor(){super(CH.r)}};tG.ngInjectableDef=xe({factory:function(){return new tG},token:tG,providedIn:"root"}),tG=Object(r.b)([oo({providedIn:"root"})],tG);let nG=class{read(e){rG().read(e)}write(e){rG().write(e)}};nG.ngInjectableDef=xe({factory:function(){return new nG},token:nG,providedIn:"root"}),nG=Object(r.b)([oo({providedIn:"root"})],nG);const rG=()=>{const e="undefined"!=typeof window?window:null;if(null!=e){const t=e.Ionic;return t&&t.queue?t.queue:{read:t=>e.requestAnimationFrame(t),write:t=>e.requestAnimationFrame(t)}}return{read:e=>e(),write:e=>e()}};let iG=class{create(e){return Object(CH.h)(e)}easingTime(e,t,n,r,i){return Object(CH.k)(e,t,n,r,i)}};iG.ngInjectableDef=xe({factory:function(){return new iG},token:iG,providedIn:"root"}),iG=Object(r.b)([oo({providedIn:"root"})],iG);let sG=class{create(e){return Object(CH.i)(e)}};sG.ngInjectableDef=xe({factory:function(){return new sG},token:sG,providedIn:"root"}),sG=Object(r.b)([oo({providedIn:"root"})],sG);let oG=!1;const aG=(e,t,r)=>()=>{const i=t.defaultView;if(i&&"undefined"!=typeof window){oG&&console.warn("Ionic Angular was already initialized. Make sure IonicModule.forRoot() is just called once."),oG=!0,(i.Ionic=i.Ionic||{}).config=Object.assign({},e,{_zoneGate:e=>r.run(e)});const s="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){if("undefined"!=typeof window){var e=window,t=[];return e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove)||t.push(n.e(94).then(n.t.bind(null,"QdDj",7))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||t.push(n.e(93).then(n.t.bind(null,"t6o4",7))),Promise.all(t)}return Promise.resolve()}().then(()=>{return e={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:SH,jmp:e=>r.runOutsideAngular(e),ael(e,t,n,r){e[s](t,n,r)},rel(e,t,n,r){e.removeEventListener(t,n,r)}},Object(EH.b)().then(()=>{Object(EH.h)(),Object(EH.c)(JSON.parse('[[{"ios":"ion-select_3-ios","md":"ion-select_3-md"},[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[1,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],[{"ios":"ion-menu_3-ios","md":"ion-menu_3-md"},[[1,"ion-menu-button",{"color":[1],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[32,"ionMenuChange","visibilityChanged"],[32,"ionSplitPaneVisible","visibilityChanged"]]],[1,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[32,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[32,"ionMenuChange","visibilityChanged"],[32,"ionSplitPaneVisible","visibilityChanged"]]]]],[{"ios":"ion-action-sheet-ios","md":"ion-action-sheet-md"},[[2,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-fab_3-ios","md":"ion-fab_3-md"},[[1,"ion-fab-button",{"color":[1],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],[{"ios":"ion-refresher_2-ios","md":"ion-refresher_2-md"},[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[0,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],[{"ios":"ion-back-button-ios","md":"ion-back-button-md"},[[1,"ion-back-button",{"color":[1],"defaultHref":[1,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1]}]]],[{"ios":"ion-backdrop-ios","md":"ion-backdrop-md"},[[1,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"touchstart","onTouchStart"],[2,"click","onMouseDown"],[2,"mousedown","onMouseDown"]]]]],[{"ios":"ion-alert-ios","md":"ion-alert-md"},[[2,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-loading-ios","md":"ion-loading-md"},[[2,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-toast-ios","md":"ion-toast-md"},[[1,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[1],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-card_5-ios","md":"ion-card_5-md"},[[1,"ion-card",{"color":[1],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1]}],[0,"ion-card-content"],[1,"ion-card-header",{"color":[1],"translucent":[4]}],[1,"ion-card-subtitle",{"color":[1]}],[1,"ion-card-title",{"color":[1]}]]],[{"ios":"ion-item-option_3-ios","md":"ion-item-option_3-md"},[[1,"ion-item-option",{"color":[1],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[0,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],[{"ios":"ion-infinite-scroll_2-ios","md":"ion-infinite-scroll_2-md"},[[0,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],[{"ios":"ion-reorder_2-ios","md":"ion-reorder_2-md"},[[1,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],[{"ios":"ion-segment_2-ios","md":"ion-segment_2-md"},[[1,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[1,"ion-segment",{"color":[1],"disabled":[4],"scrollable":[4],"value":[1025],"activated":[32]}]]],[{"ios":"ion-tab-bar_2-ios","md":"ion-tab-bar_2-md"},[[1,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[16,"ionTabBarChanged","onTabBarChanged"]]],[1,"ion-tab-bar",{"color":[1],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},[[8,"keyboardWillHide","onKeyboardWillHide"],[8,"keyboardWillShow","onKeyboardWillShow"]]]]],[{"ios":"ion-chip-ios","md":"ion-chip-md"},[[1,"ion-chip",{"color":[1],"outline":[4]}]]],[{"ios":"ion-modal-ios","md":"ion-modal-md"},[[2,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-popover-ios","md":"ion-popover-md"},[[2,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-searchbar-ios","md":"ion-searchbar-md"},[[2,"ion-searchbar",{"color":[1],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-app_8-ios","md":"ion-app_8-md"},[[0,"ion-app"],[2,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[1],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[2,"click","onClick"]]],[4,"ion-footer",{"translucent":[4]}],[4,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[1,"ion-title",{"color":[1],"size":[1]}],[1,"ion-toolbar",{"color":[1]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1]}]]],[{"ios":"ion-avatar_3-ios","md":"ion-avatar_3-md"},[[1,"ion-avatar"],[1,"ion-badge",{"color":[1]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"]}]]],[{"ios":"ion-slide_2-ios","md":"ion-slide_2-md"},[[0,"ion-slide"],[4,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],[{"ios":"ion-checkbox-ios","md":"ion-checkbox-md"},[[1,"ion-checkbox",{"color":[1],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],[{"ios":"ion-input-ios","md":"ion-input-md"},[[2,"ion-input",{"color":[1],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-progress-bar-ios","md":"ion-progress-bar-md"},[[1,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[1]}]]],[{"ios":"ion-range-ios","md":"ion-range-md"},[[1,"ion-range",{"color":[1],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],[{"ios":"ion-split-pane-ios","md":"ion-split-pane-md"},[[1,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[1]}]]],[{"ios":"ion-textarea-ios","md":"ion-textarea-md"},[[2,"ion-textarea",{"color":[1],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-toggle-ios","md":"ion-toggle-md"},[[1,"ion-toggle",{"color":[1],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],[{"ios":"ion-datetime_3-ios","md":"ion-datetime_3-md"},[[2,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[1,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[0,"ion-picker-column",{"col":[16]}]]],[{"ios":"ion-radio_2-ios","md":"ion-radio_2-md"},[[1,"ion-radio",{"color":[1],"name":[1],"disabled":[4],"value":[8],"checked":[32]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[1],"duration":[2],"name":[1],"paused":[4]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],[{"ios":"ion-button_2-ios","md":"ion-button_2-md"},[[1,"ion-button",{"color":[1],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[1],"src":[1],"icon":[8],"size":[1],"lazy":[4],"svgContent":[32],"isVisible":[32]}]]],[{"ios":"ion-item_8-ios","md":"ion-item_8-md"},[[1,"ion-item-divider",{"color":[1],"sticky":[4]}],[0,"ion-item-group"],[1,"ion-note",{"color":[1]}],[1,"ion-skeleton-text",{"animated":[4]}],[1,"ion-item",{"color":[1],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionStyle","itemStyle"]]],[2,"ion-label",{"color":[1],"position":[1],"noAnimate":[32]}],[0,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[1,"ion-list-header",{"color":[1],"lines":[1]}]]]]'),e)});var e})}};var lG;const cG=[XH,ZH,JH,eq,tq,nq,rq,iq,sq,oq,aq,lq,cq,hq,uq,dq,pq,mq,fq,gq,yq,vq,_q,bq,wq,Cq,Eq,Sq,xq,kq,Tq,Oq,Aq,Iq,Dq,Pq,Nq,Rq,Mq,Fq,Lq,jq,$q,Bq,Vq,Uq,zq,Hq,qq,Wq,Gq,Qq,Kq,Yq,Xq,Zq,Jq,eW,tW,nW,rW,iW,sW,oW,aW,lW,cW,hW,dW,pW,uW,jW,DH,NH,MH,LH,$H,FW,$W,BW,VW,UW,zW,HW,qW];let hG=lG=class{static forRoot(e){return{ngModule:lG,providers:[{provide:fW,useValue:e},{provide:Sh,useFactory:aG,multi:!0,deps:[fW,oO,eu]}]}}};hG=lG=Object(r.b)([Ch({declarations:cG,exports:cG,providers:[vW,JW,eG],imports:[iO]})],hG);class uG extends A{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),p.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),p.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function dG(e){const{args:t,subscriber:n,params:r}=e,{callbackFunc:i,context:s,scheduler:o}=r;let{subject:a}=r;if(!a){a=r.subject=new uG;const e=(...e)=>{const t=e.length<=1?e[0]:e;this.add(o.schedule(pG,0,{value:t,subject:a}))};try{i.apply(s,[...t,e])}catch(l){a.error(l)}}this.add(a.subscribe(n))}function pG(e){const{value:t,subject:n}=e;n.next(t),n.complete()}class mG{constructor(e){this.notifier=e}call(e,t){const n=new fG(e),r=t.subscribe(n);return r.add(V(n,this.notifier)),r}}class fG extends U{constructor(){super(...arguments),this.hasValue=!1}_next(e){this.value=e,this.hasValue=!0}notifyNext(e,t,n,r,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}class gG{constructor(e){this.total=e}call(e,t){return t.subscribe(new yG(e,this.total))}}class yG extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let vG=class{};vG=Object(r.b)([oo()],vG);let _G=class{constructor(e,t){this._loader=e,this._zone=t,this._map=new Promise(e=>{this._mapResolver=e})}createMap(e,t){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const n=new google.maps.Map(e,t);this._mapResolver(n)}))}setMapOptions(e){return this._zone.runOutsideAngular(()=>{this._map.then(t=>{t.setOptions(e)})})}createMarker(e={},t=!0){return this._zone.runOutsideAngular(()=>this._map.then(n=>(t&&(e.map=n),new google.maps.Marker(e))))}createInfoWindow(e){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(e)))}createCircle(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>("string"==typeof e.strokePosition&&(e.strokePosition=google.maps.StrokePosition[e.strokePosition]),e.map=t,new google.maps.Circle(e))))}createRectangle(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>(e.map=t,new google.maps.Rectangle(e))))}createPolyline(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(t=>{let n=new google.maps.Polyline(e);return n.setMap(t),n}))}createPolygon(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(t=>{let n=new google.maps.Polygon(e);return n.setMap(t),n}))}createDataLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>{let n=new google.maps.Data(e);return n.setMap(t),n}))}createTransitLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>{let n=new google.maps.TransitLayer;return n.setMap(e.visible?t:null),n}))}createBicyclingLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>{let n=new google.maps.BicyclingLayer;return n.setMap(e.visible?t:null),n}))}containsLocation(e,t){return google.maps.geometry.poly.containsLocation(e,t)}subscribeToMapEvent(e){return new E(t=>{this._map.then(n=>{n.addListener(e,e=>{this._zone.run(()=>t.next(e))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(e=>{google.maps.event.clearInstanceListeners(e)})})}setCenter(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.setCenter(e)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getMapTypeId()))}setZoom(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.setZoom(e)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getCenter()))}panTo(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.panTo(e)))}panBy(e,t){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panBy(e,t)))}fitBounds(e,t){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.fitBounds(e,t)))}panToBounds(e,t){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panToBounds(e,t)))}getNativeMap(){return this._map}triggerMapEvent(e){return this._map.then(t=>google.maps.event.trigger(t,e))}};_G.ctorParameters=()=>[{type:vG},{type:eu}],_G=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[vG,eu])],_G);let bG=class{constructor(e){this._wrapper=e,this._layers=new Map}addTransitLayer(e,t){const n=this._wrapper.createTransitLayer(t);this._layers.set(e,n)}addBicyclingLayer(e,t){const n=this._wrapper.createBicyclingLayer(t);this._layers.set(e,n)}deleteLayer(e){return this._layers.get(e).then(t=>{t.setMap(null),this._layers.delete(e)})}toggleLayerVisibility(e,t){return this._layers.get(e).then(e=>t.visible?this._wrapper.getNativeMap().then(t=>{e.setMap(t)}):void e.setMap(null))}};bG.ctorParameters=()=>[{type:_G}],bG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G])],bG);let wG=0,CG=class{constructor(e){this._manager=e,this._addedToManager=!1,this._id=(wG++).toString(),this.visible=!0}ngOnInit(){this._addedToManager||(this._manager.addBicyclingLayer(this,{visible:this.visible}),this._addedToManager=!0)}ngOnChanges(e){this._addedToManager&&null!=e.visible&&this._manager.toggleLayerVisibility(this,{visible:e.visible.currentValue})}id(){return this._id}toString(){return`AgmBicyclingLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteLayer(this)}};CG.ctorParameters=()=>[{type:bG}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],CG.prototype,"visible",void 0),CG=Object(r.b)([dh({selector:"agm-bicycling-layer"}),Object(r.d)("design:paramtypes",[bG])],CG);let EG=class{constructor(e,t){this._apiWrapper=e,this._zone=t,this._circles=new Map}addCircle(e){this._circles.set(e,this._apiWrapper.createCircle({center:{lat:e.latitude,lng:e.longitude},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,radius:e.radius,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:e.strokePosition,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex}))}removeCircle(e){return this._circles.get(e).then(t=>{t.setMap(null),this._circles.delete(e)})}setOptions(e,t){return this._circles.get(e).then(e=>{"string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),e.setOptions(t)})}getBounds(e){return this._circles.get(e).then(e=>e.getBounds())}getCenter(e){return this._circles.get(e).then(e=>e.getCenter())}getRadius(e){return this._circles.get(e).then(e=>e.getRadius())}setCenter(e){return this._circles.get(e).then(t=>t.setCenter({lat:e.latitude,lng:e.longitude}))}setEditable(e){return this._circles.get(e).then(t=>t.setEditable(e.editable))}setDraggable(e){return this._circles.get(e).then(t=>t.setDraggable(e.draggable))}setVisible(e){return this._circles.get(e).then(t=>t.setVisible(e.visible))}setRadius(e){return this._circles.get(e).then(t=>t.setRadius(e.radius))}getNativeCircle(e){return this._circles.get(e)}createEventObservable(e,t){return new E(n=>{let r=null;return this._circles.get(t).then(t=>{r=t.addListener(e,e=>this._zone.run(()=>n.next(e)))}),()=>{null!==r&&r.remove()}})}};var SG;EG.ctorParameters=()=>[{type:_G},{type:eu}],EG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],EG);let xG=SG=class{constructor(e){this._manager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new ch,this.circleClick=new ch,this.circleDblClick=new ch,this.drag=new ch,this.dragEnd=new ch,this.dragStart=new ch,this.mouseDown=new ch,this.mouseMove=new ch,this.mouseOut=new ch,this.mouseOver=new ch,this.mouseUp=new ch,this.radiusChange=new ch,this.rightClick=new ch,this._circleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(e){this._circleAddedToManager&&((e.latitude||e.longitude)&&this._manager.setCenter(this),e.editable&&this._manager.setEditable(this),e.draggable&&this._manager.setDraggable(this),e.visible&&this._manager.setVisible(this),e.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(e))}_updateCircleOptionsChanges(e){let t={},n=Object.keys(e).filter(e=>-1!==SG._mapOptions.indexOf(e));n.forEach(n=>{t[n]=e[n].currentValue}),n.length>0&&this._manager.setOptions(this,t)}_registerEventListeners(){let e=new Map;e.set("center_changed",this.centerChange),e.set("click",this.circleClick),e.set("dblclick",this.circleDblClick),e.set("drag",this.drag),e.set("dragend",this.dragEnd),e.set("dragstart",this.dragStart),e.set("mousedown",this.mouseDown),e.set("mousemove",this.mouseMove),e.set("mouseout",this.mouseOut),e.set("mouseover",this.mouseOver),e.set("mouseup",this.mouseUp),e.set("radius_changed",this.radiusChange),e.set("rightclick",this.rightClick),e.forEach((e,t)=>{this._eventSubscriptions.push(this._manager.createEventObservable(t,this).subscribe(n=>{switch(t){case"radius_changed":this._manager.getRadius(this).then(t=>e.emit(t));break;case"center_changed":this._manager.getCenter(this).then(t=>e.emit({lat:t.lat(),lng:t.lng()}));break;default:e.emit({coords:{lat:n.latLng.lat(),lng:n.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach((function(e){e.unsubscribe()})),this._eventSubscriptions=null,this._manager.removeCircle(this)}getBounds(){return this._manager.getBounds(this)}getCenter(){return this._manager.getCenter(this)}};xG._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],xG.ctorParameters=()=>[{type:EG}],Object(r.b)([fh(),Object(r.d)("design:type",Number)],xG.prototype,"latitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],xG.prototype,"longitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],xG.prototype,"clickable",void 0),Object(r.b)([fh("circleDraggable"),Object(r.d)("design:type",Object)],xG.prototype,"draggable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],xG.prototype,"editable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],xG.prototype,"fillColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],xG.prototype,"fillOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],xG.prototype,"radius",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],xG.prototype,"strokeColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],xG.prototype,"strokeOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],xG.prototype,"strokePosition",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],xG.prototype,"strokeWeight",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],xG.prototype,"visible",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],xG.prototype,"zIndex",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"centerChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"circleClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"circleDblClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"drag",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"dragEnd",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"dragStart",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"mouseDown",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"mouseMove",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"mouseOut",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"mouseOver",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"mouseUp",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"radiusChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],xG.prototype,"rightClick",void 0),xG=SG=Object(r.b)([dh({selector:"agm-circle"}),Object(r.d)("design:paramtypes",[EG])],xG);let kG=class{constructor(e,t){this._wrapper=e,this._zone=t,this._layers=new Map}addDataLayer(e){const t=this._wrapper.createDataLayer({style:e.style}).then(t=>(e.geoJson&&this.getDataFeatures(t,e.geoJson).then(e=>t.features=e),t));this._layers.set(e,t)}deleteDataLayer(e){this._layers.get(e).then(t=>{t.setMap(null),this._layers.delete(e)})}updateGeoJson(e,t){this._layers.get(e).then(e=>{e.forEach((function(t){e.remove(t);var n=e.features.indexOf(t,0);n>-1&&e.features.splice(n,1)})),this.getDataFeatures(e,t).then(t=>e.features=t)})}setDataOptions(e,t){this._layers.get(e).then(e=>{e.setControlPosition(t.controlPosition),e.setControls(t.controls),e.setDrawingMode(t.drawingMode),e.setStyle(t.style)})}createEventObservable(e,t){return new E(n=>{this._layers.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}getDataFeatures(e,t){return new Promise((n,r)=>{if("object"==typeof t)try{n(e.addGeoJson(t))}catch(i){r(i)}else"string"==typeof t?e.loadGeoJson(t,null,n):r("Impossible to extract features from geoJson: wrong argument type")})}};var TG;kG.ctorParameters=()=>[{type:_G},{type:eu}],kG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],kG);let OG=0,AG=TG=class{constructor(e){this._manager=e,this._addedToManager=!1,this._id=(OG++).toString(),this._subscriptions=[],this.layerClick=new ch,this.geoJson=null}ngOnInit(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}_addEventListeners(){[{name:"click",handler:e=>this.layerClick.emit(e)}].forEach(e=>{const t=this._manager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(t)})}id(){return this._id}toString(){return`AgmDataLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(e=>e.unsubscribe())}ngOnChanges(e){if(!this._addedToManager)return;var t=e.geoJson;t&&this._manager.updateGeoJson(this,t.currentValue);let n={};TG._dataOptionsAttributes.forEach(t=>n[t]=e.hasOwnProperty(t)?e[t].currentValue:this[t]),this._manager.setDataOptions(this,n)}};AG._dataOptionsAttributes=["style"],AG.ctorParameters=()=>[{type:kG}],Object(r.b)([gh(),Object(r.d)("design:type",ch)],AG.prototype,"layerClick",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],AG.prototype,"geoJson",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Function)],AG.prototype,"style",void 0),AG=TG=Object(r.b)([dh({selector:"agm-data-layer"}),Object(r.d)("design:paramtypes",[kG])],AG);class IG{}let DG=class{constructor(e){var t;this._boundsChangeSampleTime$=new VA(200),this._includeInBounds$=new VA(new Map),this.bounds$=G(e.load()).pipe(Q(()=>this._includeInBounds$),(t=this._boundsChangeSampleTime$.pipe(wI(e=>LF(0,e))),e=>e.lift(new mG(t))),z(e=>this._generateBounds(e)),tL(1))}_generateBounds(e){const t=new google.maps.LatLngBounds;return e.forEach(e=>t.extend(e)),t}addToBounds(e){const t=this._createIdentifier(e);if(this._includeInBounds$.value.has(t))return;const n=this._includeInBounds$.value;n.set(t,e),this._includeInBounds$.next(n)}removeFromBounds(e){const t=this._includeInBounds$.value;t.delete(this._createIdentifier(e)),this._includeInBounds$.next(t)}changeFitBoundsChangeSampleTime(e){this._boundsChangeSampleTime$.next(e)}getBounds$(){return this.bounds$}_createIdentifier(e){return`${e.lat}+${e.lng}`}};DG.ctorParameters=()=>[{type:vG}],DG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[vG])],DG);let PG=class{constructor(e,t){this._fitBoundsAccessor=e,this._fitBoundsService=t,this.agmFitBounds=!0,this._destroyed$=new A,this._latestFitBoundsDetails=null}ngOnChanges(){this._updateBounds()}ngOnInit(){this._fitBoundsAccessor.getFitBoundsDetails$().pipe(DF((e,t)=>e.latLng.lat===t.latLng.lat&&e.latLng.lng===t.latLng.lng),BF(this._destroyed$)).subscribe(e=>this._updateBounds(e))}_updateBounds(e){this._latestFitBoundsDetails&&this._fitBoundsService.removeFromBounds(this._latestFitBoundsDetails.latLng),e&&(this._latestFitBoundsDetails=e),this._latestFitBoundsDetails&&!0===this.agmFitBounds&&this._fitBoundsService.addToBounds(this._latestFitBoundsDetails.latLng)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),null!==this._latestFitBoundsDetails&&this._fitBoundsService.removeFromBounds(this._latestFitBoundsDetails.latLng)}};PG.ctorParameters=()=>[{type:IG,decorators:[{type:_e}]},{type:DG}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],PG.prototype,"agmFitBounds",void 0),PG=Object(r.b)([dh({selector:"[agmFitBounds]"}),Object(r.e)(0,_e()),Object(r.d)("design:paramtypes",[IG,DG])],PG);let NG=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._markers=new Map}convertAnimation(e){return Object(r.a)(this,void 0,void 0,(function*(){return null===e?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[e])}))}deleteMarker(e){const t=this._markers.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setMap(null),this._markers.delete(e)}))}updateMarkerPosition(e){return this._markers.get(e).then(t=>t.setPosition({lat:e.latitude,lng:e.longitude}))}updateTitle(e){return this._markers.get(e).then(t=>t.setTitle(e.title))}updateLabel(e){return this._markers.get(e).then(t=>{t.setLabel(e.label)})}updateDraggable(e){return this._markers.get(e).then(t=>t.setDraggable(e.draggable))}updateIcon(e){return this._markers.get(e).then(t=>t.setIcon(e.iconUrl))}updateOpacity(e){return this._markers.get(e).then(t=>t.setOpacity(e.opacity))}updateVisible(e){return this._markers.get(e).then(t=>t.setVisible(e.visible))}updateZIndex(e){return this._markers.get(e).then(t=>t.setZIndex(e.zIndex))}updateClickable(e){return this._markers.get(e).then(t=>t.setClickable(e.clickable))}updateAnimation(e){return Object(r.a)(this,void 0,void 0,(function*(){(yield this._markers.get(e)).setAnimation(yield this.convertAnimation(e.animation))}))}addMarker(e){const t=new Promise(t=>Object(r.a)(this,void 0,void 0,(function*(){return this._mapsWrapper.createMarker({position:{lat:e.latitude,lng:e.longitude},label:e.label,draggable:e.draggable,icon:e.iconUrl,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,title:e.title,clickable:e.clickable,animation:yield this.convertAnimation(e.animation)}).then(t)})));this._markers.set(e,t)}getNativeMarker(e){return this._markers.get(e)}createEventObservable(e,t){return new E(n=>{this._markers.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}};NG.ctorParameters=()=>[{type:_G},{type:eu}],NG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],NG);let RG=class{constructor(e,t,n){this._mapsWrapper=e,this._zone=t,this._markerManager=n,this._infoWindows=new Map}deleteInfoWindow(e){const t=this._infoWindows.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.close(),this._infoWindows.delete(e)}))}setPosition(e){return this._infoWindows.get(e).then(t=>t.setPosition({lat:e.latitude,lng:e.longitude}))}setZIndex(e){return this._infoWindows.get(e).then(t=>t.setZIndex(e.zIndex))}open(e){return this._infoWindows.get(e).then(t=>null!=e.hostMarker?this._markerManager.getNativeMarker(e.hostMarker).then(e=>this._mapsWrapper.getNativeMap().then(n=>t.open(n,e))):this._mapsWrapper.getNativeMap().then(e=>t.open(e)))}close(e){return this._infoWindows.get(e).then(e=>e.close())}setOptions(e,t){return this._infoWindows.get(e).then(e=>e.setOptions(t))}addInfoWindow(e){const t={content:e.content,maxWidth:e.maxWidth,zIndex:e.zIndex,disableAutoPan:e.disableAutoPan};"number"==typeof e.latitude&&"number"==typeof e.longitude&&(t.position={lat:e.latitude,lng:e.longitude});const n=this._mapsWrapper.createInfoWindow(t);this._infoWindows.set(e,n)}createEventObservable(e,t){return new E(n=>{this._infoWindows.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}};var MG;RG.ctorParameters=()=>[{type:_G},{type:eu},{type:NG}],RG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu,NG])],RG);let FG=0,LG=MG=class{constructor(e,t){this._infoWindowManager=e,this._el=t,this.isOpen=!1,this.infoWindowClose=new ch,this._infoWindowAddedToManager=!1,this._id=(FG++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(e){this._infoWindowAddedToManager&&((e.latitude||e.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),e.zIndex&&this._infoWindowManager.setZIndex(this),e.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(e))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(e){let t={};Object.keys(e).filter(e=>-1!==MG._infoWindowOptionsInputs.indexOf(e)).forEach(n=>{t[n]=e[n].currentValue}),this._infoWindowManager.setOptions(this,t)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};LG._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],LG.ctorParameters=()=>[{type:RG},{type:ka}],Object(r.b)([fh(),Object(r.d)("design:type",Number)],LG.prototype,"latitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],LG.prototype,"longitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],LG.prototype,"disableAutoPan",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],LG.prototype,"zIndex",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],LG.prototype,"maxWidth",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],LG.prototype,"isOpen",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],LG.prototype,"infoWindowClose",void 0),LG=MG=Object(r.b)([ph({selector:"agm-info-window",template:"<div class='agm-info-window-content'>\n      <ng-content></ng-content>\n    </div>\n  "}),Object(r.d)("design:paramtypes",[RG,ka])],LG);let jG=class{constructor(e,t){this._wrapper=e,this._zone=t,this._layers=new Map}addKmlLayer(e){const t=this._wrapper.getNativeMap().then(t=>new google.maps.KmlLayer({clickable:e.clickable,map:t,preserveViewport:e.preserveViewport,screenOverlays:e.screenOverlays,suppressInfoWindows:e.suppressInfoWindows,url:e.url,zIndex:e.zIndex}));this._layers.set(e,t)}setOptions(e,t){this._layers.get(e).then(e=>e.setOptions(t))}deleteKmlLayer(e){this._layers.get(e).then(t=>{t.setMap(null),this._layers.delete(e)})}createEventObservable(e,t){return new E(n=>{this._layers.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}};var $G;jG.ctorParameters=()=>[{type:_G},{type:eu}],jG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],jG);let BG=0,VG=$G=class{constructor(e){this._manager=e,this._addedToManager=!1,this._id=(BG++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new ch,this.defaultViewportChange=new ch,this.statusChange=new ch}ngOnInit(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}ngOnChanges(e){this._addedToManager&&this._updatePolygonOptions(e)}_updatePolygonOptions(e){const t=Object.keys(e).filter(e=>-1!==$G._kmlLayerOptions.indexOf(e)).reduce((t,n)=>(t[n]=e[n].currentValue,t),{});Object.keys(t).length>0&&this._manager.setOptions(this,t)}_addEventListeners(){[{name:"click",handler:e=>this.layerClick.emit(e)},{name:"defaultviewport_changed",handler:()=>this.defaultViewportChange.emit()},{name:"status_changed",handler:()=>this.statusChange.emit()}].forEach(e=>{const t=this._manager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(t)})}id(){return this._id}toString(){return`AgmKmlLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(e=>e.unsubscribe())}};function UG(e){const t=["insert_at","remove_at","set_at"];return function e(t,n,r){return r?e(t,n).pipe(z(e=>c(e)?r(...e):r(e))):new E(e=>{const r=(...t)=>e.next(1===t.length?t[0]:t);let s;try{s=t(r)}catch(o){return void e.error(o)}if(i(n))return()=>n(r,s)})}(n=>t.map(t=>e.addListener(t,(r,i)=>n.apply(e,[{newArr:e.getArray(),evName:t,index:r,previous:i}]))),(e,t)=>t.forEach(e=>e.remove()))}VG._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],VG.ctorParameters=()=>[{type:jG}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],VG.prototype,"clickable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],VG.prototype,"preserveViewport",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],VG.prototype,"screenOverlays",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],VG.prototype,"suppressInfoWindows",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],VG.prototype,"url",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],VG.prototype,"zIndex",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],VG.prototype,"layerClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],VG.prototype,"defaultViewportChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],VG.prototype,"statusChange",void 0),VG=$G=Object(r.b)([dh({selector:"agm-kml-layer"}),Object(r.d)("design:paramtypes",[jG])],VG);let zG=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._polygons=new Map}addPolygon(e){const t=this._mapsWrapper.createPolygon({clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,geodesic:e.geodesic,paths:e.paths,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex});this._polygons.set(e,t)}updatePolygon(e){const t=this._polygons.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setPaths(e.paths)}))}setPolygonOptions(e,t){return this._polygons.get(e).then(e=>{e.setOptions(t)})}deletePolygon(e){const t=this._polygons.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setMap(null),this._polygons.delete(e)}))}getPath(e){return this._polygons.get(e).then(e=>e.getPath().getArray())}getPaths(e){return this._polygons.get(e).then(e=>e.getPaths().getArray().map(e=>e.getArray()))}createEventObservable(e,t){return new E(n=>{this._polygons.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}createPathEventObservable(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=(yield this._polygons.get(e)).getPaths();return UG(t).pipe(xI({newArr:t.getArray()}),wI(e=>J(...e.newArr.map((t,n)=>UG(t).pipe(z(t=>({parentMVEvent:e,chMVCEvent:t,pathIndex:n}))))).pipe(xI({parentMVEvent:e,chMVCEvent:null,pathIndex:null}))),(n=1,e=>e.lift(new gG(n))),z(({parentMVEvent:e,chMVCEvent:t,pathIndex:n})=>{let r;return t?(r={newArr:e.newArr.map(e=>e.getArray().map(e=>e.toJSON())),pathIndex:n,eventName:t.evName,index:t.index},t.previous&&(r.previous=t.previous)):(r={newArr:e.newArr.map(e=>e.getArray().map(e=>e.toJSON())),eventName:e.evName,index:e.index},e.previous&&(r.previous=e.previous.getArray())),r}));var n}))}};var HG;zG.ctorParameters=()=>[{type:_G},{type:eu}],zG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],zG);let qG=HG=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._polylines=new Map}static _convertPoints(e){return e._getPoints().map(e=>({lat:e.latitude,lng:e.longitude}))}static _convertPath(e){const t=google.maps.SymbolPath[e];return"number"==typeof t?t:e}static _convertIcons(e){const t=e._getIcons().map(e=>({fixedRotation:e.fixedRotation,offset:e.offset,repeat:e.repeat,icon:{anchor:new google.maps.Point(e.anchorX,e.anchorY),fillColor:e.fillColor,fillOpacity:e.fillOpacity,path:HG._convertPath(e.path),rotation:e.rotation,scale:e.scale,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight}}));return t.forEach(e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),void 0!==e.icon.anchor.x&&void 0!==e.icon.anchor.y||delete e.icon.anchor}),t}addPolyline(e){const t=this._mapsWrapper.getNativeMap().then(()=>[HG._convertPoints(e),HG._convertIcons(e)]).then(([t,n])=>this._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:t,icons:n}));this._polylines.set(e,t)}updatePolylinePoints(e){const t=HG._convertPoints(e),n=this._polylines.get(e);return null==n?Promise.resolve():n.then(e=>this._zone.run(()=>{e.setPath(t)}))}updateIconSequences(e){return Object(r.a)(this,void 0,void 0,(function*(){yield this._mapsWrapper.getNativeMap();const t=HG._convertIcons(e),n=this._polylines.get(e);if(null!=n)return n.then(e=>this._zone.run(()=>e.setOptions({icons:t})))}))}setPolylineOptions(e,t){return this._polylines.get(e).then(e=>{e.setOptions(t)})}deletePolyline(e){const t=this._polylines.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setMap(null),this._polylines.delete(e)}))}getMVCPath(e){return Object(r.a)(this,void 0,void 0,(function*(){return(yield this._polylines.get(e)).getPath()}))}getPath(e){return Object(r.a)(this,void 0,void 0,(function*(){return(yield this.getMVCPath(e)).getArray()}))}createEventObservable(e,t){return new E(n=>{this._polylines.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}createPathEventObservable(e){return Object(r.a)(this,void 0,void 0,(function*(){return UG(yield this.getMVCPath(e))}))}};qG.ctorParameters=()=>[{type:_G},{type:eu}],qG=HG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],qG);let WG=class{constructor(e,t){this._apiWrapper=e,this._zone=t,this._rectangles=new Map}addRectangle(e){this._rectangles.set(e,this._apiWrapper.createRectangle({bounds:{north:e.north,east:e.east,south:e.south,west:e.west},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:e.strokePosition,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex}))}removeRectangle(e){return this._rectangles.get(e).then(t=>{t.setMap(null),this._rectangles.delete(e)})}setOptions(e,t){return this._rectangles.get(e).then(e=>e.setOptions(t))}getBounds(e){return this._rectangles.get(e).then(e=>e.getBounds())}setBounds(e){return this._rectangles.get(e).then(t=>t.setBounds({north:e.north,east:e.east,south:e.south,west:e.west}))}setEditable(e){return this._rectangles.get(e).then(t=>t.setEditable(e.editable))}setDraggable(e){return this._rectangles.get(e).then(t=>t.setDraggable(e.draggable))}setVisible(e){return this._rectangles.get(e).then(t=>t.setVisible(e.visible))}createEventObservable(e,t){return E.create(n=>{let r=null;return this._rectangles.get(t).then(t=>{r=t.addListener(e,e=>this._zone.run(()=>n.next(e)))}),()=>{null!==r&&r.remove()}})}};var GG;WG.ctorParameters=()=>[{type:_G},{type:eu}],WG=Object(r.b)([oo(),Object(r.d)("design:paramtypes",[_G,eu])],WG);let QG=GG=class{constructor(e,t,n,r,i){this._elem=e,this._mapsWrapper=t,this._platformId=n,this._fitBoundsService=r,this._zone=i,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new ch,this.mapRightClick=new ch,this.mapDblClick=new ch,this.centerChange=new ch,this.boundsChange=new ch,this.mapTypeIdChange=new ch,this.idle=new ch,this.zoomChange=new ch,this.mapReady=new ch,this.tilesLoaded=new ch}ngOnInit(){if(aO(this._platformId))return;const e=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(e)}_initMapInstance(e){this._mapsWrapper.createMap(e,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(e=>this.mapReady.emit(e)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(e=>e.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(e){this._updateMapOptionsChanges(e),this._updatePosition(e)}_updateMapOptionsChanges(e){let t={};Object.keys(e).filter(e=>-1!==GG._mapOptionsAttributes.indexOf(e)).forEach(n=>{t[n]=e[n].currentValue}),this._mapsWrapper.setMapOptions(t)}triggerResize(e=!0){return new Promise(t=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{e&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),t()}))})}_updatePosition(e){(null!=e.latitude||null!=e.longitude||e.fitBounds)&&("fitBounds"in e?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())}_setCenter(){let e={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(e):this._mapsWrapper.setCenter(e)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(e=>{this._zone.run(()=>this._updateBounds(e,this.fitBoundsPadding))})})}_updateBounds(e,t){if(e){if(this._isLatLngBoundsLiteral(e)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){const t=new google.maps.LatLngBounds;t.union(e),e=t}this.usePanning?this._mapsWrapper.panToBounds(e,t):this._mapsWrapper.fitBounds(e,t)}}_isLatLngBoundsLiteral(e){return null!=e&&void 0===e.extend}_handleMapCenterChange(){const e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(e=>{this.latitude=e.lat(),this.longitude=e.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(e)}_handleBoundsChange(){const e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(e=>{this.boundsChange.emit(e)})});this._observableSubscriptions.push(e)}_handleMapTypeIdChange(){const e=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(e=>{this.mapTypeIdChange.emit(e)})});this._observableSubscriptions.push(e)}_handleMapZoomChange(){const e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(e=>{this.zoom=e,this.zoomChange.emit(e)})});this._observableSubscriptions.push(e)}_handleIdleEvent(){const e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(e)}_handleTilesLoadedEvent(){const e=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(e)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(e=>{const t=this._mapsWrapper.subscribeToMapEvent(e.name).subscribe(t=>{let n={coords:{lat:t.latLng.lat(),lng:t.latLng.lng()},placeId:t.placeId};n.placeId&&!this.showDefaultInfoWindow&&t.stop(),e.emitter.emit(n)});this._observableSubscriptions.push(t)})}};var KG;QG._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],QG.ctorParameters=()=>[{type:ka},{type:_G},{type:Object,decorators:[{type:ye,args:[Ih]}]},{type:DG},{type:eu}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"longitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"latitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"zoom",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],QG.prototype,"minZoom",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],QG.prototype,"maxZoom",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],QG.prototype,"controlSize",void 0),Object(r.b)([fh("mapDraggable"),Object(r.d)("design:type",Object)],QG.prototype,"draggable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"disableDoubleClickZoom",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"disableDefaultUI",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"scrollwheel",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],QG.prototype,"backgroundColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],QG.prototype,"draggableCursor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],QG.prototype,"draggingCursor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"keyboardShortcuts",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],QG.prototype,"zoomControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"zoomControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Array)],QG.prototype,"styles",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"usePanning",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],QG.prototype,"streetViewControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"streetViewControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"fitBounds",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"fitBoundsPadding",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"scaleControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"scaleControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"mapTypeControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"mapTypeControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"panControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"panControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"rotateControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"rotateControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"fullscreenControl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"fullscreenControlOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],QG.prototype,"mapTypeId",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"clickableIcons",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"showDefaultInfoWindow",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],QG.prototype,"gestureHandling",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"tilt",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],QG.prototype,"restriction",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"mapClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"mapRightClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"mapDblClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"centerChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"boundsChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"mapTypeIdChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"idle",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"zoomChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"mapReady",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],QG.prototype,"tilesLoaded",void 0),QG=GG=Object(r.b)([ph({selector:"agm-map",providers:[EG,kG,kG,DG,_G,RG,jG,bG,NG,zG,qG,WG],host:{"[class.sebm-google-map-container]":"true"},template:"\n              <div class='agm-map-container-inner sebm-google-map-container-inner'></div>\n              <div class='agm-map-content'>\n                <ng-content></ng-content>\n              </div>\n  ",styles:["\n    .agm-map-container-inner {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content {\n      display:none;\n    }\n  "]}),Object(r.e)(2,ye(Ih)),Object(r.d)("design:paramtypes",[ka,_G,Object,DG,eu])],QG);let YG=0,XG=KG=class{constructor(e){this._markerManager=e,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new ch,this.markerClick=new ch,this.markerDblClick=new ch,this.markerRightClick=new ch,this.dragStart=new ch,this.drag=new ch,this.dragEnd=new ch,this.mouseOver=new ch,this.mouseOut=new ch,this.infoWindow=new uh,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new JF(1),this._id=(YG++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(e=>{e.hostMarker=this})}ngOnChanges(e){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(e.latitude||e.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),e.title&&this._markerManager.updateTitle(this),e.label&&this._markerManager.updateLabel(this),e.draggable&&this._markerManager.updateDraggable(this),e.iconUrl&&this._markerManager.updateIcon(this),e.opacity&&this._markerManager.updateOpacity(this),e.visible&&this._markerManager.updateVisible(this),e.zIndex&&this._markerManager.updateZIndex(this),e.clickable&&this._markerManager.updateClickable(this),e.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const e=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(e=>e.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(e);const t=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(t);const n=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(n);const r=this._markerManager.createEventObservable("dragstart",this).subscribe(e=>{this.dragStart.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(r);const i=this._markerManager.createEventObservable("drag",this).subscribe(e=>{this.drag.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(i);const s=this._markerManager.createEventObservable("dragend",this).subscribe(e=>{this.dragEnd.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(s);const o=this._markerManager.createEventObservable("mouseover",this).subscribe(e=>{this.mouseOver.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(o);const a=this._markerManager.createEventObservable("mouseout",this).subscribe(e=>{this.mouseOut.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(a);const l=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(l)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(e=>e.unsubscribe())}};var ZG;XG.ctorParameters=()=>[{type:NG}],Object(r.b)([fh(),Object(r.d)("design:type",Number)],XG.prototype,"latitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],XG.prototype,"longitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],XG.prototype,"title",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],XG.prototype,"label",void 0),Object(r.b)([fh("markerDraggable"),Object(r.d)("design:type",Object)],XG.prototype,"draggable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],XG.prototype,"iconUrl",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],XG.prototype,"visible",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],XG.prototype,"openInfoWindow",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],XG.prototype,"opacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],XG.prototype,"zIndex",void 0),Object(r.b)([fh("markerClickable"),Object(r.d)("design:type",Object)],XG.prototype,"clickable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],XG.prototype,"animation",void 0),Object(r.b)([gh(),Object(r.d)("design:type",Object)],XG.prototype,"animationChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"markerClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"markerDblClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"markerRightClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"dragStart",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"drag",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"dragEnd",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"mouseOver",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],XG.prototype,"mouseOut",void 0),Object(r.b)([Uo(LG),Object(r.d)("design:type",uh)],XG.prototype,"infoWindow",void 0),XG=KG=Object(r.b)([dh({selector:"agm-marker",providers:[{provide:IG,useExisting:Pe(()=>KG)}],inputs:["latitude","longitude","title","label","draggable: markerDraggable","iconUrl","openInfoWindow","opacity","visible","zIndex","animation"],outputs:["markerClick","dragStart","drag","dragEnd","mouseOver","mouseOut"]}),Object(r.d)("design:paramtypes",[NG])],XG);let JG=ZG=class{constructor(e){this._polygonManager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new ch,this.polyDblClick=new ch,this.polyDrag=new ch,this.polyDragEnd=new ch,this.polyDragStart=new ch,this.polyMouseDown=new ch,this.polyMouseMove=new ch,this.polyMouseOut=new ch,this.polyMouseOver=new ch,this.polyMouseUp=new ch,this.polyRightClick=new ch,this.polyPathsChange=new ch,this._polygonAddedToManager=!1,this._subscriptions=[]}ngAfterContentInit(){this._polygonAddedToManager||this._init()}ngOnChanges(e){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(e)):this._init()}_init(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:e=>this.polyClick.emit(e)},{name:"dblclick",handler:e=>this.polyDblClick.emit(e)},{name:"drag",handler:e=>this.polyDrag.emit(e)},{name:"dragend",handler:e=>this.polyDragEnd.emit(e)},{name:"dragstart",handler:e=>this.polyDragStart.emit(e)},{name:"mousedown",handler:e=>this.polyMouseDown.emit(e)},{name:"mousemove",handler:e=>this.polyMouseMove.emit(e)},{name:"mouseout",handler:e=>this.polyMouseOut.emit(e)},{name:"mouseover",handler:e=>this.polyMouseOver.emit(e)},{name:"mouseup",handler:e=>this.polyMouseUp.emit(e)},{name:"rightclick",handler:e=>this.polyRightClick.emit(e)}].forEach(e=>{const t=this._polygonManager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(t)}),this._polygonManager.createPathEventObservable(this).then(e=>{const t=e.subscribe(e=>this.polyPathsChange.emit(e));this._subscriptions.push(t)})}_updatePolygonOptions(e){return Object.keys(e).filter(e=>-1!==ZG._polygonOptionsAttributes.indexOf(e)).reduce((t,n)=>(t[n]=e[n].currentValue,t),{})}id(){return this._id}ngOnDestroy(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(e=>e.unsubscribe())}getPath(){return this._polygonManager.getPath(this)}getPaths(){return this._polygonManager.getPaths(this)}};JG._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],JG.ctorParameters=()=>[{type:zG}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],JG.prototype,"clickable",void 0),Object(r.b)([fh("polyDraggable"),Object(r.d)("design:type",Object)],JG.prototype,"draggable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],JG.prototype,"editable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],JG.prototype,"fillColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],JG.prototype,"fillOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],JG.prototype,"geodesic",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Array)],JG.prototype,"paths",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],JG.prototype,"strokeColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],JG.prototype,"strokeOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],JG.prototype,"strokeWeight",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],JG.prototype,"visible",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],JG.prototype,"zIndex",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyDblClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyDrag",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyDragEnd",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyDragStart",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyMouseDown",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyMouseMove",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyMouseOut",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyMouseOver",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyMouseUp",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],JG.prototype,"polyRightClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",Object)],JG.prototype,"polyPathsChange",void 0),JG=ZG=Object(r.b)([dh({selector:"agm-polygon"}),Object(r.d)("design:paramtypes",[zG])],JG);let eQ=class{ngOnInit(){if(null==this.path)throw new Error("Icon Sequence path is required")}};var tQ;Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],eQ.prototype,"fixedRotation",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],eQ.prototype,"offset",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],eQ.prototype,"repeat",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"anchorX",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"anchorY",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],eQ.prototype,"fillColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"fillOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],eQ.prototype,"path",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"rotation",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"scale",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],eQ.prototype,"strokeColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"strokeOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],eQ.prototype,"strokeWeight",void 0),eQ=Object(r.b)([dh({selector:"agm-polyline agm-icon-sequence"})],eQ);let nQ=tQ=class{constructor(){this.positionChanged=new ch}ngOnChanges(e){if(e.latitude||e.longitude){const t={lat:e.latitude?e.latitude.currentValue:this.latitude,lng:e.longitude?e.longitude.currentValue:this.longitude};this.positionChanged.emit(t)}}getFitBoundsDetails$(){return this.positionChanged.pipe(xI({lat:this.latitude,lng:this.longitude}),z(e=>({latLng:e})))}};var rQ;Object(r.b)([fh(),Object(r.d)("design:type",Number)],nQ.prototype,"latitude",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],nQ.prototype,"longitude",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],nQ.prototype,"positionChanged",void 0),nQ=tQ=Object(r.b)([dh({selector:"agm-polyline-point",providers:[{provide:IG,useExisting:Pe(()=>tQ)}]}),Object(r.d)("design:paramtypes",[])],nQ);let iQ=0,sQ=rQ=class{constructor(e){this._polylineManager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new ch,this.lineDblClick=new ch,this.lineDrag=new ch,this.lineDragEnd=new ch,this.lineDragStart=new ch,this.lineMouseDown=new ch,this.lineMouseMove=new ch,this.lineMouseOut=new ch,this.lineMouseOver=new ch,this.lineMouseUp=new ch,this.lineRightClick=new ch,this.polyPathChange=new ch,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(iQ++).toString()}ngAfterContentInit(){this.points.length&&this.points.forEach(e=>{const t=e.positionChanged.subscribe(()=>{this._polylineManager.updatePolylinePoints(this)});this._subscriptions.push(t)}),this._polylineAddedToManager||this._init();const e=this.points.changes.subscribe(()=>this._polylineManager.updatePolylinePoints(this));this._subscriptions.push(e),this._polylineManager.updatePolylinePoints(this);const t=this.iconSequences.changes.subscribe(()=>this._polylineManager.updateIconSequences(this));this._subscriptions.push(t)}ngOnChanges(e){if(!this._polylineAddedToManager)return void this._init();let t={};Object.keys(e).filter(e=>-1!==rQ._polylineOptionsAttributes.indexOf(e)).forEach(n=>t[n]=e[n].currentValue),this._polylineManager.setPolylineOptions(this,t)}getPath(){return this._polylineManager.getPath(this)}_init(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:e=>this.lineClick.emit(e)},{name:"dblclick",handler:e=>this.lineDblClick.emit(e)},{name:"drag",handler:e=>this.lineDrag.emit(e)},{name:"dragend",handler:e=>this.lineDragEnd.emit(e)},{name:"dragstart",handler:e=>this.lineDragStart.emit(e)},{name:"mousedown",handler:e=>this.lineMouseDown.emit(e)},{name:"mousemove",handler:e=>this.lineMouseMove.emit(e)},{name:"mouseout",handler:e=>this.lineMouseOut.emit(e)},{name:"mouseover",handler:e=>this.lineMouseOver.emit(e)},{name:"mouseup",handler:e=>this.lineMouseUp.emit(e)},{name:"rightclick",handler:e=>this.lineRightClick.emit(e)}].forEach(e=>{const t=this._polylineManager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(t)}),this._polylineManager.createPathEventObservable(this).then(e=>{const t=e.subscribe(e=>this.polyPathChange.emit(e));this._subscriptions.push(t)})}_getPoints(){return this.points?this.points.toArray():[]}_getIcons(){return this.iconSequences?this.iconSequences.toArray():[]}id(){return this._id}ngOnDestroy(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(e=>e.unsubscribe())}};var oQ;sQ._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],sQ.ctorParameters=()=>[{type:qG}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],sQ.prototype,"clickable",void 0),Object(r.b)([fh("polylineDraggable"),Object(r.d)("design:type",Object)],sQ.prototype,"draggable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],sQ.prototype,"editable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],sQ.prototype,"geodesic",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],sQ.prototype,"strokeColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],sQ.prototype,"strokeOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],sQ.prototype,"strokeWeight",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],sQ.prototype,"visible",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],sQ.prototype,"zIndex",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineDblClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineDrag",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineDragEnd",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineDragStart",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineMouseDown",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineMouseMove",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineMouseOut",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineMouseOver",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineMouseUp",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],sQ.prototype,"lineRightClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",Object)],sQ.prototype,"polyPathChange",void 0),Object(r.b)([Uo(nQ),Object(r.d)("design:type",uh)],sQ.prototype,"points",void 0),Object(r.b)([Uo(eQ),Object(r.d)("design:type",uh)],sQ.prototype,"iconSequences",void 0),sQ=rQ=Object(r.b)([dh({selector:"agm-polyline"}),Object(r.d)("design:paramtypes",[qG])],sQ);let aQ=oQ=class{constructor(e){this._manager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new ch,this.rectangleClick=new ch,this.rectangleDblClick=new ch,this.drag=new ch,this.dragEnd=new ch,this.dragStart=new ch,this.mouseDown=new ch,this.mouseMove=new ch,this.mouseOut=new ch,this.mouseOver=new ch,this.mouseUp=new ch,this.rightClick=new ch,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(e){this._rectangleAddedToManager&&((e.north||e.east||e.south||e.west)&&this._manager.setBounds(this),e.editable&&this._manager.setEditable(this),e.draggable&&this._manager.setDraggable(this),e.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(e))}_updateRectangleOptionsChanges(e){let t={},n=Object.keys(e).filter(e=>-1!==oQ._mapOptions.indexOf(e));n.forEach(n=>{t[n]=e[n].currentValue}),n.length>0&&this._manager.setOptions(this,t)}_registerEventListeners(){let e=new Map;e.set("bounds_changed",this.boundsChange),e.set("click",this.rectangleClick),e.set("dblclick",this.rectangleDblClick),e.set("drag",this.drag),e.set("dragend",this.dragEnd),e.set("dragStart",this.dragStart),e.set("mousedown",this.mouseDown),e.set("mousemove",this.mouseMove),e.set("mouseout",this.mouseOut),e.set("mouseover",this.mouseOver),e.set("mouseup",this.mouseUp),e.set("rightclick",this.rightClick),e.forEach((e,t)=>{this._eventSubscriptions.push(this._manager.createEventObservable(t,this).subscribe(n=>{switch(t){case"bounds_changed":this._manager.getBounds(this).then(t=>e.emit({north:t.getNorthEast().lat(),east:t.getNorthEast().lng(),south:t.getSouthWest().lat(),west:t.getSouthWest().lng()}));break;default:e.emit({coords:{lat:n.latLng.lat(),lng:n.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach((function(e){e.unsubscribe()})),this._eventSubscriptions=null,this._manager.removeRectangle(this)}getBounds(){return this._manager.getBounds(this)}};aQ._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],aQ.ctorParameters=()=>[{type:WG}],Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"north",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"east",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"south",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"west",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],aQ.prototype,"clickable",void 0),Object(r.b)([fh("rectangleDraggable"),Object(r.d)("design:type",Object)],aQ.prototype,"draggable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],aQ.prototype,"editable",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],aQ.prototype,"fillColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"fillOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],aQ.prototype,"strokeColor",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"strokeOpacity",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],aQ.prototype,"strokePosition",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],aQ.prototype,"strokeWeight",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],aQ.prototype,"visible",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Number)],aQ.prototype,"zIndex",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"boundsChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"rectangleClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"rectangleDblClick",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"drag",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"dragEnd",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"dragStart",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"mouseDown",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"mouseMove",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"mouseOut",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"mouseOver",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"mouseUp",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],aQ.prototype,"rightClick",void 0),aQ=oQ=Object(r.b)([dh({selector:"agm-rectangle"}),Object(r.d)("design:paramtypes",[WG])],aQ);let lQ=0,cQ=class{constructor(e){this._manager=e,this._addedToManager=!1,this._id=(lQ++).toString(),this.visible=!0}ngOnInit(){this._addedToManager||(this._manager.addTransitLayer(this,{visible:this.visible}),this._addedToManager=!0)}ngOnChanges(e){this._addedToManager&&null!=e.visible&&this._manager.toggleLayerVisibility(this,{visible:e.visible.currentValue})}id(){return this._id}toString(){return`AgmTransitLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteLayer(this)}};var hQ,uQ,dQ,pQ,mQ,fQ,gQ,yQ;cQ.ctorParameters=()=>[{type:bG}],Object(r.b)([fh(),Object(r.d)("design:type",Object)],cQ.prototype,"visible",void 0),cQ=Object(r.b)([dh({selector:"agm-transit-layer"}),Object(r.d)("design:paramtypes",[bG])],cQ),function(e){e[e.BACKWARD_CLOSED_ARROW=3]="BACKWARD_CLOSED_ARROW",e[e.BACKWARD_OPEN_ARROW=4]="BACKWARD_OPEN_ARROW",e[e.CIRCLE=0]="CIRCLE",e[e.FORWARD_CLOSED_ARROW=1]="FORWARD_CLOSED_ARROW",e[e.FORWARD_OPEN_ARROW=2]="FORWARD_OPEN_ARROW"}(hQ||(hQ={})),function(e){e[e.RIGHT_BOTTOM=0]="RIGHT_BOTTOM",e[e.TOP_LEFT=1]="TOP_LEFT",e[e.TOP_CENTER=2]="TOP_CENTER",e[e.TOP_RIGHT=3]="TOP_RIGHT",e[e.LEFT_CENTER=4]="LEFT_CENTER",e[e.LEFT_TOP=5]="LEFT_TOP",e[e.LEFT_BOTTOM=6]="LEFT_BOTTOM",e[e.RIGHT_TOP=7]="RIGHT_TOP",e[e.RIGHT_CENTER=8]="RIGHT_CENTER",e[e.BOTTOM_RIGHT=9]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=10]="BOTTOM_LEFT",e[e.BOTTOM_CENTER=11]="BOTTOM_CENTER"}(uQ||(uQ={})),function(e){e[e.HYBRID=0]="HYBRID",e[e.ROADMAP=1]="ROADMAP",e[e.SATELLITE=2]="SATELLITE",e[e.TERRAIN=3]="TERRAIN"}(dQ||(dQ={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.DROPDOWN_MENU=2]="DROPDOWN_MENU",e[e.HORIZONTAL_BAR=1]="HORIZONTAL_BAR"}(pQ||(pQ={})),function(e){e[e.DEFAULT=0]="DEFAULT"}(mQ||(mQ={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL"}(fQ||(fQ={})),function(e){e.APPROXIMATE="APPROXIMATE",e.GEOMETRIC_CENTER="GEOMETRIC_CENTER",e.RANGE_INTERPOLATED="RANGE_INTERPOLATED",e.ROOFTOP="ROOFTOP"}(gQ||(gQ={})),function(e){e.ERROR="ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.OK="OK",e.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",e.REQUEST_DENIED="REQUEST_DENIED",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.ZERO_RESULTS="ZERO_RESULTS"}(yQ||(yQ={}));let vQ=class{constructor(e){const t=new E(t=>{e.load().then(()=>t.next())}).pipe(z(()=>this._createGeocoder()),oe(new JF(1)));t.connect(),this.geocoder$=t}geocode(e){return this.geocoder$.pipe(wI(t=>this._getGoogleResults(t,e)))}_getGoogleResults(e,t){return function e(t,n,r){if(n){if(!D(n))return(...i)=>e(t,r)(...i).pipe(z(e=>c(e)?n(...e):n(e)));r=n}return function(...e){const n=this;let i;const s={context:n,subject:i,callbackFunc:t,scheduler:r};return new E(o=>{if(r){const t={args:e,subscriber:o,params:s};return r.schedule(dG,0,t)}if(!i){i=new uG;const r=(...e)=>{i.next(e.length<=1?e[0]:e),i.complete()};try{t.apply(n,[...e,r])}catch(a){v(i)?i.error(a):console.warn(a)}}return i.subscribe(o)})}}(e.geocode)(t).pipe(wI(([e,t])=>t===yQ.OK?BA(e):WF(t)))}_createGeocoder(){return new google.maps.Geocoder}};vQ.ctorParameters=()=>[{type:vG}],vQ.ngInjectableDef=xe({factory:function(){return new vQ(Ye(vG))},token:vQ,providedIn:"root"}),vQ=Object(r.b)([oo({providedIn:"root"}),Object(r.d)("design:paramtypes",[vG])],vQ);class _Q{getNativeWindow(){return window}}class bQ{getNativeDocument(){return document}}const wQ=[_Q,bQ];var CQ;!function(e){e[e.HTTP=1]="HTTP",e[e.HTTPS=2]="HTTPS",e[e.AUTO=3]="AUTO"}(CQ||(CQ={}));const EQ=new Be("angular-google-maps LAZY_MAPS_API_CONFIG");let SQ=class extends vG{constructor(e=null,t,n,r){super(),this.localeId=r,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=e||{},this._windowRef=t,this._documentRef=n}load(){const e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const t=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(t)return this._assignScriptLoadingPromise(t),this._scriptLoadingPromise;const n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}_assignScriptLoadingPromise(e){this._scriptLoadingPromise=new Promise((t,n)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{t()},e.onerror=e=>{n(e)}})}_getScriptSrc(e){let t;switch(this._config&&this._config.protocol||CQ.HTTPS){case CQ.AUTO:t="";break;case CQ.HTTP:t="http:";break;case CQ.HTTPS:t="https:"}const n=this._config.hostAndPath||"maps.googleapis.com/maps/api/js",r={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${t}//${n}?${Object.keys(r).filter(e=>null!=r[e]).filter(e=>!Array.isArray(r[e])||Array.isArray(r[e])&&r[e].length>0).map(e=>{let t=r[e];return Array.isArray(t)?{key:e,value:t.join(",")}:{key:e,value:r[e]}}).map(e=>`${e.key}=${e.value}`).join("&")}`}};SQ.ctorParameters=()=>[{type:void 0,decorators:[{type:ve},{type:ye,args:[EQ]}]},{type:_Q},{type:bQ},{type:String,decorators:[{type:ye,args:[Rh]}]}],SQ=Object(r.b)([oo(),Object(r.e)(0,ve()),Object(r.e)(0,ye(EQ)),Object(r.e)(3,ye(Rh)),Object(r.d)("design:paramtypes",[Object,_Q,bQ,String])],SQ);var xQ;function kQ(){return[CG,xG,AG,PG,LG,VG,QG,XG,JG,sQ,eQ,nQ,aQ,cQ]}let TQ=xQ=class{static forRoot(e){return{ngModule:xQ,providers:[...wQ,{provide:vG,useClass:SQ},{provide:EQ,useValue:e}]}}};TQ=xQ=Object(r.b)([Ch({declarations:kQ(),exports:kQ()})],TQ);let OQ=class{constructor(e){this.gmapsApi=e,this.travelMode="DRIVING",this.transitOptions=void 0,this.drivingOptions=void 0,this.waypoints=[],this.optimizeWaypoints=!0,this.provideRouteAlternatives=!1,this.avoidHighways=!1,this.avoidTolls=!1,this.visible=!0,this.onChange=new ch,this.onResponse=new ch,this.sendInfoWindow=new ch,this.status=new ch,this.originDrag=new ch,this.destinationDrag=new ch,this.directionsService=void 0,this.directionsDisplay=void 0,this.waypointsMarker=[],this.isFirstChange=!0}ngOnInit(){!0===this.visible&&this.directionDraw()}ngOnChanges(e){if(this.visible){if(this.isFirstChange)return void 0===this.directionsDisplay&&this.directionDraw(),void(this.isFirstChange=!1);void 0!==e.renderOptions&&!1===e.renderOptions.firstChange&&(this.removeMarkers(),this.removeDirections()),this.directionDraw()}else try{this.removeMarkers(),this.removeDirections()}catch(t){}}ngOnDestroy(){this.destroyMarkers(),this.removeDirections()}directionDraw(){this.gmapsApi.getNativeMap().then(e=>{void 0===this.directionsDisplay&&(this.directionsDisplay=new google.maps.DirectionsRenderer(this.renderOptions),this.directionsDisplay.setMap(e),this.directionsDisplay.addListener("directions_changed",()=>{this.onChange.emit(this.directionsDisplay.getDirections())})),void 0===this.directionsService&&(this.directionsService=new google.maps.DirectionsService),void 0===this.panel?this.directionsDisplay.setPanel(null):this.directionsDisplay.setPanel(this.panel),"object"==typeof this.renderRoute&&null!==this.renderRoute?(this.directionsDisplay.setDirections(this.renderRoute),this.renderRoute=null):this.directionsService.route({origin:this.origin,destination:this.destination,travelMode:this.travelMode,transitOptions:this.transitOptions,drivingOptions:this.drivingOptions,waypoints:this.waypoints,optimizeWaypoints:this.optimizeWaypoints,provideRouteAlternatives:this.provideRouteAlternatives,avoidHighways:this.avoidHighways,avoidTolls:this.avoidTolls},(t,n)=>{switch(this.onResponse.emit(t),this.status.emit(n),n){case"OK":if(this.directionsDisplay.setDirections(t),void 0!==this.markerOptions){this.destroyMarkers();const n=t.routes[0].legs[0];try{void 0!==this.markerOptions.origin&&(this.markerOptions.origin.map=e,this.markerOptions.origin.position=n.start_location,this.originMarker=this.setMarker(e,this.originMarker,this.markerOptions.origin,n.start_address),this.markerOptions.origin.draggable&&this.originMarker.addListener("dragend",()=>{this.origin=this.originMarker.position,this.directionDraw(),this.originDrag.emit(this.origin)})),void 0!==this.markerOptions.destination&&(this.markerOptions.destination.map=e,this.markerOptions.destination.position=n.end_location,this.destinationMarker=this.setMarker(e,this.destinationMarker,this.markerOptions.destination,n.end_address),this.markerOptions.destination.draggable&&this.destinationMarker.addListener("dragend",()=>{this.destination=this.destinationMarker.position,this.directionDraw(),this.destinationDrag.emit(this.destination)})),void 0!==this.markerOptions.waypoints&&this.waypoints.forEach((t,r)=>{Array.isArray(this.markerOptions.waypoints)?(this.markerOptions.waypoints[r].map=e,this.markerOptions.waypoints[r].position=n.via_waypoints[r],this.waypointsMarker.push(this.setMarker(e,t,this.markerOptions.waypoints[r],n.via_waypoints[r]))):(this.markerOptions.waypoints.map=e,this.markerOptions.waypoints.position=n.via_waypoints[r],this.waypointsMarker.push(this.setMarker(e,t,this.markerOptions.waypoints,n.via_waypoints[r])))})}catch(r){console.error("MarkerOptions error.",r)}}}})})}setMarker(e,t,n,r){return void 0===this.infoWindow&&(this.infoWindow=new google.maps.InfoWindow({}),this.sendInfoWindow.emit(this.infoWindow)),(t=new google.maps.Marker(n)).clickable&&t.addListener("click",()=>{const i=void 0===n.infoWindow?r:n.infoWindow;this.infoWindow.setContent(i),this.infoWindow.open(e,t)}),t}removeMarkers(){void 0!==this.originMarker&&this.originMarker.setMap(null),void 0!==this.destinationMarker&&this.destinationMarker.setMap(null),this.waypointsMarker.forEach(e=>{void 0!==e&&e.setMap(null)})}removeDirections(){void 0!==this.directionsDisplay&&(this.directionsDisplay.setPanel(null),this.directionsDisplay.setMap(null),this.directionsDisplay=void 0)}destroyMarkers(){try{void 0!==this.originMarker&&(google.maps.event.clearListeners(this.originMarker,"click"),this.markerOptions.origin.draggable&&google.maps.event.clearListeners(this.originMarker,"dragend")),void 0!==this.destinationMarker&&(google.maps.event.clearListeners(this.destinationMarker,"click"),this.markerOptions.origin.draggable&&google.maps.event.clearListeners(this.destinationMarker,"dragend")),this.waypointsMarker.forEach(e=>{void 0!==e&&google.maps.event.clearListeners(e,"click")}),this.removeMarkers()}catch(e){console.error("Can not reset custom marker.",e)}}};var AQ;Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"origin",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"destination",void 0),Object(r.b)([fh(),Object(r.d)("design:type",String)],OQ.prototype,"travelMode",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"transitOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"drivingOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"waypoints",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],OQ.prototype,"optimizeWaypoints",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],OQ.prototype,"provideRouteAlternatives",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],OQ.prototype,"avoidHighways",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],OQ.prototype,"avoidTolls",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"renderOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"panel",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"markerOptions",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"infoWindow",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Boolean)],OQ.prototype,"visible",void 0),Object(r.b)([fh(),Object(r.d)("design:type",Object)],OQ.prototype,"renderRoute",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],OQ.prototype,"onChange",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],OQ.prototype,"onResponse",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],OQ.prototype,"sendInfoWindow",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],OQ.prototype,"status",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],OQ.prototype,"originDrag",void 0),Object(r.b)([gh(),Object(r.d)("design:type",ch)],OQ.prototype,"destinationDrag",void 0),OQ=Object(r.b)([dh({selector:"agm-direction"}),Object(r.d)("design:paramtypes",[_G])],OQ);let IQ=AQ=class{static forRoot(){return{ngModule:AQ}}static forChild(){return{ngModule:AQ}}};IQ=AQ=Object(r.b)([Ch({declarations:[OQ],exports:[OQ]})],IQ);class DQ{constructor(){}}DQ.decorators=[{type:oo,args:[{providedIn:"root"}]}],DQ.ctorParameters=()=>[],DQ.ngInjectableDef=ke({factory:function(){return new DQ},token:DQ,providedIn:"root"});class PQ{constructor(){this.config={},this.resetUpload=this.config.resetUpload,this.ApiResponse=new ch,this.idDate=+new Date,this.reg=/(?:\.([^.]+))?$/,this.selectedFiles=[],this.notAllowedList=[],this.Caption=[],this.singleFile=!0,this.progressBarShow=!1,this.uploadBtn=!1,this.uploadMsg=!1,this.afterUpload=!1,this.uploadClick=!0}ngOnChanges(e){if(e.config){this.theme=this.config.theme||"",this.id=this.config.id||parseInt((this.idDate/1e4).toString().split(".")[1])+1e4*Math.floor(20*Math.random()),this.hideProgressBar=this.config.hideProgressBar||!1,this.hideResetBtn=this.config.hideResetBtn||!1,this.hideSelectBtn=this.config.hideSelectBtn||!1,this.maxSize=this.config.maxSize||20,this.uploadAPI=this.config.uploadAPI.url,this.formatsAllowed=this.config.formatsAllowed||".jpg,.png,.pdf,.docx,.txt,.gif,.jpeg",this.multiple=this.config.multiple||!1,this.headers=this.config.uploadAPI.headers||{};let e={selectFileBtn:this.multiple?"Select Files":"Select File",resetBtn:"Reset",uploadBtn:"Upload",dragNDropBox:"Drag N Drop",attachPinBtn:this.multiple?"Attach Files...":"Attach File...",afterUploadMsg_success:"Successfully Uploaded !",afterUploadMsg_error:"Upload Failed !"};this.replaceTexts=Object.assign({},e),this.config.replaceTexts&&(this.replaceTexts=Object.assign({},e,this.config.replaceTexts))}e.resetUpload&&!0===e.resetUpload.currentValue&&this.resetFileUpload()}ngOnInit(){this.resetUpload=!1}resetFileUpload(){this.selectedFiles=[],this.Caption=[],this.notAllowedList=[],this.uploadMsg=!1,this.uploadBtn=!1}onChange(e){let t,n,r,i,s;this.notAllowedList=[],!this.afterUpload&&this.multiple||(this.selectedFiles=[],this.Caption=[],this.afterUpload=!1),t=this.formatsAllowed.match(new RegExp("\\.","g")),t=t.length,n="drop"==e.type?e.dataTransfer.files:e.target.files||e.srcElement.files;for(let o=0;o<n.length;o++){r=this.reg.exec(n[o].name),r=r[1],s=!1;for(let e=t;e>0;e--)i=this.formatsAllowed.split(".")[e],e==t&&(i=this.formatsAllowed.split(".")[e]+","),r.toLowerCase()==i.split(",")[0]&&(s=!0);s?n[o].size>1024e3*this.maxSize?this.notAllowedList.push({fileName:n[o].name,fileSize:this.convertSize(n[o].size),errorMsg:"Invalid size"}):this.selectedFiles.push(n[o]):this.notAllowedList.push({fileName:n[o].name,fileSize:this.convertSize(n[o].size),errorMsg:"Invalid format"})}0!==this.selectedFiles.length?(this.uploadBtn=!0,"attachPin"==this.theme&&this.uploadFiles()):this.uploadBtn=!1,this.uploadMsg=!1,this.uploadClick=!0,this.percentComplete=0,e.target.value=null}uploadFiles(){let e;this.progressBarShow=!0,this.uploadClick=!1,this.notAllowedList=[];let t=!1,n=new XMLHttpRequest,r=new FormData;for(e=0;e<this.selectedFiles.length;e++)null==this.Caption[e]&&(this.Caption[e]="file"+e),r.append(this.Caption[e],this.selectedFiles[e]);this.singleFile=!(e>1),n.onreadystatechange=e=>{4===n.readyState&&(200!==n.status&&201!==n.status&&(t=!0,this.progressBarShow=!1,this.uploadBtn=!1,this.uploadMsg=!0,this.afterUpload=!0,this.uploadMsgText=this.replaceTexts.afterUploadMsg_error,this.uploadMsgClass="text-danger lead"),this.ApiResponse.emit(n))},n.upload.onprogress=e=>{this.uploadBtn=!1,e.lengthComputable&&(this.percentComplete=Math.round(e.loaded/e.total*100))},n.onload=e=>{this.progressBarShow=!1,this.uploadBtn=!1,this.uploadMsg=!0,this.afterUpload=!0,t||(this.uploadMsgText=this.replaceTexts.afterUploadMsg_success,this.uploadMsgClass="text-success lead")},n.onerror=e=>{},n.open("POST",this.uploadAPI,!0);for(const i of Object.keys(this.headers))n.setRequestHeader(i,this.headers[i]);n.send(r)}removeFile(e,t){"sf"==t?(this.selectedFiles.splice(e,1),this.Caption.splice(e,1)):this.notAllowedList.splice(e,1),0==this.selectedFiles.length&&(this.uploadBtn=!1)}convertSize(e){return e<1024e3?(e/1024).toFixed(2)+" KB":(e/1024e3).toFixed(2)+" MB"}attachpinOnclick(){document.getElementById("sel"+this.id).click()}drop(e){e.stopPropagation(),e.preventDefault(),this.onChange(e)}allowDrop(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}}PQ.decorators=[{type:ph,args:[{selector:"angular-file-uploader",template:'<div class="container" *ngIf="(theme !== \'attachPin\')" id="default">\n\n    \x3c!-- Drag n Drop theme Starts --\x3e\n    <div *ngIf="theme == \'dragNDrop\'" id="dragNDrop" [ngClass]="(hideSelectBtn && hideResetBtn) ? null : \'dragNDropBtmPad\'" class="dragNDrop">\n        <div style="position:relative;">\n            <div id="div1" class="div1 afu-dragndrop-box" (drop)="drop($event)" (dragover)="allowDrop($event)">\n                <p class="afu-dragndrop-text">{{replaceTexts?.dragNDropBox}}</p>\n            </div>\n            \x3c!-- <span class=\'label label-info\' id="upload-file-info{{id}}">{{selectedFiles[0]?.name}}</span> --\x3e\n        </div>\n    </div>\n    \x3c!-- Drag n Drop theme Ends --\x3e\n\n    <label for="sel{{id}}" class="btn btn-primary btn-sm afu-select-btn" *ngIf="!hideSelectBtn">{{replaceTexts?.selectFileBtn}}</label>\n    <input type="file" id="sel{{id}}" style="display: none" *ngIf="!hideSelectBtn" (change)="onChange($event)" title="Select file"\n        name="files[]" [accept]=formatsAllowed [attr.multiple]="multiple ? \'\' : null" />\n    <button class="btn btn-info btn-sm resetBtn afu-reset-btn" (click)="resetFileUpload()" *ngIf="!hideResetBtn">{{replaceTexts?.resetBtn}}</button>\n    <br *ngIf="!hideSelectBtn">\n    <p class="constraints-info afu-constraints-info">({{formatsAllowed}}) Size limit- {{(convertSize(maxSize *1024000))}}</p>\n    \x3c!--Selected file list--\x3e\n    <div class="row afu-valid-file" *ngFor="let sf of selectedFiles;let i=index" >\n        <p class="col-xs-3 textOverflow"><span class="text-primary">{{sf.name}}</span></p>\n        <p class="col-xs-3 padMarg sizeC"><strong>({{convertSize(sf.size)}})</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\n        \x3c!--  <input class="col-xs-3 progress caption"  type="text"  placeholder="Caption.."  [(ngModel)]="Caption[i]"  *ngIf="uploadClick"/> --\x3e\n        <div class="progress col-xs-3 padMarg afu-progress-bar" *ngIf="singleFile && progressBarShow && !hideProgressBar">\n            <span class="progress-bar progress-bar-success" role="progressbar" [ngStyle]="{\'width\':percentComplete+\'%\'}">{{percentComplete}}%</span>\n        </div>\n        <a class="col-xs-1" role="button" (click)="removeFile(i,\'sf\')" *ngIf="uploadClick"><i class="fa fa-times"></i></a>\n    </div>\n    \x3c!--Invalid file list--\x3e\n    <div class="row text-danger afu-invalid-file" *ngFor="let na of notAllowedList;let j=index">\n        <p class="col-xs-3 textOverflow"><span>{{na[\'fileName\']}}</span></p>\n        <p class="col-xs-3 padMarg sizeC"><strong>({{na[\'fileSize\']}})</strong></p>\n        <p class="col-xs-3 ">{{na[\'errorMsg\']}}</p>\n        <a class="col-xs-1 delFileIcon" role="button" (click)="removeFile(j,\'na\')" *ngIf="uploadClick">&nbsp;<i class="fa fa-times"></i></a>\n    </div>\n\n    <p *ngIf="uploadMsg" class="{{uploadMsgClass}} + afu-upload-status">{{uploadMsgText}}<p>\n    <div *ngIf="!singleFile && progressBarShow && !hideProgressBar">\n        <div class="progress col-xs-4 padMarg afu-progress-bar">\n            <span class="progress-bar progress-bar-success" role="progressbar" [ngStyle]="{\'width\':percentComplete+\'%\'}">{{percentComplete}}%</span>\n        </div>\n        <br>\n        <br>\n    </div>\n    <button class="btn btn-success afu-upload-btn" type="button" (click)="uploadFiles()" [disabled]=!uploadBtn>{{replaceTexts?.uploadBtn}}</button>\n    <br>\n</div>\n\n\x3c!--/////////////////////////// ATTACH PIN THEME  //////////////////////////////////////////////////////////--\x3e\n<div *ngIf="theme == \'attachPin\'" id="attachPin">\n    <div style="position:relative;padding-left:6px">\n        <a class=\'btn up_btn afu-attach-pin\' (click)="attachpinOnclick()">\n          {{replaceTexts?.attachPinBtn}}\n            <i class="fa fa-paperclip" aria-hidden="true"></i>\n            \x3c!-- <p style="margin-top:10px">({{formatsAllowed}}) Size limit- {{(convertSize(maxSize * 1024000))}}</p> --\x3e\n            <input type="file" id="sel{{id}}" (change)="onChange($event)" style="display: none" title="Select file" name="files[]" [accept]=formatsAllowed\n                [attr.multiple]="multiple ? \'\' : null" />\n            <br>\n        </a>\n        &nbsp;\n        <span class=\'label label-info\' id="upload-file-info{{id}}">{{selectedFiles[0]?.name}}</span>\n    </div>\n</div>\n\n\x3c!--/////////////////////////// DRAG N DROP THEME  //////////////////////////////////////////////////////////--\x3e\n\x3c!-- <div *ngIf="theme == \'dragNDrop\'" id="dragNDrop">\n  <div style="position:relative;padding-left:6px">\n    <div id="div1" (drop)="drop($event)" (dragover)="allowDrop($event)">\n      <p>Drag N Drop</p>\n    </div>\n    <span class=\'label label-info\' id="upload-file-info{{id}}">{{selectedFiles[0]?.name}}</span>\n  </div>\n</div> --\x3e\n',styles:[".constraints-info{margin-top:10px;font-style:italic}.padMarg{padding:0;margin-bottom:0}.caption{margin-right:5px}.textOverflow{white-space:nowrap;padding-right:0;overflow:hidden;text-overflow:ellipsis}.up_btn{color:#000;background-color:transparent;border:2px solid #5c5b5b;border-radius:22px}.delFileIcon{text-decoration:none;color:#ce0909}.dragNDrop .div1{display:border-box;border:2px dashed #5c5b5b;height:6rem;width:20rem}.dragNDrop .div1>p{text-align:center;font-weight:700;color:#5c5b5b;margin-top:1.4em}.dragNDropBtmPad{padding-bottom:2rem}@media screen and (max-width:620px){.caption{padding:0}}@media screen and (max-width:510px){.sizeC{width:25%}}@media screen and (max-width:260px){.caption,.sizeC{font-size:10px}}.resetBtn{margin-left:3px}"]}]}],PQ.ctorParameters=()=>[],PQ.propDecorators={config:[{type:fh}],resetUpload:[{type:fh}],ApiResponse:[{type:gh}]};class NQ{}NQ.decorators=[{type:Ch,args:[{imports:[iO],declarations:[PQ],exports:[PQ]}]}];let RQ=class{constructor(){}ngOnInit(){}};r.b([fh()],RQ.prototype,"suspect",void 0),RQ=r.b([ph({selector:"app-suspect-details",template:r.c(n("Fq31")).default,styles:[r.c(n("eNa/")).default]})],RQ);let MQ=class{constructor(){}ngOnInit(){}};r.b([fh()],MQ.prototype,"person",void 0),MQ=r.b([ph({selector:"app-person-details",template:r.c(n("YLo9")).default,styles:[r.c(n("YVxG")).default]})],MQ);let FQ=class{constructor(){this.validImg=!0}ngOnInit(){}};r.b([fh()],FQ.prototype,"camera",void 0),FQ=r.b([ph({selector:"app-camera-details",template:r.c(n("jZTU")).default,styles:[r.c(n("ebMt")).default]})],FQ);let LQ=class{constructor(){}ngOnInit(){}};r.b([fh()],LQ.prototype,"server",void 0),LQ=r.b([ph({selector:"app-server-details",template:r.c(n("Io6l")).default,styles:[r.c(n("I5gy")).default]})],LQ);let jQ=0;class $Q{constructor(){this.id=`mat-error-${jQ++}`}}$Q.decorators=[{type:dh,args:[{selector:"mat-error",host:{class:"mat-error",role:"alert","[attr.id]":"id"}}]}],$Q.propDecorators={id:[{type:fh}]};const BQ={transitionMessages:mR("transitionMessages",[vR("enter",yR({opacity:1,transform:"translateY(0%)"})),_R("void => enter",[yR({opacity:0,transform:"translateY(-100%)"}),fR("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};class VQ{}function UQ(e){return Error(`A hint was already declared for 'align="${e}"'.`)}let zQ=0;class HQ{constructor(){this.align="start",this.id=`mat-hint-${zQ++}`}}HQ.decorators=[{type:dh,args:[{selector:"mat-hint",host:{class:"mat-hint","[class.mat-right]":'align == "end"',"[attr.id]":"id","[attr.align]":"null"}}]}],HQ.propDecorators={align:[{type:fh}],id:[{type:fh}]};class qQ{}qQ.decorators=[{type:dh,args:[{selector:"mat-label"}]}];class WQ{}WQ.decorators=[{type:dh,args:[{selector:"mat-placeholder"}]}];class GQ{}GQ.decorators=[{type:dh,args:[{selector:"[matPrefix]"}]}];class QQ{}QQ.decorators=[{type:dh,args:[{selector:"[matSuffix]"}]}];let KQ=0;const YQ=pB(class{constructor(e){this._elementRef=e}},"primary"),XQ=new Be("MAT_FORM_FIELD_DEFAULT_OPTIONS");class ZQ extends YQ{constructor(e,t,n,r,i,s,o,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new A,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${KQ++}`,this._labelId=`mat-form-field-label-${KQ++}`,this._previousDirection="ltr",this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=WM(e)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(xI(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(BF(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(BF(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),J(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xI(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xI(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(BF(this._destroyed)).subscribe(()=>{this.updateOutlineGap(),this._previousDirection=this._dir.value})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,xF(this._label.nativeElement,"transitionend").pipe(fI(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let e,t;this._hintChildren.forEach(n=>{if("start"===n.align){if(e||this.hintLabel)throw UQ("start");e=n}else if("end"===n.align){if(t)throw UQ("end");t=n}})}}_syncDescribedByIds(){if(this._control){let e=[];if("hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(e.children[0].getBoundingClientRect());let a=0;for(const t of e.children)a+=t.offsetWidth;t=o-s-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i.item(o).style.width=`${t}px`;for(let o=0;o<s.length;o++)s.item(o).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return"rtl"===this._previousDirection?e.right:e.left}}ZQ.decorators=[{type:ph,args:[{selector:"mat-form-field",exportAs:"matFormField",template:'<div class="mat-form-field-wrapper"><div class="mat-form-field-flex" #connectionContainer (click)="_control.onContainerClick && _control.onContainerClick($event)"><ng-container *ngIf="appearance == \'outline\'"><div class="mat-form-field-outline"><div class="mat-form-field-outline-start"></div><div class="mat-form-field-outline-gap"></div><div class="mat-form-field-outline-end"></div></div><div class="mat-form-field-outline mat-form-field-outline-thick"><div class="mat-form-field-outline-start"></div><div class="mat-form-field-outline-gap"></div><div class="mat-form-field-outline-end"></div></div></ng-container><div class="mat-form-field-prefix" *ngIf="_prefixChildren.length"><ng-content select="[matPrefix]"></ng-content></div><div class="mat-form-field-infix" #inputContainer><ng-content></ng-content><span class="mat-form-field-label-wrapper"><label class="mat-form-field-label" (cdkObserveContent)="updateOutlineGap()" [cdkObserveContentDisabled]="appearance != \'outline\'" [id]="_labelId" [attr.for]="_control.id" [attr.aria-owns]="_control.id" [class.mat-empty]="_control.empty && !_shouldAlwaysFloat" [class.mat-form-field-empty]="_control.empty && !_shouldAlwaysFloat" [class.mat-accent]="color == \'accent\'" [class.mat-warn]="color == \'warn\'" #label *ngIf="_hasFloatingLabel()" [ngSwitch]="_hasLabel()"><ng-container *ngSwitchCase="false"><ng-content select="mat-placeholder"></ng-content><span>{{_control.placeholder}}</span></ng-container><ng-content select="mat-label" *ngSwitchCase="true"></ng-content><span class="mat-placeholder-required mat-form-field-required-marker" aria-hidden="true" *ngIf="!hideRequiredMarker && _control.required && !_control.disabled">&#32;*</span></label></span></div><div class="mat-form-field-suffix" *ngIf="_suffixChildren.length"><ng-content select="[matSuffix]"></ng-content></div></div><div class="mat-form-field-underline" #underline *ngIf="appearance != \'outline\'"><span class="mat-form-field-ripple" [class.mat-accent]="color == \'accent\'" [class.mat-warn]="color == \'warn\'"></span></div><div class="mat-form-field-subscript-wrapper" [ngSwitch]="_getDisplayedMessages()"><div *ngSwitchCase="\'error\'" [@transitionMessages]="_subscriptAnimationState"><ng-content select="mat-error"></ng-content></div><div class="mat-form-field-hint-wrapper" *ngSwitchCase="\'hint\'" [@transitionMessages]="_subscriptAnimationState"><div *ngIf="hintLabel" [id]="_hintLabelId" class="mat-hint">{{hintLabel}}</div><ng-content select="mat-hint:not([align=\'end\'])"></ng-content><div class="mat-form-field-hint-spacer"></div><ng-content select="mat-hint[align=\'end\']"></ng-content></div></div></div>',styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none} .mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em} .mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px} .mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px} .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none} .mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],animations:[BQ.transitionMessages],host:{class:"mat-form-field","[class.mat-form-field-appearance-standard]":'appearance == "standard"',"[class.mat-form-field-appearance-fill]":'appearance == "fill"',"[class.mat-form-field-appearance-outline]":'appearance == "outline"',"[class.mat-form-field-appearance-legacy]":'appearance == "legacy"',"[class.mat-form-field-invalid]":"_control.errorState","[class.mat-form-field-can-float]":"_canLabelFloat","[class.mat-form-field-should-float]":"_shouldLabelFloat()","[class.mat-form-field-has-label]":"_hasFloatingLabel()","[class.mat-form-field-hide-placeholder]":"_hideControlPlaceholder()","[class.mat-form-field-disabled]":"_control.disabled","[class.mat-form-field-autofilled]":"_control.autofilled","[class.mat-focused]":"_control.focused","[class.mat-accent]":'color == "accent"',"[class.mat-warn]":'color == "warn"',"[class.ng-untouched]":'_shouldForward("untouched")',"[class.ng-touched]":'_shouldForward("touched")',"[class.ng-pristine]":'_shouldForward("pristine")',"[class.ng-dirty]":'_shouldForward("dirty")',"[class.ng-valid]":'_shouldForward("valid")',"[class.ng-invalid]":'_shouldForward("invalid")',"[class.ng-pending]":'_shouldForward("pending")',"[class._mat-animation-noopable]":"!_animationsEnabled"},inputs:["color"],encapsulation:ht.None,changeDetection:lt.OnPush}]}],ZQ.ctorParameters=()=>[{type:ka},{type:qs},{type:void 0,decorators:[{type:ve},{type:ye,args:[YB]}]},{type:CF,decorators:[{type:ve}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[XQ]}]},{type:LM},{type:eu},{type:String,decorators:[{type:ve},{type:ye,args:[nB]}]}],ZQ.propDecorators={appearance:[{type:fh}],hideRequiredMarker:[{type:fh}],hintLabel:[{type:fh}],floatLabel:[{type:fh}],underlineRef:[{type:Ho,args:["underline",{static:!1}]}],_connectionContainerRef:[{type:Ho,args:["connectionContainer",{static:!0}]}],_inputContainerRef:[{type:Ho,args:["inputContainer",{static:!1}]}],_label:[{type:Ho,args:["label",{static:!1}]}],_controlNonStatic:[{type:zo,args:[VQ,{static:!1}]}],_controlStatic:[{type:zo,args:[VQ,{static:!0}]}],_labelChildNonStatic:[{type:zo,args:[qQ,{static:!1}]}],_labelChildStatic:[{type:zo,args:[qQ,{static:!0}]}],_placeholderChild:[{type:zo,args:[WQ,{static:!1}]}],_errorChildren:[{type:Uo,args:[$Q]}],_hintChildren:[{type:Uo,args:[HQ]}],_prefixChildren:[{type:Uo,args:[GQ]}],_suffixChildren:[{type:Uo,args:[QQ]}]};class JQ{}JQ.decorators=[{type:Ch,args:[{declarations:[$Q,ZQ,HQ,qQ,WQ,GQ,QQ],imports:[iO,eF],exports:[$Q,ZQ,HQ,qQ,WQ,GQ,QQ]}]}];const eK=pB((tK=dB(class{constructor(e){this._elementRef=e}}),class extends tK{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=WM(e)}}),"primary");var tK;class nK{}nK.decorators=[{type:dh,args:[{selector:"mat-chip-avatar, [matChipAvatar]",host:{class:"mat-chip-avatar"}}]}];class rK{}rK.decorators=[{type:dh,args:[{selector:"mat-chip-trailing-icon, [matChipTrailingIcon]",host:{class:"mat-chip-trailing-icon"}}]}];class iK extends eK{constructor(e,t,n,r,i,s){super(e),this._elementRef=e,this._ngZone=t,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._selected=!1,this._selectable=!0,this._removable=!0,this._onFocus=new A,this._onBlur=new A,this.selectionChange=new ch,this.destroyed=new ch,this.removed=new ch,this._addHostClassName(),this._chipRipple=new LB(this,t,e,n),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=r||{},this._animationsDisabled="NoopAnimations"===i}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const t=WM(e);t!==this._selected&&(this._selected=t,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=WM(e)}get removable(){return this._removable}set removable(e){this._removable=WM(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e=this._elementRef.nativeElement;e.hasAttribute("mat-basic-chip")||"mat-basic-chip"===e.tagName.toLowerCase()?e.classList.add("mat-basic-chip"):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled?e.preventDefault():e.stopPropagation()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(fI(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}iK.decorators=[{type:dh,args:[{selector:"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]",inputs:["color","disabled","disableRipple"],exportAs:"matChip",host:{class:"mat-chip","[attr.tabindex]":"disabled ? null : -1",role:"option","[class.mat-chip-selected]":"selected","[class.mat-chip-with-avatar]":"avatar","[class.mat-chip-with-trailing-icon]":"trailingIcon || removeIcon","[class.mat-chip-disabled]":"disabled","[class._mat-animation-noopable]":"_animationsDisabled","[attr.disabled]":"disabled || null","[attr.aria-disabled]":"disabled.toString()","[attr.aria-selected]":"ariaSelected","(click)":"_handleClick($event)","(keydown)":"_handleKeydown($event)","(focus)":"focus()","(blur)":"_blur()"}}]}],iK.ctorParameters=()=>[{type:ka},{type:eu},{type:LM},{type:void 0,decorators:[{type:ve},{type:ye,args:[jB]}]},{type:String,decorators:[{type:ve},{type:ye,args:[nB]}]},{type:qs}],iK.propDecorators={avatar:[{type:zo,args:[nK,{static:!1}]}],trailingIcon:[{type:zo,args:[rK,{static:!1}]}],removeIcon:[{type:zo,args:[Pe(()=>sK),{static:!1}]}],selected:[{type:fh}],value:[{type:fh}],selectable:[{type:fh}],removable:[{type:fh}],selectionChange:[{type:gh}],destroyed:[{type:gh}],removed:[{type:gh}]};class sK{constructor(e){this._parentChip=e}_handleClick(e){const t=this._parentChip;t.removable&&!t.disabled&&t.remove(),e.stopPropagation()}}sK.decorators=[{type:dh,args:[{selector:"[matChipRemove]",host:{class:"mat-chip-remove mat-chip-trailing-icon","(click)":"_handleClick($event)"}}]}],sK.ctorParameters=()=>[{type:iK}];const oK=new Be("mat-chips-default-options");const aK=mB(class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}});let lK=0;class cK{constructor(e,t){this.source=e,this.value=t}}class hK extends aK{constructor(e,t,n,r,i,s,o){super(s,r,i,o),this._elementRef=e,this._changeDetectorRef=t,this._dir=n,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new A,this._uid=`mat-chip-list-${lK++}`,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(e,t)=>e===t,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new ch,this.valueChange=new ch,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=WM(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(e){this._required=WM(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=WM(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=WM(e),this.chips&&this.chips.forEach(e=>e.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return J(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return J(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return J(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return J(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new aF(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(BF(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(BF(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(xI(null),BF(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new rL(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const t=e.target;8===e.keyCode&&this._isInputEmpty(t)?(this._keyManager.setLastItemActive(),e.preventDefault()):t&&t.classList.contains("mat-chip")&&(36===e.keyCode?(this._keyManager.setFirstItemActive(),e.preventDefault()):35===e.keyCode?(this._keyManager.setLastItemActive(),e.preventDefault()):this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_isInputEmpty(e){if(e&&"input"===e.nodeName.toLowerCase()){return!e.value}return!1}_setSelectionByValue(e,t=!0){if(this._clearSelection(),this.chips.forEach(e=>e.deselect()),Array.isArray(e))e.forEach(e=>this._selectValue(e,t)),this._sortValues();else{const n=this._selectValue(e,t);n&&t&&this._keyManager.setActiveItem(n)}}_selectValue(e,t=!0){const n=this.chips.find(t=>null!=t.value&&this._compareWith(t.value,e));return n&&(t?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(t=>{t!==e&&t.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let t=null;t=Array.isArray(this.selected)?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.change.emit(new cK(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(e=>{!this._selectionModel.isSelected(e)&&e.selected&&e.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let t=this.chips.toArray().indexOf(e.chip);this._isValidIndex(t)&&this._keyManager.updateActiveItemIndex(t),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const t=e.chip,n=this.chips.toArray().indexOf(e.chip);this._isValidIndex(n)&&t._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(e){let t=e.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-chip"))return!0;t=t.parentElement}return!1}_hasFocusedChip(){return this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e.disabled=this._disabled,e._chipListMultiple=this.multiple})}}hK.decorators=[{type:ph,args:[{selector:"mat-chip-list",template:'<div class="mat-chip-list-wrapper"><ng-content></ng-content></div>',exportAs:"matChipList",host:{"[attr.tabindex]":"disabled ? null : _tabIndex","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-required]":"required.toString()","[attr.aria-disabled]":"disabled.toString()","[attr.aria-invalid]":"errorState","[attr.aria-multiselectable]":"multiple","[attr.role]":"role","[class.mat-chip-list-disabled]":"disabled","[class.mat-chip-list-invalid]":"errorState","[class.mat-chip-list-required]":"required","[attr.aria-orientation]":"ariaOrientation",class:"mat-chip-list","(focus)":"focus()","(blur)":"_blur()","(keydown)":"_keydown($event)","[id]":"_uid"},providers:[{provide:VQ,useExisting:hK}],styles:[".mat-chip{position:relative;overflow:hidden;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:'';pointer-events:none;transition:opacity .2s cubic-bezier(.35,0,.25,1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:0}.mat-standard-chip:focus::after{opacity:.16}@media (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}.mat-standard-chip:focus{outline:dotted 2px}}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}"],encapsulation:ht.None,changeDetection:lt.OnPush}]}],hK.ctorParameters=()=>[{type:ka},{type:qs},{type:CF,decorators:[{type:ve}]},{type:Tz,decorators:[{type:ve}]},{type:Uz,decorators:[{type:ve}]},{type:TB},{type:CU,decorators:[{type:ve},{type:_e}]}],hK.propDecorators={errorStateMatcher:[{type:fh}],multiple:[{type:fh}],compareWith:[{type:fh}],value:[{type:fh}],required:[{type:fh}],placeholder:[{type:fh}],disabled:[{type:fh}],ariaOrientation:[{type:fh,args:["aria-orientation"]}],selectable:[{type:fh}],tabIndex:[{type:fh}],change:[{type:gh}],valueChange:[{type:gh}],chips:[{type:Uo,args:[iK,{descendants:!0}]}]};let uK=0;class dK{constructor(e,t){this._elementRef=e,this._defaultOptions=t,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new ch,this.placeholder="",this.id=`mat-chip-list-input-${uK++}`,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=WM(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=WM(e)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(e){e&&9===e.keyCode&&!xM(e,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(e){!this._inputElement.value&&e&&this._chipList._keydown(e),e&&!this._isSeparatorKey(e)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),e&&e.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this._inputElement.focus(e)}_isSeparatorKey(e){if(xM(e))return!1;const t=this.separatorKeyCodes,n=e.keyCode;return Array.isArray(t)?t.indexOf(n)>-1:t.has(n)}}dK.decorators=[{type:dh,args:[{selector:"input[matChipInputFor]",exportAs:"matChipInput, matChipInputFor",host:{class:"mat-chip-input mat-input-element","(keydown)":"_keydown($event)","(blur)":"_blur()","(focus)":"_focus()","(input)":"_onInput()","[id]":"id","[attr.disabled]":"disabled || null","[attr.placeholder]":"placeholder || null","[attr.aria-invalid]":"_chipList && _chipList.ngControl ? _chipList.ngControl.invalid : null"}}]}],dK.ctorParameters=()=>[{type:ka},{type:void 0,decorators:[{type:ye,args:[oK]}]}],dK.propDecorators={chipList:[{type:fh,args:["matChipInputFor"]}],addOnBlur:[{type:fh,args:["matChipInputAddOnBlur"]}],separatorKeyCodes:[{type:fh,args:["matChipInputSeparatorKeyCodes"]}],chipEnd:[{type:gh,args:["matChipInputTokenEnd"]}],placeholder:[{type:fh}],id:[{type:fh}],disabled:[{type:fh}]};const pK=[hK,iK,dK,sK,nK,rK],mK={separatorKeyCodes:[13]};class fK{}fK.decorators=[{type:Ch,args:[{exports:pK,declarations:pK,providers:[TB,{provide:oK,useValue:mK}]}]}];const gK=UM({passive:!0});class yK{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return LA;const t=YM(e),n=this._monitoredElements.get(t);if(n)return n.subject.asObservable();const r=new A,i="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,gK),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",s,gK)}}),r.asObservable()}stopMonitoring(e){const t=YM(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}yK.decorators=[{type:oo,args:[{providedIn:"root"}]}],yK.ctorParameters=()=>[{type:LM},{type:eu}],yK.ngInjectableDef=xe({factory:function(){return new yK(Ye(LM),Ye(eu))},token:yK,providedIn:"root"});class vK{constructor(e,t){this._elementRef=e,this._autofillMonitor=t,this.cdkAutofill=new ch}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(e=>this.cdkAutofill.emit(e))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}vK.decorators=[{type:dh,args:[{selector:"[cdkAutofill]"}]}],vK.ctorParameters=()=>[{type:ka},{type:yK}],vK.propDecorators={cdkAutofill:[{type:gh}]};class _K{constructor(e,t,n){this._elementRef=e,this._platform=t,this._ngZone=n,this._destroyed=new A,this._enabled=!0,this._previousMinRows=-1,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=e,this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=e,this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=WM(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{xF(window,"resize").pipe($F(16),BF(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,this._textareaElement.parentNode.removeChild(e),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const t=this._elementRef.nativeElement,n=t.value;if(!e&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const r=t.placeholder;t.classList.add("cdk-textarea-autosize-measuring"),t.placeholder="";const i=t.scrollHeight-4;t.style.height=`${i}px`,t.classList.remove("cdk-textarea-autosize-measuring"),t.placeholder=r,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(t)):setTimeout(()=>this._scrollToCaretPosition(t))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_scrollToCaretPosition(e){const{selectionStart:t,selectionEnd:n}=e;this._destroyed.isStopped||document.activeElement!==e||e.setSelectionRange(t,n)}}_K.decorators=[{type:dh,args:[{selector:"textarea[cdkTextareaAutosize]",exportAs:"cdkTextareaAutosize",host:{class:"cdk-textarea-autosize",rows:"1","(input)":"_noopInputHandler()"}}]}],_K.ctorParameters=()=>[{type:ka},{type:LM},{type:eu}],_K.propDecorators={minRows:[{type:fh,args:["cdkAutosizeMinRows"]}],maxRows:[{type:fh,args:["cdkAutosizeMaxRows"]}],enabled:[{type:fh,args:["cdkTextareaAutosize"]}]};class bK{}bK.decorators=[{type:Ch,args:[{declarations:[vK,_K],imports:[jM],exports:[vK,_K]}]}];class wK extends _K{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(e){this.minRows=e}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(e){this.maxRows=e}get matAutosize(){return this.enabled}set matAutosize(e){this.enabled=e}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(e){this.enabled=e}}wK.decorators=[{type:dh,args:[{selector:"textarea[mat-autosize], textarea[matTextareaAutosize]",exportAs:"matTextareaAutosize",inputs:["cdkAutosizeMinRows","cdkAutosizeMaxRows"],host:{class:"cdk-textarea-autosize mat-autosize",rows:"1","(input)":"_noopInputHandler()"}}]}],wK.propDecorators={matAutosizeMinRows:[{type:fh}],matAutosizeMaxRows:[{type:fh}],matAutosize:[{type:fh,args:["mat-autosize"]}],matTextareaAutosize:[{type:fh}]};const CK=new Be("MAT_INPUT_VALUE_ACCESSOR"),EK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let SK=0;const xK=mB(class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}});class kK extends xK{constructor(e,t,n,r,i,s,o,a,l){super(s,r,i,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${SK++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new A,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>BM().has(e));const c=this._elementRef.nativeElement;this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=WM(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=WM(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea()&&BM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=WM(e)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){if(EK.indexOf(this._type)>-1)throw e=this._type,Error(`Input type "${e}" isn't supported by matInput.`);var e}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focused||this.focus()}}kK.decorators=[{type:dh,args:[{selector:"input[matInput], textarea[matInput], select[matNativeControl],\n      input[matNativeControl], textarea[matNativeControl]",exportAs:"matInput",host:{class:"mat-input-element mat-form-field-autofill-control","[class.mat-input-server]":"_isServer","[attr.id]":"id","[attr.placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","[attr.readonly]":"readonly && !_isNativeSelect || null","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-invalid]":"errorState","[attr.aria-required]":"required.toString()","(blur)":"_focusChanged(false)","(focus)":"_focusChanged(true)","(input)":"_onInput()"},providers:[{provide:VQ,useExisting:kK}]}]}],kK.ctorParameters=()=>[{type:ka},{type:LM},{type:CU,decorators:[{type:ve},{type:_e}]},{type:Tz,decorators:[{type:ve}]},{type:Uz,decorators:[{type:ve}]},{type:TB},{type:void 0,decorators:[{type:ve},{type:_e},{type:ye,args:[CK]}]},{type:yK},{type:eu}],kK.propDecorators={disabled:[{type:fh}],id:[{type:fh}],placeholder:[{type:fh}],required:[{type:fh}],type:[{type:fh}],errorStateMatcher:[{type:fh}],value:[{type:fh}],readonly:[{type:fh}]};class TK{}function OK(e){return Error(`Unable to find icon with the name "${e}"`)}function AK(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${e}".`)}function IK(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${e}".`)}TK.decorators=[{type:Ch,args:[{declarations:[kK,wK],imports:[iO,bK,JQ],exports:[bK,JQ,kK,wK],providers:[TB]}]}];class DK{constructor(e,t){this.options=t,e.nodeName?this.svgElement=e:this.url=e}}class PK{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new DK(n,r))}addSvgIconLiteralInNamespace(e,t,n,r){const i=this._sanitizer.sanitize(vi.HTML,n);if(!i)throw IK(n);const s=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(e,t,new DK(s,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new DK(t,n))}addSvgIconSetLiteralInNamespace(e,t,n){const r=this._sanitizer.sanitize(vi.HTML,t);if(!r)throw IK(t);const i=this._svgElementFromString(r);return this._addSvgIconSetConfig(e,new DK(i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(vi.RESOURCE_URL,e);if(!t)throw AK(e);const n=this._cachedIconsByUrl.get(t);return n?BA(NK(n)):this._loadSvgIconFromConfig(new DK(e)).pipe(rI(e=>this._cachedIconsByUrl.set(t,e)),z(e=>NK(e)))}getNamedSvgIcon(e,t=""){const n=RK(t,e),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):WF(OK(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgElement?BA(NK(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(rI(t=>e.svgElement=t),z(e=>NK(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?BA(n):uU(t.filter(e=>!e.svgElement).map(e=>this._loadSvgIconSetFromConfig(e).pipe(dI(t=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(vi.RESOURCE_URL,e.url)} failed: ${t.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),BA(null)})))).pipe(z(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw OK(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgElement){const t=this._extractSvgIconFromSet(r.svgElement,e,r.options);if(t)return t}}return null}_loadSvgIconFromConfig(e){return this._fetchUrl(e.url).pipe(z(t=>this._createSvgElementForSingleIcon(t,e.options)))}_loadSvgIconSetFromConfig(e){return e.svgElement?BA(e.svgElement):this._fetchUrl(e.url).pipe(z(t=>(e.svgElement||(e.svgElement=this._svgElementFromString(t)),e.svgElement)))}_createSvgElementForSingleIcon(e,t){const n=this._svgElementFromString(e);return this._setSvgAttributes(n,t),n}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchUrl(e){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==e)throw Error(`Cannot fetch icon from URL "${e}".`);const t=this._sanitizer.sanitize(vi.RESOURCE_URL,e);if(!t)throw AK(e);const n=this._inProgressUrlFetches.get(t);if(n)return n;const r=this._httpClient.get(t,{responseType:"text"}).pipe(II(()=>this._inProgressUrlFetches.delete(t)),ce());return this._inProgressUrlFetches.set(t,r),r}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(RK(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}}PK.decorators=[{type:oo,args:[{providedIn:"root"}]}],PK.ctorParameters=()=>[{type:HN,decorators:[{type:ve}]},{type:lA},{type:void 0,decorators:[{type:ve},{type:ye,args:[oO]}]},{type:Vr,decorators:[{type:ve}]}],PK.ngInjectableDef=xe({factory:function(){return new PK(Ye(HN,8),Ye(lA),Ye(oO,8),Ye(Vr,8))},token:PK,providedIn:"root"});new ve,new be,new ve,new ve,new ve;function NK(e){return e.cloneNode(!0)}function RK(e,t){return e+":"+t}const MK=pB(class{constructor(e){this._elementRef=e}}),FK=new Be("mat-icon-location",{providedIn:"root",factory:function(){const e=Xe(oO),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});const LK=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jK=LK.map(e=>`[${e}]`).join(", "),$K=/^url\(['"]?#(.*?)['"]?\)$/;class BK extends MK{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=WM(e)}get fontSet(){return this._fontSet}set fontSet(e){this._fontSet=this._cleanupFontValue(e)}get fontIcon(){return this._fontIcon}set fontIcon(e){this._fontIcon=this._cleanupFontValue(e)}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnChanges(e){const t=e.svgIcon;if(t)if(this.svgIcon){const[e,t]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(t,e).pipe(fI(1)).subscribe(e=>this._setSvgElement(e),n=>{const r=`Error retrieving icon ${e}:${t}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(r)):console.error(r)})}else t.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&this._location&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let n=0;n<t.length;n++)t[n].textContent+=" ";if(this._location){const t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t)}this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(jK),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)LK.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match($K):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}}BK.decorators=[{type:ph,args:[{template:"<ng-content></ng-content>",selector:"mat-icon",exportAs:"matIcon",styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],inputs:["color"],host:{role:"img",class:"mat-icon notranslate","[class.mat-icon-inline]":"inline","[class.mat-icon-no-color]":'color !== "primary" && color !== "accent" && color !== "warn"'},encapsulation:ht.None,changeDetection:lt.OnPush}]}],BK.ctorParameters=()=>[{type:ka},{type:PK},{type:String,decorators:[{type:Ce,args:["aria-hidden"]}]},{type:void 0,decorators:[{type:ve},{type:ye,args:[FK]}]},{type:Vr,decorators:[{type:ve}]}],BK.propDecorators={inline:[{type:fh}],svgIcon:[{type:fh}],fontSet:[{type:fh}],fontIcon:[{type:fh}]};class VK{}VK.decorators=[{type:Ch,args:[{imports:[uB],exports:[BK,uB],declarations:[BK]}]}];const UK={provide:pU,useExisting:Pe(()=>qK),multi:!0};class zK{}const HK=function(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:t}}}(pB(dB(class{constructor(e){this._elementRef=e}}),"accent"));class qK extends HK{constructor(e,t,n,r,i,s){super(e),this._focusMonitor=t,this._changeDetectorRef=n,this._dir=r,this._animationMode=s,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new ch,this.input=new ch,this.valueChange=new ch,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=p.EMPTY,this.tabIndex=parseInt(i)||0}get invert(){return this._invert}set invert(e){this._invert=WM(e)}get max(){return this._max}set max(e){this._max=GM(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=GM(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=GM(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=WM(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?GM(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let t=GM(e);this._roundToDecimal&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=WM(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const e=this.vertical?"Y":"X",t=this.vertical?`1, ${1-this.percent}, 1`:`${1-this.percent}, 1, 1`;return{transform:`translate${e}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const e=this.vertical?"Y":"X",t=this.vertical?`1, ${this.percent}, 1`:`${this.percent}, 1, 1`;return{transform:`translate${e}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${t})`}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let e=100*this._tickIntervalPercent,t={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){t[`padding${this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left"}`]=`${this._thumbGap}px`}return t}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onMousedown(e){if(this.disabled||0!==e.button)return;const t=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:e.clientX,y:e.clientY}),t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}_onSlide(e){if(this.disabled)return;this._isSliding||this._onSlideStart(null),e.preventDefault();let t=this.value;this._updateValueFromPosition({x:e.center.x,y:e.center.y}),t!=this.value&&this._emitInputEvent()}_onSlideStart(e){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,e&&(this._updateValueFromPosition({x:e.center.x,y:e.center.y}),e.preventDefault()))}_onSlideEnd(){this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=null}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||xM(e))return;const t=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}_onKeyup(){this._isSliding=!1}_increment(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let t=this.vertical?this._sliderDimensions.top:this._sliderDimensions.left,n=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,r=this.vertical?e.y:e.x,i=this._clamp((r-t)/n);if(this._shouldInvertMouseCoords()&&(i=1-i),0===i)this.value=this.min;else if(1===i)this.value=this.max;else{const e=this._calculateValue(i),t=Math.round((e-this.min)/this.step)*this.step+this.min;this.value=this._clamp(t,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=e*this.step/(this.max-this.min),n=Math.ceil(30/t)*this.step;this._tickIntervalPercent=n/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(e=this.value){let t=new zK;return t.source=this,t.value=e,t}_calculatePercentage(e){return((e||0)-this.min)/(this.max-this.min)}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,t=0,n=1){return Math.max(t,Math.min(e,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}qK.decorators=[{type:ph,args:[{selector:"mat-slider",exportAs:"matSlider",providers:[UK],host:{"(focus)":"_onFocus()","(blur)":"_onBlur()","(mousedown)":"_onMousedown($event)","(keydown)":"_onKeydown($event)","(keyup)":"_onKeyup()","(mouseenter)":"_onMouseenter()","(slide)":"_onSlide($event)","(slideend)":"_onSlideEnd()","(slidestart)":"_onSlideStart($event)","(selectstart)":"$event.preventDefault()",class:"mat-slider",role:"slider","[tabIndex]":"tabIndex","[attr.aria-disabled]":"disabled","[attr.aria-valuemax]":"max","[attr.aria-valuemin]":"min","[attr.aria-valuenow]":"value","[attr.aria-orientation]":'vertical ? "vertical" : "horizontal"',"[class.mat-slider-disabled]":"disabled","[class.mat-slider-has-ticks]":"tickInterval","[class.mat-slider-horizontal]":"!vertical","[class.mat-slider-axis-inverted]":"_invertAxis","[class.mat-slider-invert-mouse-coords]":"_shouldInvertMouseCoords()","[class.mat-slider-sliding]":"_isSliding","[class.mat-slider-thumb-label-showing]":"thumbLabel","[class.mat-slider-vertical]":"vertical","[class.mat-slider-min-value]":"_isMinValue","[class.mat-slider-hide-last-tick]":"disabled || _isMinValue && _thumbGap && _invertAxis","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"'},template:'<div class="mat-slider-wrapper" #sliderWrapper><div class="mat-slider-track-wrapper"><div class="mat-slider-track-background" [ngStyle]="_trackBackgroundStyles"></div><div class="mat-slider-track-fill" [ngStyle]="_trackFillStyles"></div></div><div class="mat-slider-ticks-container" [ngStyle]="_ticksContainerStyles"><div class="mat-slider-ticks" [ngStyle]="_ticksStyles"></div></div><div class="mat-slider-thumb-container" [ngStyle]="_thumbContainerStyles"><div class="mat-slider-focus-ring"></div><div class="mat-slider-thumb"></div><div class="mat-slider-thumb-label"><span class="mat-slider-thumb-label-text">{{displayValue}}</span></div></div></div>',styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider.mat-slider-sliding:not(.mat-slider-disabled),.mat-slider:not(.mat-slider-disabled):active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}@media (-ms-high-contrast:active){.mat-slider-thumb-label{outline:solid 1px}}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}@media (-ms-high-contrast:active){.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],inputs:["disabled","color","tabIndex"],encapsulation:ht.None,changeDetection:lt.OnPush}]}],qK.ctorParameters=()=>[{type:ka},{type:_F},{type:qs},{type:CF,decorators:[{type:ve}]},{type:String,decorators:[{type:Ce,args:["tabindex"]}]},{type:String,decorators:[{type:ve},{type:ye,args:[nB]}]}],qK.propDecorators={invert:[{type:fh}],max:[{type:fh}],min:[{type:fh}],step:[{type:fh}],thumbLabel:[{type:fh}],tickInterval:[{type:fh}],value:[{type:fh}],displayWith:[{type:fh}],vertical:[{type:fh}],change:[{type:gh}],input:[{type:gh}],valueChange:[{type:gh}],_sliderWrapper:[{type:Ho,args:["sliderWrapper",{static:!1}]}]};class WK{}WK.decorators=[{type:Ch,args:[{imports:[iO,uB],exports:[qK,uB],declarations:[qK],providers:[{provide:tA,useClass:DB}]}]}];let GK=class{constructor(){this.change=new ch,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[13,188],this.generateOutput=()=>{console.log("Generating output"),this.change.emit(this.items)}}add(e){const t=e.input,n=e.value;(n||"").trim()&&this.items.push(n.trim()),t&&(t.value=""),this.generateOutput()}remove(e){const t=this.items.indexOf(e);console.log(this.items,t,e),t>=0&&this.items.splice(t,1),this.generateOutput()}ngOnInit(){}};r.b([gh()],GK.prototype,"change",void 0),r.b([fh()],GK.prototype,"items",void 0),GK=r.b([ph({selector:"app-chipper",template:r.c(n("GpOR")).default,styles:[r.c(n("z1BM")).default]})],GK);let QK=class{constructor(e){this.sanitizer=e,this.personAdded=new ch,this.person={fullName:null,gender:null,picture_url:null},this.addPerson=()=>{let e=!0;Object.keys(this.person).forEach(t=>{null==this.person[t]&&(e=!1)}),e?(this.toaster.info("Adding person"),this.uploader.uploadAll()):this.toaster.err("Please enter all the details!")}}ngOnInit(){this.uploader=new lM({url:this.url,method:"POST",itemAlias:"picture"}),this.uploader.response.subscribe(e=>{try{if(console.log(e),(e=JSON.parse(e)).err)this.toaster.err(e.err.message);else if(e.succ||!e.err){this.toaster.succ(e.succ);let t=e.person;this.personAdded.emit(t)}}catch(t){this.toaster.err(t)}},e=>{this.toaster.err(e)},()=>{}),this.uploader.onBuildItemForm=(e,t)=>{t.append("person",JSON.stringify(this.person))}}personPictureSelected(e){console.log(e),e.length>0?this.person.picture_url=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[0])):this.person.picture_url=null}pictureChanged(e){console.log(e)}};QK.ctorParameters=()=>[{type:lA}],r.b([gh()],QK.prototype,"personAdded",void 0),r.b([fh()],QK.prototype,"toaster",void 0),r.b([fh()],QK.prototype,"url",void 0),QK=r.b([ph({selector:"app-add-person",template:r.c(n("3PxP")).default,styles:[r.c(n("Nw0I")).default]})],QK);new IN({"Content-Type":"application/json"});let KK=class{constructor(e){this.http=e}search(e){return this.http.get("https://darts-web-server.herokuapp.com/map/search/"+e)}};KK.ctorParameters=()=>[{type:HN}],KK=r.b([oo({providedIn:"root"})],KK);let YK=class{constructor(e,t){this.mapService=e,this.toaster=t,this.latitude=33.651592,this.longitude=73.156456,this.zoom=16,this.locationSelected=new ch,this.query="",this.results=[],this.search=()=>{this.toaster.info("Searching for locations"),this.mapService.search(this.query).subscribe(e=>{e.err?this.toaster.err(e.err):e.locations.results.length>0?this.results=e.locations.results:this.toaster.err("No location found!")},e=>{this.toaster.err(e)})},this.selectLocation=e=>{if(console.log(e,this.results),e<this.results.length){let t={latitude:this.results[e].geometry.lat,longitude:this.results[e].geometry.lng};this.locationSelected.emit(t),this.latitude=t.latitude,this.longitude=t.longitude,this.results=[]}else this.toaster.err("Invalid selection!")},this.choseThisLocation=e=>{console.log(e);let t={latitude:e.coords.lat,longitude:e.coords.lng};this.locationSelected.emit(t),this.results=[],this.latitude=t.latitude,this.longitude=t.longitude}}ngOnInit(){}};YK.ctorParameters=()=>[{type:KK},{type:qR}],r.b([fh()],YK.prototype,"latitude",void 0),r.b([fh()],YK.prototype,"longitude",void 0),r.b([fh()],YK.prototype,"zoom",void 0),r.b([gh()],YK.prototype,"locationSelected",void 0),YK=r.b([ph({selector:"app-map-with-search",template:r.c(n("s27a")).default,styles:[r.c(n("6cBd")).default]})],YK);let XK=class{constructor(e,t){this.adminService=e,this.toaster=t,this.brightness=.5,this.sharpness=1,this.denoise=0,this.updateCameraPreprocessingValues=()=>{this.toaster.info("Updating Camera's Preprocessing values");let e={brightness:this.brightness,sharpness:this.sharpness,denoise:this.denoise};this.adminService.updateCameraPreprocessingValues(this.cameraId,e).subscribe(e=>{e.err?this.toaster.err(e.err):(e.pre.brightness&&(this.brightness=e.pre.brightness),e.pre.sharpness&&(this.sharpness=e.pre.sharpness),e.pre.denoise&&(this.denoise=e.pre.denoise),this.toaster.succ("Done updating the preprocessing values!"))},e=>{this.toaster.err(e)})}}ngOnInit(){this.loadCameraPreprocessingValues()}loadCameraPreprocessingValues(){this.toaster.info("Loading Camera's Preprocessing values"),this.adminService.getCameraPreprocessingValues(this.cameraId).subscribe(e=>{e.err?this.toaster.err(e):(e.pre.brightness&&(this.brightness=e.pre.brightness),e.pre.sharpness&&(this.sharpness=e.pre.sharpness),e.pre.denoise&&(this.denoise=e.pre.denoise),this.toaster.succ("Done loading the preprocessing values!"))},e=>{this.toaster.err(e)})}};XK.ctorParameters=()=>[{type:dR},{type:qR}],r.b([fh()],XK.prototype,"cameraId",void 0),XK=r.b([ph({selector:"app-adjust-preprocessing",template:r.c(n("KQCo")).default,styles:[r.c(n("50aJ")).default]})],XK);let ZK=class{};ZK=r.b([Ch({declarations:[hU,WR,GR,QR,KR,YR,XR,ZR,nM,rM,iM,yV,vV,_V,bV,wV,CV,iU,sU,oU,RQ,MQ,aU,FQ,LQ,GK,gV,QK,YK,XK],imports:[_A,cU,pH,cR,uM,NQ,wH.forRoot({url:"http://localhost:5000",options:{}}),TQ.forRoot({apiKey:"AIzaSyBtc_hk_Aamj-hBDpD2s0OyrzEBgbp4KeI"}),IQ,hG.forRoot(),BV.initializeApp({apiKey:"AIzaSyBtc_hk_Aamj-hBDpD2s0OyrzEBgbp4KeI",authDomain:"fypqrf-b3259.firebaseapp.com",databaseURL:"https://fypqrf-b3259.firebaseio.com",projectId:"fypqrf-b3259",storageBucket:"fypqrf-b3259.appspot.com",messagingSenderId:"571613899436",appId:"1:571613899436:web:48a1be034b95c3d3cf4d09"},"fypqrf-b3259"),nU,iO,oB,$R.forRoot({timeOut:2e3,progressBar:!0,progressAnimation:"decreasing",positionClass:"toast-bottom-right"}),JQ,fK,TK,VK,fV,WK],providers:[{provide:tA,useClass:DB}],bootstrap:[hU],entryComponents:[gV]})],ZK);n("yLV6");(function(){if(zr)throw new Error("Cannot enable prod mode after platform setup.");Ur=!1})(),FA().bootstrapModule(ZK).catch(e=>console.error(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,h=s>>2,u=(3&s)<<4|a>>4,d=(15&a)<<2|c>>6,p=63&c;l||(p=64,o||(d=64)),r.push(n[h],n[u],n[d],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();var c=s<<2|o>>4;if(r.push(c),64!==a){var h=o<<4&240|a>>2;if(r.push(h),64!==l){var u=a<<6&192|l;r.push(u)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=h(e[n],t[n]));return e}var u=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var m=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return r.__extends(t,e),t}(Error),f=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?g(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new m(i,a),c=0,h=Object.keys(r);c<h.length;c++){var u=h[c];"_"!==u.slice(-1)&&(u in l&&console.warn('Overwriting FirebaseError base field "'+u+'" can cause unexpected behavior.'),l[u]=r[u])}return l},e}();function g(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var _=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=v(c(s[0])||""),n=v(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};var b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var s,o,a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(s=h^l&(c^h),o=1518500249):(s=l^c^h,o=1859775393):r<60?(s=l&c|h&(l|c),o=2400959708):(s=l^c^h,o=3395469782);i=(a<<5|a>>>27)+s+u+o+n[r]&4294967295;u=h,h=c,c=4294967295&(l<<30|l>>>2),l=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=u,t.ErrorFactory=f,t.FirebaseError=m,t.Sha1=b,t.assert=s,t.assertionError=o,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=l,t.base64Decode=c,t.base64Encode=function(e){var t=a(e);return l.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=_,t.deepCopy=function(e){return h(void 0,e)},t.deepExtend=h,t.errorPrefix=E,t.getUA=d,t.isAdmin=function(e){var t=_(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return d().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=p,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return d().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=_(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=_(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,1]]]);